(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{166:(e,r,t)=>{"use strict";t.r(r),t.d(r,{LinearizePDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(55092);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(!0),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(p(e),S(null),y(null),F(null))},[]),L=(0,a.useCallback)(e=>{S(e)},[]),I=(0,a.useCallback)(()=>{p([]),y(null),S(null),x("idle"),v(0),F(null)},[]),R=(0,a.useCallback)(e=>{p(r=>r.filter((r,t)=>t!==e))},[]),z=(0,a.useCallback)(async()=>{if(0===h.length)return void S("Please select at least one PDF file to linearize.");A.current=!1,x("processing"),v(0),S(null),y(null),F(null);let e={useObjectStreams:E,addDefaultPage:!1};try{let t;if(t=1===h.length?await (0,u.ec)(h[0],e,(e,r)=>{A.current||(v(e),w(r||""))}):await (0,u.nf)(h,e,(e,r)=>{A.current||(v(e),w(r||""))}),A.current)return void x("idle");if(t.success&&t.result)y(t.result),N(t.filename||"linearized.pdf"),x("complete"),t.metadata&&F({originalSize:t.metadata.originalSize,linearizedSize:t.metadata.linearizedSize,pageCount:t.metadata.pageCount||t.metadata.totalPages,filesProcessed:t.metadata.filesProcessed});else{var r;S((null==(r=t.error)?void 0:r.message)||"Failed to linearize PDF file."),x("error")}}catch(e){A.current||(S(e instanceof Error?e.message:"An unexpected error occurred."),x("error"))}},[h,E]),T=(0,a.useCallback)(()=>{A.current=!0,x("idle"),v(0)},[]),M=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),_="processing"===g,G=h.length>0&&!_;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:10,onFilesSelected:O,onError:L,disabled:_,label:m("linearizePdf.uploadLabel")||"Upload PDF Files",description:m("linearizePdf.uploadDescription")||"Drag and drop PDF files here, or click to browse. You can select multiple files."}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[m("linearizePdf.selectedFiles")||"Selected Files"," (",h.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:I,disabled:_,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:h.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-[var(--radius-sm)] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:M(e.size)})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>R(r),disabled:_,children:t("buttons.remove")||"Remove"})]},"".concat(e.name,"-").concat(r)))})]}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("linearizePdf.optionsTitle")||"Linearization Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:m("linearizePdf.info")||"Linearization optimizes PDFs for fast web viewing. The first page will display before the entire file is downloaded, improving user experience for web-hosted documents."})}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:E,onChange:e=>D(e.target.checked),disabled:_,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:m("linearizePdf.useObjectStreams")||"Use object streams for better compression"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:m("linearizePdf.useObjectStreamsDesc")||"Recommended for smaller file sizes. Disable for maximum compatibility with older PDF readers."})]})]})})]})]}),_&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:T,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:z,disabled:!G,loading:_,children:_?t("status.processing")||"Processing...":m("linearizePdf.linearizeButton")||"Linearize PDF"}),j&&(0,s.jsx)(n.f,{file:j,filename:P,variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&j&&C&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:m("linearizePdf.successMessage")||"PDF linearized successfully!"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[C.filesProcessed&&C.filesProcessed>1&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-600",children:m("linearizePdf.filesProcessed")||"Files:"}),(0,s.jsx)("span",{className:"ml-1 font-medium",children:C.filesProcessed})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-600",children:m("linearizePdf.pages")||"Pages:"}),(0,s.jsx)("span",{className:"ml-1 font-medium",children:C.pageCount})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-600",children:m("linearizePdf.originalSize")||"Original:"}),(0,s.jsx)("span",{className:"ml-1 font-medium",children:M(C.originalSize)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-600",children:m("linearizePdf.optimizedSize")||"Optimized:"}),(0,s.jsx)("span",{className:"ml-1 font-medium",children:M(C.linearizedSize)})]})]})]})]})}let h=m},283:(e,r,t)=>{"use strict";t.d(r,{InvertColorsTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(72398);function m(e){let{className:r=""}=e,t=(0,l.c)("tools.invertColors"),m=(0,l.c)("common.buttons"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),P=(0,a.useRef)(!1),N=(0,a.useCallback)(async()=>{if(h){P.current=!1,x("processing"),v(0),y(null),w(null);try{let r=await (0,u.Nu)(h,{pages:"all"},e=>{P.current||v(e)});if(r.success&&r.result)w(r.result),x("complete");else{var e;y((null==(e=r.error)?void 0:e.message)||"Failed."),x("error")}}catch(e){y(e instanceof Error?e.message:"Error"),x("error")}}},[h]),k="processing"===g;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!h&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:e=>{e.length>0&&(p(e[0]),y(null),w(null))},onError:y,disabled:k,label:t("uploadLabel"),description:t("uploadDescription")}),j&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:j})}),h&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:h.name}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{p(null),w(null)},disabled:k,children:m("remove")})]})}),k&&(0,s.jsx)(i.r,{progress:f,status:g,onCancel:()=>{P.current=!0,x("idle")},showPercentage:!0}),h&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:N,disabled:!h||k,loading:k,children:k?m("process")+"...":t("invertButton")}),b&&(0,s.jsx)(n.f,{file:b,filename:h.name.replace(".pdf","_inverted.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&b&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:t("successMessage")})})]})}},829:(e,r,t)=>{"use strict";t.d(r,{BackgroundColorTool:()=>u});var s=t(95155),a=t(12115),l=t(5113),o=t(64537),i=t(35437),n=t(31166),c=t(47972),d=t(14781);function u(e){let{className:r=""}=e,[t,u]=(0,a.useState)(null),[m,h]=(0,a.useState)("idle"),[p,g]=(0,a.useState)(0),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[w,j]=(0,a.useState)("#fffde7"),y=(0,a.useRef)(!1),P=(0,a.useCallback)(async()=>{if(t){y.current=!1,h("processing"),g(0),b(null),f(null);try{let r=await (0,d.xn)(t,{color:(e=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:1,g:1,b:.9}})(w),pages:"all"},e=>{y.current||g(e)});if(r.success&&r.result)f(r.result),h("complete");else{var e;b((null==(e=r.error)?void 0:e.message)||"Failed."),h("error")}}catch(e){b(e instanceof Error?e.message:"Error"),h("error")}}},[t,w]),N="processing"===m;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!t&&(0,s.jsx)(l.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:e=>{e.length>0&&(u(e[0]),b(null),f(null))},onError:b,disabled:N,label:"Upload PDF File",description:"Drag and drop a PDF file here."}),v&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:v})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{u(null),f(null)},disabled:N,children:"Remove"})]})}),(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Background Color"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("input",{type:"color",value:w,onChange:e=>j(e.target.value),className:"w-16 h-10 border rounded cursor-pointer",disabled:N}),(0,s.jsx)("input",{type:"text",value:w,onChange:e=>j(e.target.value),className:"px-3 py-2 border rounded w-32",disabled:N})]})]})]}),N&&(0,s.jsx)(o.r,{progress:p,status:m,onCancel:()=>{y.current=!0,h("idle")},showPercentage:!0}),t&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:P,disabled:!t||N,loading:N,children:N?"Processing...":"Add Background"}),x&&(0,s.jsx)(i.f,{file:x,filename:t.name.replace(".pdf","_background.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===m&&x&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:"Background color added!"})})]})}},1132:(e,r,t)=>{"use strict";t.r(r),t.d(r,{WordToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(89715),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(90636);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload a Word document.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.Ch)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||f("errors.conversionFailed")||"Failed to convert Word to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:f("errors.unexpectedError")||"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".docx",".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("wordToPdf.uploadLabel")||"Upload Word Document",description:v("wordToPdf.uploadDescription")||"Drag and drop a Word document here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:[(0,s.jsx)(n.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"sr-only",children:f("buttons.remove")||"Remove"})]})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("wordToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.docx?$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("wordToPdf.successMessage")||"Your Word document has been converted to PDF. You can now download it."})]})]})}let v=f},2960:(e,r,t)=>{"use strict";t.r(r),t.d(r,{TextToPDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(5421);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)("upload"),[g,x]=(0,a.useState)(""),[f,v]=(0,a.useState)([]),[b,w]=(0,a.useState)("idle"),[j,y]=(0,a.useState)(0),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(""),[A,O]=(0,a.useState)("A4"),[L,I]=(0,a.useState)(595),[R,z]=(0,a.useState)(842),[T,M]=(0,a.useState)("portrait"),[_,G]=(0,a.useState)("helvetica"),[B,U]=(0,a.useState)(12),[W,V]=(0,a.useState)(1.5),[$,H]=(0,a.useState)("#000000"),[Z,q]=(0,a.useState)(!0),[K,Y]=(0,a.useState)(!0),J=(0,a.useRef)(!1),X=(0,a.useCallback)(async e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,11)),file:e,status:"pending"}));if(v(e=>[...e,...r]),F(null),S(null),e.length>0)try{let r=await e[0].text();D(r.slice(0,2e3)+(r.length>2e3?"...":""))}catch(e){D("")}},[]),Q=(0,a.useCallback)(e=>F(e),[]),ee=(0,a.useCallback)(e=>{v(r=>r.filter(r=>r.id!==e)),S(null),D("")},[]),er=(0,a.useCallback)(()=>{v([]),x(""),S(null),F(null),w("idle"),y(0),D("")},[]),et=(0,a.useCallback)(async()=>{let e=f.length>=1,r="text"===h&&g.trim().length>0;if(!e&&!r)return void F("text"===h?m("txtToPdf.noTextError")||"Please enter some text to convert.":m("txtToPdf.noFilesError")||"Please add at least 1 text file.");J.current=!1,w("processing"),y(0),F(null),S(null);let t={pageSize:A,customWidth:"CUSTOM"===A?L:void 0,customHeight:"CUSTOM"===A?R:void 0,orientation:T,fontId:_,fontSize:B,lineHeight:W,textColor:(0,u.E2)($),preserveLineBreaks:Z,wrapLines:K,directText:"text"===h?g:void 0};try{let e=await (0,u.jW)("upload"===h?f.map(e=>e.file):[],t,(e,r)=>{J.current||(y(e),N(r||""))});if(J.current)return void w("idle");if(e.success&&e.result)S(e.result),w("complete");else{var s;F((null==(s=e.error)?void 0:s.message)||"Failed to convert text to PDF."),w("error")}}catch(e){J.current||(F(e instanceof Error?e.message:"An unexpected error occurred."),w("error"))}},[f,h,g,A,L,R,T,_,B,W,$,Z,K,m]),es=(0,a.useCallback)(()=>{J.current=!0,w("idle"),y(0)},[]),ea="processing"===b||"uploading"===b,el=("upload"===h?f.length>=1:g.trim().length>0)&&!ea;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>p("upload"),className:"px-4 py-2 rounded-[var(--radius-md)] text-sm font-medium transition-colors ".concat("upload"===h?"bg-[hsl(var(--color-primary))] text-white":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]"),children:m("txtToPdf.modeUpload")||"Upload Files"}),(0,s.jsx)("button",{type:"button",onClick:()=>p("text"),className:"px-4 py-2 rounded-[var(--radius-md)] text-sm font-medium transition-colors ".concat("text"===h?"bg-[hsl(var(--color-primary))] text-white":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]"),children:m("txtToPdf.modeText")||"Enter Text"})]}),"upload"===h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.l,{accept:["text/plain",".txt"],multiple:!0,maxFiles:10,onFilesSelected:X,onError:Q,disabled:ea,label:m("txtToPdf.uploadLabel")||"Upload Text Files",description:m("txtToPdf.uploadDescription")||"Drag and drop text files here, or click to browse."}),f.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium",children:[m("txtToPdf.filesTitle")||"Text Files"," (",f.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:er,disabled:ea,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:f.map(e=>{var r;return(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-blue-500 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=e.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]}),(0,s.jsx)("button",{type:"button",onClick:()=>ee(e.id),disabled:ea,className:"flex-shrink-0 p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600 disabled:opacity-30",children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id)})}),E&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium mb-2",children:m("txtToPdf.preview")||"Preview"}),(0,s.jsx)("pre",{className:"p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted)/0.3)] text-xs font-mono overflow-auto max-h-48 whitespace-pre-wrap",children:E})]})]})]}),"text"===h&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:m("txtToPdf.enterText")||"Enter Text"}),(0,s.jsx)("textarea",{value:g,onChange:e=>x(e.target.value),placeholder:m("txtToPdf.textPlaceholder")||"Type or paste your text here...",disabled:ea,className:"w-full h-64 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))] resize-y"}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-2",children:[g.length," ",m("txtToPdf.characters")||"characters"]})]}),C&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:C})}),(f.length>=1||"text"===h&&g.length>0)&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:m("txtToPdf.optionsTitle")||"PDF Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.pageSize")||"Page Size"}),(0,s.jsxs)("select",{value:A,onChange:e=>O(e.target.value),disabled:ea,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"LETTER",children:"Letter"}),(0,s.jsx)("option",{value:"LEGAL",children:"Legal"}),(0,s.jsx)("option",{value:"A5",children:"A5"}),(0,s.jsx)("option",{value:"A3",children:"A3"}),(0,s.jsx)("option",{value:"CUSTOM",children:m("txtToPdf.custom")||"Custom"})]})]}),"CUSTOM"===A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.width")||"Width (pt)"}),(0,s.jsx)("input",{type:"number",value:L,onChange:e=>I(Number(e.target.value)),disabled:ea,min:72,max:2e3,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.height")||"Height (pt)"}),(0,s.jsx)("input",{type:"number",value:R,onChange:e=>z(Number(e.target.value)),disabled:ea,min:72,max:2e3,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.orientation")||"Orientation"}),(0,s.jsxs)("select",{value:T,onChange:e=>M(e.target.value),disabled:ea,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm",children:[(0,s.jsx)("option",{value:"portrait",children:m("txtToPdf.portrait")||"Portrait"}),(0,s.jsx)("option",{value:"landscape",children:m("txtToPdf.landscape")||"Landscape"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.fontFamily")||"Font Family"}),(0,s.jsx)("select",{value:_,onChange:e=>G(e.target.value),disabled:ea,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm",children:u.HV.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.fontSize")||"Font Size"}),(0,s.jsx)("select",{value:B,onChange:e=>U(Number(e.target.value)),disabled:ea,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm",children:[8,10,11,12,14,16,18,20,24].map(e=>(0,s.jsxs)("option",{value:e,children:[e,"pt"]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.lineHeight")||"Line Spacing"}),(0,s.jsxs)("select",{value:W,onChange:e=>V(Number(e.target.value)),disabled:ea,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm",children:[(0,s.jsx)("option",{value:"1",children:m("txtToPdf.single")||"Single"}),(0,s.jsx)("option",{value:"1.15",children:"1.15"}),(0,s.jsx)("option",{value:"1.5",children:"1.5"}),(0,s.jsx)("option",{value:"2",children:m("txtToPdf.double")||"Double"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:m("txtToPdf.textColor")||"Text Color"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"color",value:$,onChange:e=>H(e.target.value),disabled:ea,className:"w-10 h-10 rounded border cursor-pointer"}),(0,s.jsx)("input",{type:"text",value:$,onChange:e=>H(e.target.value),disabled:ea,className:"flex-1 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:Z,onChange:e=>q(e.target.checked),disabled:ea,className:"w-4 h-4 rounded"}),(0,s.jsx)("span",{className:"text-sm",children:m("txtToPdf.preserveLineBreaks")||"Preserve line breaks"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:K,onChange:e=>Y(e.target.checked),disabled:ea,className:"w-4 h-4 rounded"}),(0,s.jsx)("span",{className:"text-sm",children:m("txtToPdf.wrapLines")||"Wrap long lines"})]})]})]}),ea&&(0,s.jsx)(i.r,{progress:j,status:b,message:P,onCancel:es,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:et,disabled:!el,loading:ea,children:ea?t("status.processing")||"Processing...":m("txtToPdf.convertButton")||"Convert to PDF"}),k&&(0,s.jsx)(n.f,{file:k,filename:"text"===h?"from_text.pdf":1===f.length?"".concat(f[0].file.name.replace(/\.[^/.]+$/,""),".pdf"):"text_".concat(f.length,"_files.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===b&&k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("txtToPdf.successMessage")||"Text converted to PDF successfully!"})})]})}let h=m},4864:(e,r,t)=>{"use strict";t.r(r),t.d(r,{MOBIToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(47937),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(14239);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload a MOBI file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.Pf)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||"Failed to convert MOBI to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".mobi",".azw",".azw3","application/x-mobipocket-ebook"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("mobiToPdf.uploadLabel")||"Upload MOBI File",description:v("mobiToPdf.uploadDescription")||"Drag and drop a MOBI e-book file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("mobiToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.(mobi|azw|azw3)$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("mobiToPdf.successMessage")||"Your MOBI file has been converted to PDF."})]})]})}let v=f},5113:(e,r,t)=>{"use strict";t.d(r,{l:()=>n});var s=t(95155),a=t(12115),l=t(18955),o=t(61654),i=t(6191);let n=e=>{let{accept:r=["application/pdf"],multiple:t=!1,maxSize:n=1/0,maxFiles:c=10,onFilesSelected:d,onError:u,className:m="",disabled:h=!1,label:p,description:g}=e,x=(0,l.c)("common"),f=(0,l.c)("errors"),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)(0),y=(0,a.useRef)(null),P=(0,a.useRef)(null),N=r.join(","),k=(0,a.useCallback)(e=>{let s=[],a=[];if(!t&&e.length>1)return a.push("Only one file can be uploaded at a time."),{valid:[e[0]],errors:a};for(let t of(e.length>c&&(a.push("Maximum ".concat(c," files allowed.")),e=e.slice(0,c)),e)){if(n!==1/0&&t.size>n){let e=Math.round(n/1048576);a.push(f("fileTooLarge",{maxSize:e}));continue}let e=r.some(e=>{if("*/*"===e||"*"===e)return!0;if(e.startsWith("."))return t.name.toLowerCase().endsWith(e.toLowerCase());if(e.endsWith("/*")){let r=e.slice(0,-2);return t.type.startsWith(r)}return t.type===e}),l=t.name.toLowerCase().endsWith(".pdf"),o=r.includes("application/pdf");if(!e&&!(o&&l)){a.push(f("fileTypeInvalid",{acceptedTypes:r.join(", ")}));continue}s.push(t)}return{valid:s,errors:a}},[r,n,c,t,f]),S=(0,a.useCallback)(e=>{if(h)return;let r=Array.from(e);if(0===r.length)return;let{valid:t,errors:s}=k(r);s.length>0&&u&&u(s[0]),t.length>0&&d(t)},[h,k,u,d]),C=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),!h&&(j(e=>e+1),e.dataTransfer.items&&e.dataTransfer.items.length>0&&b(!0))},[h]),F=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),j(e=>{let r=e-1;return 0===r&&b(!1),r})},[]),E=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),D=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),b(!1),j(0),h||S(e.dataTransfer.files)},[h,S]),A=(0,a.useCallback)(e=>{let r=e.target.files;r&&S(r),e.target.value=""},[S]),O=(0,a.useCallback)(()=>{var e;h||null==(e=y.current)||e.click()},[h]),L=(0,a.useCallback)(e=>{if(!h&&("Enter"===e.key||" "===e.key)){var r;e.preventDefault(),null==(r=y.current)||r.click()}},[h]);(0,a.useEffect)(()=>{let e=e=>{var r;if(h)return;let t=null==(r=e.clipboardData)?void 0:r.items;if(!t)return;let s=[];for(let e=0;e<t.length;e++){let r=t[e];if("file"===r.kind){let e=r.getAsFile();e&&s.push(e)}}s.length>0&&(e.preventDefault(),S(s))};return document.addEventListener("paste",e),()=>{document.removeEventListener("paste",e)}},[h,S]);let I=h?"border-[hsl(var(--color-muted))] bg-[hsl(var(--color-muted)/0.3)] cursor-not-allowed opacity-50":v?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.05)] scale-[1.01] shadow-2xl shadow-primary/10":"\n      border-[hsl(var(--color-border))] \n      bg-[hsl(var(--color-card)/0.5)] \n      hover:border-[hsl(var(--color-primary))] \n      hover:bg-[hsl(var(--color-background))] \n      hover:shadow-xl hover:shadow-[hsl(var(--color-primary)/0.05)]\n      glass-card\n    ";return(0,s.jsxs)("div",{ref:P,role:"button",tabIndex:h?-1:0,"aria-label":p||x("buttons.upload"),"aria-disabled":h,className:"".concat("\n    relative flex flex-col items-center justify-center\n    w-full min-h-[250px] p-10\n    border-2 border-dashed\n    rounded-[2rem]\n    transition-all duration-300\n    cursor-pointer\n    group\n  "," ").concat(I," ").concat(m).trim(),onClick:O,onKeyDown:L,onDragEnter:C,onDragLeave:F,onDragOver:E,onDrop:D,children:[(0,s.jsx)("input",{ref:y,type:"file",accept:N,multiple:t,onChange:A,className:"hidden","aria-hidden":"true",disabled:h}),(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-[2rem] pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-[hsl(var(--color-primary)/0.03)] rounded-full blur-3xl"})}),(0,s.jsx)("div",{className:"\n        mb-6 p-4 rounded-full transition-transform duration-300 group-hover:scale-110\n        ".concat(v?"bg-[hsl(var(--color-primary)/0.1)] text-[hsl(var(--color-primary))]":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))] group-hover:bg-[hsl(var(--color-primary)/0.1)] group-hover:text-[hsl(var(--color-primary))]","\n      "),children:(0,s.jsx)(o.A,{className:"w-10 h-10","aria-hidden":"true"})}),(0,s.jsx)("p",{className:"text-xl font-semibold text-[hsl(var(--color-foreground))] mb-3 text-center",children:p||x("buttons.upload")}),(0,s.jsx)("div",{className:"text-sm text-[hsl(var(--color-muted-foreground))] text-center max-w-sm leading-relaxed",children:g||(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"mb-2",children:"Drag and drop files here, or click to browse"}),(0,s.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-[hsl(var(--color-muted)/0.5)] text-xs font-medium",children:[(0,s.jsx)("span",{className:"opacity-70",children:"Support:"}),(0,s.jsx)("span",{children:"Paste (Ctrl+V)"})]})]})}),t&&(0,s.jsx)("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-md bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))]",children:["Files: ",c]})}),v&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-[hsl(var(--color-background)/0.9)] backdrop-blur-sm rounded-[2rem] z-10 transition-opacity duration-200",children:[(0,s.jsx)("div",{className:"p-4 rounded-full bg-[hsl(var(--color-primary)/0.1)] text-[hsl(var(--color-primary))] mb-4 animate-bounce",children:(0,s.jsx)(i.A,{className:"w-8 h-8"})}),(0,s.jsx)("p",{className:"text-xl font-bold text-[hsl(var(--color-primary))]",children:"Drop files to upload"})]})]})}},5421:(e,r,t)=>{"use strict";t.d(r,{E2:()=>g,HV:()=>i,jW:()=>f});var s=t(78752),a=t(18365),l=t(32096);let o={A4:{width:595.28,height:841.89},LETTER:{width:612,height:792},LEGAL:{width:612,height:1008},A5:{width:419.53,height:595.28},A3:{width:841.89,height:1190.55},CUSTOM:{width:595.28,height:841.89}},i=[{id:"helvetica",name:"Helvetica (Sans-serif)",type:"standard"},{id:"times",name:"Times (Serif)",type:"standard"},{id:"courier",name:"Courier (Monospace)",type:"standard"},{id:"noto-sans",name:"Noto Sans (Latin/Cyrillic)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-fonts/main/hinted/ttf/NotoSans/NotoSans-Regular.ttf"},{id:"noto-sans-sc",name:"Noto Sans SC (简体中文)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-cjk/main/Sans/OTF/SimplifiedChinese/NotoSansCJKsc-Regular.otf"},{id:"noto-sans-tc",name:"Noto Sans TC (繁體中文)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-cjk/main/Sans/OTF/TraditionalChinese/NotoSansCJKtc-Regular.otf"},{id:"noto-sans-jp",name:"Noto Sans JP (日本語)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-cjk/main/Sans/OTF/Japanese/NotoSansCJKjp-Regular.otf"},{id:"noto-sans-kr",name:"Noto Sans KR (한국어)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-cjk/main/Sans/OTF/Korean/NotoSansCJKkr-Regular.otf"},{id:"noto-sans-arabic",name:"Noto Sans Arabic (العربية)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-fonts/main/hinted/ttf/NotoSansArabic/NotoSansArabic-Regular.ttf"},{id:"noto-sans-hebrew",name:"Noto Sans Hebrew (עברית)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-fonts/main/hinted/ttf/NotoSansHebrew/NotoSansHebrew-Regular.ttf"},{id:"noto-sans-thai",name:"Noto Sans Thai (ไทย)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-fonts/main/hinted/ttf/NotoSansThai/NotoSansThai-Regular.ttf"},{id:"noto-sans-devanagari",name:"Noto Sans Devanagari (हिन्दी)",type:"noto",url:"https://raw.githack.com/googlefonts/noto-fonts/main/unhinted/ttf/NotoSansDevanagari/NotoSansDevanagari-Regular.ttf"}],n={pageSize:"A4",orientation:"portrait",fontId:"helvetica",fontSize:12,lineHeight:1.5,textColor:{r:0,g:0,b:0},margin:{top:72,right:72,bottom:72,left:72},preserveLineBreaks:!0,wrapLines:!0},c=new Map,d="fonts";async function u(){return new Promise((e,r)=>{let t=indexedDB.open("pdfcraft-fonts",1);t.onerror=()=>r(t.error),t.onsuccess=()=>e(t.result),t.onupgradeneeded=e=>{let r=e.target.result;r.objectStoreNames.contains(d)||r.createObjectStore(d)}})}async function m(e){try{let r=await u();return new Promise((t,s)=>{let a=r.transaction(d,"readonly").objectStore(d).get(e);a.onsuccess=()=>t(a.result||null),a.onerror=()=>s(a.error)})}catch(e){return null}}async function h(e,r){try{let t=await u();return new Promise((s,a)=>{let l=t.transaction(d,"readwrite").objectStore(d).put(r,e);l.onsuccess=()=>s(),l.onerror=()=>a(l.error)})}catch(e){}}async function p(e,r){if(c.has(e))return c.get(e);let t=await m(e);if(t)return c.set(e,t),t;let s=await fetch(r);if(!s.ok)throw Error("Failed to load font: ".concat(e));let a=await s.arrayBuffer();return c.set(e,a),await h(e,a),a}function g(e){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:0,g:0,b:0}}class x extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:a,options:o}=e,c={...n,...o},d=c.directText&&c.directText.trim().length>0;if(a.length<1&&!d)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least 1 text file or direct text input is required.","Received ".concat(a.length," file(s) and no direct text."));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Reading text...");let o="";if(d)o=c.directText;else for(let e of a){let r=await e.text();o+=r+"\n\n"}this.updateProgress(20,"Loading font...");let n=await r.PDFDocument.create(),u=i.find(e=>e.id===c.fontId)||i[0];if("standard"===u.type){let t={helvetica:"Helvetica",times:"TimesRoman",courier:"Courier"}[u.id]||"Helvetica";e=await n.embedFont(r.StandardFonts[t])}else{let r=await t.e(897).then(t.bind(t,16625));n.registerFontkit(r.default||r),this.updateProgress(30,"Downloading font...");let s=await p(u.id,u.url);this.updateProgress(40,"Embedding font..."),e=await n.embedFont(s,{subset:!1})}this.updateProgress(50,"Creating PDF pages..."),await this.createPdfFromText(n,o,c,e,r),this.updateProgress(90,"Saving PDF...");let m=await n.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let g=d?"from_text.pdf":this.generateOutputFilename(a);return this.createSuccessOutput(h,g,{pageCount:n.getPageCount(),fileCount:d?0:a.length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert text to PDF.",e instanceof Error?e.message:"Unknown error")}}async createPdfFromText(e,r,t,s,a){let l,i;if("CUSTOM"===t.pageSize&&t.customWidth&&t.customHeight)l=t.customWidth,i=t.customHeight;else{let e=o[t.pageSize]||o.A4;l=e.width,i=e.height}"landscape"===t.orientation&&([l,i]=[i,l]);let n=t.margin,c=t.fontSize,d=c*t.lineHeight,u=t.textColor,m=l-n.left-n.right,h=e.addPage([l,i]),p=i-n.top;for(let t of r.split("\n")){if(""===t.trim()){(p-=d)<n.bottom&&(h=e.addPage([l,i]),p=i-n.top);continue}let r=t.split(" "),o="";for(let t of r){let r;if(!t)continue;let g=o?"".concat(o," ").concat(t):t;try{r=s.widthOfTextAtSize(g,c)}catch(e){continue}if(r>m&&o){try{h.drawText(o,{x:n.left,y:p,size:c,font:s,color:a.rgb(u.r,u.g,u.b)})}catch(e){}(p-=d)<n.bottom&&(h=e.addPage([l,i]),p=i-n.top),o=t}else o=g}if(o){try{h.drawText(o,{x:n.left,y:p,size:c,font:s,color:a.rgb(u.r,u.g,u.b)})}catch(e){}(p-=d)<n.bottom&&(h=e.addPage([l,i]),p=i-n.top)}}}generateOutputFilename(e){if(1===e.length){let r=e[0].name.replace(/\.[^/.]+$/,"");return"".concat(r,".pdf")}return"text_".concat(e.length,"_files.pdf")}getAcceptedTypes(){return["text/plain",".txt"]}}async function f(e,r,t){return new x().process({files:e,options:r||{}},t)}},5691:(e,r,t)=>{"use strict";t.d(r,{Nz:()=>c,q0:()=>u,uT:()=>d});var s=t(78752),a=t(18365);let l={attachmentLevel:"document"};class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...l,...a};if(t.length<2)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide a PDF file and at least one file to attach.","Received ".concat(t.length," file(s)."));let i=t[0],n=t.slice(1);if(!i.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"The first file must be a PDF.","Received: ".concat(i.name));try{this.updateProgress(5,"Loading PDF file...");let e=await i.arrayBuffer();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(20,"Loading attachment files...");let r=[],t=[];for(let e=0;e<n.length;e++){let s=n[e],a=await s.arrayBuffer();r.push(a),t.push(s.name),this.updateProgress(20+30*(e+1)/n.length,"Loading attachment ".concat(e+1," of ").concat(n.length,"..."))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50,"Adding attachments to PDF...");let a=await this.processWithWorker(e,r,t,o);if(!a.success)return this.createErrorOutput(s.GS.PROCESSING_FAILED,a.error||"Failed to add attachments to PDF.");this.updateProgress(100,"Complete!");let l=i.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(a.blob,"".concat(l,"_with_attachments.pdf"),{attachmentCount:n.length,attachmentNames:t})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to add attachments to PDF.",e instanceof Error?e.message:"Unknown error")}}processWithWorker(e,r,t,s){return new Promise(a=>{try{this.worker=new Worker("/workers/add-attachments.worker.js"),this.worker.onmessage=e=>{let{status:r,modifiedPDF:t,message:s}=e.data;if("success"===r){let e=new Blob([new Uint8Array(t)],{type:"application/pdf"});a({success:!0,blob:e})}else a({success:!1,error:s||"Worker processing failed"});this.terminateWorker()},this.worker.onerror=e=>{a({success:!1,error:e.message||"Worker error occurred"}),this.terminateWorker()},this.worker.postMessage({command:"add-attachments",pdfBuffer:e,attachmentBuffers:r,attachmentNames:t,attachmentLevel:s.attachmentLevel,pageRange:s.pageRange||""})}catch(e){a({success:!1,error:e instanceof Error?e.message:"Failed to start worker"})}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null)}cancel(){super.cancel(),this.terminateWorker()}getAcceptedTypes(){return["application/pdf","*/*"]}constructor(...e){super(...e),this.worker=null}}class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(0===t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide at least one PDF file.","No files provided.");try{var a;this.updateProgress(5,"Loading PDF files...");let e=[],r=[];for(let s=0;s<t.length;s++){let a=t[s];if(!a.name.toLowerCase().endsWith(".pdf"))continue;let l=await a.arrayBuffer();e.push(l),r.push(a.name),this.updateProgress(5+25*(s+1)/t.length,"Loading file ".concat(s+1," of ").concat(t.length,"..."))}if(0===e.length)return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"No valid PDF files provided.","Please select PDF files.");if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Extracting attachments...");let l=await this.processWithWorker(e,r);if(!l.success)return this.createErrorOutput(s.GS.PROCESSING_FAILED,l.error||"Failed to extract attachments.");return this.updateProgress(100,"Complete!"),{success:!0,result:void 0,metadata:{attachments:l.attachments,attachmentCount:(null==(a=l.attachments)?void 0:a.length)||0}}}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to extract attachments.",e instanceof Error?e.message:"Unknown error")}}processWithWorker(e,r){return new Promise(t=>{try{this.worker=new Worker("/workers/extract-attachments.worker.js"),this.worker.onmessage=e=>{let{status:r,attachments:s,message:a}=e.data;"success"===r?t({success:!0,attachments:s}):t({success:!1,error:a||"Worker processing failed"}),this.terminateWorker()},this.worker.onerror=e=>{t({success:!1,error:e.message||"Worker error occurred"}),this.terminateWorker()},this.worker.postMessage({command:"extract-attachments",fileBuffers:e,fileNames:r})}catch(e){t({success:!1,error:e instanceof Error?e.message:"Failed to start worker"})}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null)}cancel(){super.cancel(),this.terminateWorker()}getAcceptedTypes(){return["application/pdf"]}constructor(...e){super(...e),this.worker=null}}class n extends a.A{async getAttachments(e){try{let r=await e.arrayBuffer();return this.getAttachmentsWithWorker(r,e.name)}catch(e){return{success:!1,error:e instanceof Error?e.message:"Failed to read file"}}}async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e;if(0===t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide a PDF file.","No files provided.");let l=t[0];if(!l.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Please provide a PDF file.","Received: ".concat(l.name));try{var o;this.updateProgress(10,"Loading PDF file...");let e=await l.arrayBuffer();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Removing selected attachments...");let r=await this.editAttachmentsWithWorker(e,l.name,a.attachmentsToRemove||[]);if(!r.success)return this.createErrorOutput(s.GS.PROCESSING_FAILED,r.error||"Failed to edit attachments.");this.updateProgress(100,"Complete!");let t=l.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(r.blob,"".concat(t,"_edited.pdf"),{removedCount:(null==(o=a.attachmentsToRemove)?void 0:o.length)||0})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to edit attachments.",e instanceof Error?e.message:"Unknown error")}}getAttachmentsWithWorker(e,r){return new Promise(t=>{try{this.worker=new Worker("/workers/edit-attachments.worker.js"),this.worker.onmessage=e=>{let{status:r,attachments:s,message:a}=e.data;"success"===r?t({success:!0,attachments:s}):t({success:!1,error:a||"Worker processing failed"}),this.terminateWorker()},this.worker.onerror=e=>{t({success:!1,error:e.message||"Worker error occurred"}),this.terminateWorker()},this.worker.postMessage({command:"get-attachments",fileBuffer:e,fileName:r})}catch(e){t({success:!1,error:e instanceof Error?e.message:"Failed to start worker"})}})}editAttachmentsWithWorker(e,r,t){return new Promise(s=>{try{this.worker=new Worker("/workers/edit-attachments.worker.js"),this.worker.onmessage=e=>{let{status:r,modifiedPDF:t,message:a}=e.data;if("success"===r){let e=new Blob([new Uint8Array(t)],{type:"application/pdf"});s({success:!0,blob:e})}else s({success:!1,error:a||"Worker processing failed"});this.terminateWorker()},this.worker.onerror=e=>{s({success:!1,error:e.message||"Worker error occurred"}),this.terminateWorker()},this.worker.postMessage({command:"edit-attachments",fileBuffer:e,fileName:r,attachmentsToRemove:t})}catch(e){s({success:!1,error:e instanceof Error?e.message:"Failed to start worker"})}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null)}cancel(){super.cancel(),this.terminateWorker()}getAcceptedTypes(){return["application/pdf"]}constructor(...e){super(...e),this.worker=null}}function c(){return new n}async function d(e,r,t,s){return new o().process({files:[e,...r],options:t||{}},s)}async function u(e,r){return new i().process({files:e,options:{}},r)}},6268:(e,r,t)=>{"use strict";t.d(r,{Dc:()=>n,ut:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={pages:[]};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required for extraction.","Received ".concat(t.length," file(s)."));if(!i.pages||0===i.pages.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least one page is required for extraction.","Please specify pages to extract.");try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!1})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before extracting pages.");throw e}let n=e.getPageCount();this.updateProgress(20,"Source PDF has ".concat(n," pages."));let c=function(e,r){if(0===e.length)return"No pages specified for extraction.";for(let t=0;t<e.length;t++){let s=e[t];if(!Number.isInteger(s))return"Invalid page number: ".concat(s);if(s<1)return"Page number must be at least 1. Found ".concat(s,".");if(s>r)return"Page ".concat(s," exceeds total pages (").concat(r,").")}return null}(i.pages,n);if(c)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,c,"The PDF has ".concat(n," pages."));let d=[...new Set(i.pages)].sort((e,r)=>e-r);if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Creating new document...");let u=await r.PDFDocument.create(),m=60/d.length;for(let r=0;r<d.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=d[r],a=t-1;this.updateProgress(30+r*m,"Extracting page ".concat(t,"..."));let[l]=await u.copyPages(e,[a]);u.addPage(l)}this.updateProgress(90,"Saving extracted pages...");let h=await u.save({useObjectStreams:!0}),p=new Blob([new Uint8Array(h)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let g=function(e,r){let t=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return 1===r.length?"".concat(t,"_page_").concat(r[0],".pdf"):r.length<=3?"".concat(t,"_pages_").concat(r.join("-"),".pdf"):"".concat(t,"_").concat(r.length,"_pages_extracted.pdf")}(a.name,d);return this.createSuccessOutput(p,g,{extractedPageCount:d.length,originalPageCount:n,extractedPages:d})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to extract pages from PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}function n(e,r){let t=[];for(let s of e.split(",").map(e=>e.trim()).filter(e=>e.length>0))if(s.includes("-")){let[e,a]=s.split("-").map(e=>e.trim()),l=parseInt(e,10),o=parseInt(a,10);if(!isNaN(l)&&!isNaN(o)&&l<=o)for(let e=l;e<=Math.min(o,r);e++)e>=1&&t.push(e)}else{let e=parseInt(s,10);!isNaN(e)&&e>=1&&e<=r&&t.push(e)}return[...new Set(t)].sort((e,r)=>e-r)}async function c(e,r,t){return new i().process({files:[e],options:{pages:r}},t)}},6757:(e,r,t)=>{"use strict";t.d(r,{FL:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");if(!a.cropData||0===Object.keys(a.cropData).length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Crop data is required.");try{let e;this.updateProgress(10,"Loading PDF library...");let r=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let s=t[0],o=await s.arrayBuffer(),i="destructive"===a.mode;e=i?await this.performDestructiveCrop(r,o,a.cropData):await this.performMetadataCrop(r,o,a.cropData),this.updateProgress(100,"Complete!");let n=new Blob([new Uint8Array(e).buffer],{type:"application/pdf"});return this.createSuccessOutput(n,s.name.replace(".pdf",i?"_cropped_flattened.pdf":"_cropped.pdf"),{pagesCropped:Object.keys(a.cropData).length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to crop PDF.",e instanceof Error?e.message:"Unknown error")}}async performMetadataCrop(e,r,t){let s=await e.PDFDocument.load(r,{ignoreEncryption:!0}),a=Object.keys(t).map(Number),l=a.length;for(let e=0;e<l;e++){if(this.checkCancelled())throw Error("Processing cancelled");let r=a[e],o=t[r],i=r-1;if(i<0||i>=s.getPageCount())continue;let n=s.getPage(i),{width:c,height:d}=n.getSize(),u=o.width*c,m=o.height*d,h=o.x*c,p=d-o.y*d-m;n.setCropBox(h,p,u,m),this.updateProgress(30+60*(e+1)/l,"Cropping page ".concat(r,"..."))}return await s.save({useObjectStreams:!0})}async performDestructiveCrop(e,r,t){return this.performMetadataCrop(e,r,t)}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},7067:(e,r,t)=>{"use strict";t.d(r,{S:()=>ef});var s=t(70751),a=t(17485),l=t(42024),o=t(56154),i=t(53842),n=t(87855),c=t(56835),d=t(44173),u=t(54855),m=t(70198),h=t(71360),p=t(60235),g=t(80003),x=t(97239),f=t(70968),v=t(11715),b=t(92977),w=t(39926),j=t(40583),y=t(2274),P=t(9295),N=t(11010),k=t(40704),S=t(19691),C=t(69065),F=t(42196),E=t(52508),D=t(79397),A=t(97079),O=t(71613),L=t(23061),I=t(89715),R=t(98238),z=t(43152),T=t(14285),M=t(39867),_=t(64545),G=t(90163),B=t(29514),U=t(93141),W=t(91456),V=t(42376),$=t(23327),H=t(2579),Z=t(10203),q=t(96891),K=t(12950),Y=t(7217),J=t(80598),X=t(30924),Q=t(99708),ee=t(46577),er=t(76907),et=t(5370),es=t(99187),ea=t(58367),el=t(24722),eo=t(92603),ei=t(86061),en=t(1119),ec=t(47937),ed=t(52025),eu=t(13804),em=t(84383),eh=t(41669),ep=t(59384),eg=t(60493);let ex={"pencil-ruler":s.A,combine:a.A,merge:a.A,scissors:l.A,zap:o.A,"pocket-knife":i.A,"image-up":n.A,"pen-tool":c.A,crop:d.A,ungroup:u.A,files:m.A,"trash-2":h.A,bookmark:p.A,list:g.A,"list-ordered":x.A,droplets:f.A,pilcrow:v.A,contrast:b.A,palette:w.A,type:j.A,stamp:y.A,eraser:P.A,"square-pen":N.A,"file-input":k.A,"file-minus-2":S.A,images:C.A,image:F.A,smartphone:E.A,layers:D.A,"file-pen":A.A,"file-code":O.A,"file-image":L.A,"file-text":I.A,"scan-text":R.A,shuffle:z.A,paperclip:T.A,download:M.A,"file-edit":A.A,"table-columns-split":_.A,"file-plus-2":G.A,"arrow-down-z-a":B.A,"rotate-cw":U.A,"layout-grid":W.A,"unfold-vertical":V.A,info:$.A,"file-cog":H.A,"stretch-horizontal":Z.A,"git-compare":q.A,"notepad-text-dashed":K.A,"ruler-dimension-line":Y.A,ruler:Y.A,gauge:J.A,unlink:X.A,wrench:i.A,lock:Q.A,"brush-cleaning":ee.A,"shield-check":er.A,key:et.A,"file-key":es.A,"file-lock":ea.A,"file-spreadsheet":el.A,presentation:eo.A,"file-box":ei.A,"file-type":en.A,"book-open":ec.A,"book-marked":ed.A,"refresh-ccw":eu.A,"image-down":em.A,table:eh.A,"layout-dashboard":ep.A,"tablet-smartphone":eg.A},ef=e=>ex[e]||I.A},8202:(e,r,t)=>{"use strict";t.d(r,{z0:()=>h});var s=t(78752),a=t(18365);let l={allowPrinting:!0,allowHighQualityPrinting:!0,allowModifying:!0,allowCopying:!0,allowAnnotating:!0,allowFillingForms:!0,allowContentAccessibility:!0,allowDocumentAssembly:!0},o={permissions:l,currentPassword:"",newUserPassword:"",newOwnerPassword:""},i=null,n=null,c=[];async function d(){return i||n||(n=new Promise((e,r)=>{if(window.Module&&"function"==typeof window.Module)return void u(e,r);let t=document.createElement("script");t.src="/qpdf.js",t.async=!0,t.onload=()=>{u(e,r)},t.onerror=()=>{n=null,r(Error("Failed to load QPDF script"))},document.head.appendChild(t)}))}function u(e,r){try{let t=window.Module;if(!t||"function"!=typeof t)return void r(Error("QPDF module not found after script load"));t({locateFile:e=>e.endsWith(".wasm")?"/qpdf.wasm":e}).then(r=>{i=r,e(r)}).catch(e=>{n=null,r(e)})}catch(e){n=null,r(e)}}class m extends a.A{async process(e,r){let t;this.reset(),this.onProgress=r;let{files:a,options:i}=e,n={...o,...i,permissions:{...l,...(null==i?void 0:i.permissions)||{}}};if(1!==a.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(a.length," file(s)."));let u=a[0],m="/input.pdf",h="/output.pdf";try{if(this.updateProgress(5,"Initializing PDF engine..."),t=await d(),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(15,"Reading PDF file...");let e=await u.arrayBuffer(),r=e.byteLength,a=new Uint8Array(e);if(t.FS.writeFile(m,a),this.updateProgress(30,"Preparing permission changes..."),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50,"Processing PDF permissions...");let l=[m];n.currentPassword&&l.push("--password="+n.currentPassword);let o=n.newUserPassword||n.newOwnerPassword;if(o){let e=n.newUserPassword||"",r=n.newOwnerPassword||"";l.push("--encrypt",e,r,"256");let t=n.permissions;r?(t.allowModifying||l.push("--modify=none"),t.allowCopying||l.push("--extract=n"),t.allowPrinting||l.push("--print=none"),t.allowAnnotating||l.push("--annotate=n"),t.allowDocumentAssembly||l.push("--assemble=n"),t.allowFillingForms||l.push("--form=n"),t.allowContentAccessibility||l.push("--accessibility=n")):e&&l.push("--allow-insecure")}else l.push("--decrypt");l.push("--",h),c=[];let i=console.error;console.error=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];let s=r.map(e=>String(e)).join(" ");c.push(s),i.apply(console,r)};let p=null;try{t.callMain(l)}catch(e){p=e}finally{console.error=i}let g=!1,x=null;try{g=!!((x=t.FS.readFile(h,{encoding:"binary"}))&&x.length>0)}catch(e){g=!1}if(!g){let e=c.join(" ").toLowerCase(),r=e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password");if(r||p){let e=p?String(p.message||p||"").toLowerCase():"";if(r||e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password")||e.includes("password"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"INVALID_PASSWORD","The current password you entered is incorrect. Please check and try again.");if(e.includes("encrypted")||e.includes("password required"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"PASSWORD_REQUIRED","This PDF is password-protected. Please enter the current password to proceed.");throw p||Error("Processing failed")}return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"INVALID_PASSWORD","The current password you entered is incorrect. Please check and try again.")}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Preparing output file...");let f=new Blob([new Uint8Array(x)],{type:"application/pdf"}),v=x.length;try{t.FS.unlink(m)}catch(e){console.warn("Failed to unlink input file:",e)}try{t.FS.unlink(h)}catch(e){console.warn("Failed to unlink output file:",e)}this.updateProgress(100,"Complete!");let b=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_permissions.pdf")}(u.name);return this.createSuccessOutput(f,b,{originalSize:r,newSize:v,permissions:n.permissions,encrypted:o,encryptionMethod:o?"256-bit AES":void 0})}catch(e){if(null==t?void 0:t.FS){try{t.FS.unlink(m)}catch(e){}try{t.FS.unlink(h)}catch(e){}}return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to change PDF permissions.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function h(e,r,t){return new m().process({files:[e],options:r||{}},t)}},8382:(e,r,t)=>{"use strict";t.r(r),t.d(r,{EncryptPDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(56772);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(""),[F,E]=(0,a.useState)(""),[D,A]=(0,a.useState)(!1),[O,L]=(0,a.useState)(!1),[I,R]=(0,a.useState)({printing:!0,modifying:!0,copying:!0,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0}),z=(0,a.useRef)(!1),T=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),k(null),P(null))},[]),M=(0,a.useCallback)(e=>{k(e)},[]),_=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0),C(""),E("")},[]),G=(0,a.useCallback)(e=>{R(r=>({...r,[e]:!r[e]}))},[]),B=(0,a.useCallback)(async()=>{if(!p)return void k("Please select a PDF file to encrypt.");if(!S&&!F)return void k("Please provide at least one password.");z.current=!1,f("processing"),b(0),k(null),P(null);try{let r=await (0,u.Qb)(p,{userPassword:S,ownerPassword:F,permissions:I},(e,r)=>{z.current||(b(e),j(r||""))});if(z.current)return void f("idle");if(r.success&&r.result)P(r.result),f("complete");else{var e;k((null==(e=r.error)?void 0:e.message)||"Failed to encrypt PDF file."),f("error")}}catch(e){z.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,S,F,I]),U=(0,a.useCallback)(()=>{z.current=!0,f("idle"),b(0)},[]),W="processing"===x,V=p&&(S||F)&&!W;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:T,onError:M,disabled:W,label:h("encryptPdf.uploadLabel")||"Upload PDF File",description:h("encryptPdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=p.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:_,disabled:W,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("encryptPdf.passwordTitle")||"Password Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-green-50 border border-green-200",children:(0,s.jsx)("p",{className:"text-sm text-green-700",children:h("encryptPdf.privacyNotice")||"\uD83D\uDD12 Your passwords are processed locally and never sent to any server."})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"user-password",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("encryptPdf.userPasswordLabel")||"User Password (to open document)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"user-password",type:D?"text":"password",value:S,onChange:e=>C(e.target.value),disabled:W,placeholder:h("encryptPdf.userPasswordPlaceholder")||"Enter password to open PDF","aria-describedby":"user-password-hint",className:"w-full px-3 py-2 pr-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("button",{type:"button",onClick:()=>A(!D),"aria-label":D?"Hide user password":"Show user password",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))]",children:D?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),(0,s.jsx)("p",{id:"user-password-hint",className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:h("encryptPdf.userPasswordHint")||"Required to open and view the PDF."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"owner-password",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("encryptPdf.ownerPasswordLabel")||"Owner Password (to change permissions)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"owner-password",type:O?"text":"password",value:F,onChange:e=>E(e.target.value),disabled:W,placeholder:h("encryptPdf.ownerPasswordPlaceholder")||"Enter owner password","aria-describedby":"owner-password-hint",className:"w-full px-3 py-2 pr-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("button",{type:"button",onClick:()=>L(!O),"aria-label":O?"Hide owner password":"Show owner password",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))]",children:O?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),(0,s.jsx)("p",{id:"owner-password-hint",className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:h("encryptPdf.ownerPasswordHint")||"Required to modify permissions or remove encryption."})]})]})]}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("encryptPdf.permissionsTitle")||"Document Permissions"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(I).map(e=>{let[r,t]=e;return(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:()=>G(r),disabled:W,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:["printing"===r&&(h("encryptPdf.permPrinting")||"Allow Printing"),"modifying"===r&&(h("encryptPdf.permModifying")||"Allow Modifying"),"copying"===r&&(h("encryptPdf.permCopying")||"Allow Copying"),"annotating"===r&&(h("encryptPdf.permAnnotating")||"Allow Annotating"),"fillingForms"===r&&(h("encryptPdf.permFillingForms")||"Allow Filling Forms"),"contentAccessibility"===r&&(h("encryptPdf.permAccessibility")||"Allow Accessibility"),"documentAssembly"===r&&(h("encryptPdf.permAssembly")||"Allow Assembly")]})]},r)})})]}),W&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:U,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:B,disabled:!V,loading:W,children:W?m("status.processing")||"Processing...":h("encryptPdf.encryptButton")||"Encrypt PDF"}),y&&(0,s.jsx)(n.f,{file:y,filename:p?"".concat(p.name.replace(".pdf",""),"_encrypted.pdf"):"encrypted.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:h("encryptPdf.successMessage")||"PDF encrypted successfully!"}),(0,s.jsx)("p",{className:"text-xs mt-1 text-green-600",children:h("encryptPdf.successHint")||"Remember to save your passwords securely. They cannot be recovered if lost."})]})]})}let h=m},8519:(e,r,t)=>{"use strict";t.d(r,{cU:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={pagesPerSheet:4,customCols:2,customRows:2,pageSize:"A4",orientation:"auto",layoutDirection:"horizontal",useMargins:!0,addBorder:!1,borderColor:"#000000"},i={A4:[595.28,841.89],Letter:[612,792],Legal:[612,1008],A3:[841.89,1190.55]};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,n={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file first.");throw e}let c=e.getPages(),d=c.length;if(this.updateProgress(20,"Source PDF has ".concat(d," pages.")),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let u=function(e){if("custom"===e.pagesPerSheet)return[Math.max(1,Math.min(10,e.customCols)),Math.max(1,Math.min(10,e.customRows))];let r=e.pagesPerSheet;if("vertical"===e.layoutDirection)switch(r){case 2:return[1,2];case 4:default:return[2,2];case 9:return[3,3];case 16:return[4,4]}switch(r){case 2:return[2,1];case 4:default:return[2,2];case 9:return[3,3];case 16:return[4,4]}}(n),m=u[0]*u[1],[h,p]=i[n.pageSize],g=n.orientation;if("auto"===g){let e=c[0];g=e.getWidth()>e.getHeight()&&u[0]>u[1]?"landscape":"portrait"}"landscape"===g&&h<p&&([h,p]=[p,h]);let x=36*!!n.useMargins,f=10*!!n.useMargins,v=h-2*x,b=p-2*x,w=(v-f*(u[0]-1))/u[0],j=(b-f*(u[1]-1))/u[1];this.updateProgress(30,"Creating N-Up PDF...");let y=await r.PDFDocument.create(),P=Math.ceil(d/m),N=50/P,k=function(e){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:0,g:0,b:0}}(n.borderColor);this.updateProgress(35,"Embedding pages...");let S=await y.embedPages(c);if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");for(let e=0;e<d;e+=m){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=Math.floor(e/m)+1;this.updateProgress(40+(t-1)*N,"Processing sheet ".concat(t," of ").concat(P,"..."));let a=y.addPage([h,p]);for(let t=0;t<m&&e+t<d;t++){let s=S[e+t],l=Math.min(w/s.width,j/s.height),o=s.width*l,i=s.height*l,c=Math.floor(t/u[0]),d=t%u[0],m=x+d*(w+f),h=p-x-(c+1)*j-c*f,g=m+(w-o)/2,v=h+(j-i)/2;a.drawPage(s,{x:g,y:v,width:o,height:i}),n.addBorder&&a.drawRectangle({x:g,y:v,width:o,height:i,borderColor:r.rgb(k.r,k.g,k.b),borderWidth:1})}}this.updateProgress(90,"Saving PDF...");let C=await y.save({useObjectStreams:!0}),F=new Blob([new Uint8Array(C)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let E="custom"===n.pagesPerSheet?"".concat(u[0],"x").concat(u[1]):"".concat(m,"-up"),D=function(e,r){let t=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(t,"_").concat(r,".pdf")}(a.name,E);return this.createSuccessOutput(F,D,{originalPageCount:d,outputSheetCount:P,pagesPerSheet:m,gridLayout:"".concat(u[0],"\xd7").concat(u[1])})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to create N-Up PDF.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function c(e,r,t){return new n().process({files:[e],options:r},t)}},9110:(e,r,t)=>{"use strict";t.d(r,{MergePDFTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(62618);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(!0),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending"}));p(e=>[...e,...r]),N(null),y(null)},[]),L=(0,a.useCallback)(e=>{N(e)},[]),I=(0,a.useCallback)(e=>{p(r=>r.filter(r=>r.id!==e)),y(null)},[]),R=(0,a.useCallback)(()=>{p([]),y(null),N(null),x("idle"),v(0)},[]),z=(0,a.useCallback)(e=>{F(e)},[]),T=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==C&&C!==r&&D(r)},[C]),M=(0,a.useCallback)(()=>{null!==C&&null!==E&&C!==E&&p(e=>{let r=[...e],[t]=r.splice(C,1);return r.splice(E,0,t),r}),F(null),D(null)},[C,E]),_=(0,a.useCallback)(e=>{0!==e&&p(r=>{let t=[...r];return[t[e-1],t[e]]=[t[e],t[e-1]],t})},[]),G=(0,a.useCallback)(e=>{p(r=>{if(e===r.length-1)return r;let t=[...r];return[t[e],t[e+1]]=[t[e+1],t[e]],t})},[]),B=(0,a.useCallback)(async()=>{if(h.length<2)return void N("Please add at least 2 PDF files to merge.");A.current=!1,x("processing"),v(0),N(null),y(null);try{let r=await (0,u.Oo)(h.map(e=>e.file),{preserveBookmarks:k,pageOrder:"sequential"},(e,r)=>{A.current||(v(e),w(r||""))});if(A.current)return void x("idle");if(r.success&&r.result)y(r.result),x("complete");else{var e;N((null==(e=r.error)?void 0:e.message)||"Failed to merge PDF files."),x("error")}}catch(e){A.current||(N(e instanceof Error?e.message:"An unexpected error occurred."),x("error"))}},[h,k]),U=(0,a.useCallback)(()=>{A.current=!0,x("idle"),v(0)},[]),W="processing"===g||"uploading"===g,V=h.length>=2&&!W;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:100,onFilesSelected:O,onError:L,disabled:W,label:m("mergePdf.uploadLabel")||"Upload PDF Files",description:m("mergePdf.uploadDescription")||"Drag and drop PDF files here, or click to browse. You can add multiple files."}),P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[m("mergePdf.filesTitle")||"Files to Merge"," (",h.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:R,disabled:W,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:m("mergePdf.reorderHint")||"Drag and drop to reorder files. Files will be merged in the order shown."}),(0,s.jsx)("ul",{className:"space-y-2",role:"list","aria-label":"Files to merge",children:h.map((e,r)=>{var t;return(0,s.jsxs)("li",{draggable:!W,onDragStart:()=>z(r),onDragOver:e=>T(e,r),onDragEnd:M,className:"\n                  flex items-center gap-3 p-3 rounded-[var(--radius-md)] border\n                  transition-all duration-200\n                  ".concat(C===r?"opacity-50 border-dashed":"","\n                  ").concat(E===r?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.05)]":"border-[hsl(var(--color-border))]","\n                  ").concat(W?"":"cursor-grab hover:bg-[hsl(var(--color-muted)/0.5)]","\n                "),children:[(0,s.jsx)("div",{className:"flex-shrink-0 text-[hsl(var(--color-muted-foreground))]","aria-hidden":"true",children:(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("circle",{cx:"9",cy:"6",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"6",r:"1.5"}),(0,s.jsx)("circle",{cx:"9",cy:"12",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"12",r:"1.5"}),(0,s.jsx)("circle",{cx:"9",cy:"18",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"18",r:"1.5"})]})}),(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))] text-xs font-medium flex items-center justify-center",children:r+1}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(t=e.file.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>_(r),disabled:0===r||W,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move up",children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 15l-6-6-6 6"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>G(r),disabled:r===h.length-1||W,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move down",children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M6 9l6 6 6-6"})})})]}),(0,s.jsx)("button",{type:"button",onClick:()=>I(e.id),disabled:W,className:"flex-shrink-0 p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600 disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id)})})]}),h.length>=2&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("mergePdf.optionsTitle")||"Merge Options"}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",id:"preserve-bookmarks",checked:k,onChange:e=>S(e.target.checked),disabled:W,"aria-describedby":"preserve-bookmarks-description",className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{id:"preserve-bookmarks-description",className:"text-sm text-[hsl(var(--color-foreground))]",children:m("mergePdf.preserveBookmarks")||"Preserve bookmarks (create bookmark for each file)"})]})]}),W&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:U,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:B,disabled:!V,loading:W,children:W?t("status.processing")||"Processing...":m("mergePdf.mergeButton")||"Merge PDFs"}),j&&(0,s.jsx)(n.f,{file:j,filename:"merged.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&j&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("mergePdf.successMessage")||"PDFs merged successfully! Click the download button to save your file."})})]})}},9569:(e,r,t)=>{"use strict";t.r(r),t.d(r,{RemoveMetadataTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(34263);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)([]),[F,E]=(0,a.useState)({removeTitle:!0,removeAuthor:!0,removeSubject:!0,removeKeywords:!0,removeCreator:!0,removeProducer:!0,removeCreationDate:!0,removeModificationDate:!0}),D=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),k(null),P(null),C([]))},[]),O=(0,a.useCallback)(e=>{k(e)},[]),L=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0),C([])},[]),I=(0,a.useCallback)(e=>{E(r=>({...r,[e]:!r[e]}))},[]),R=(0,a.useCallback)(()=>{E({removeTitle:!0,removeAuthor:!0,removeSubject:!0,removeKeywords:!0,removeCreator:!0,removeProducer:!0,removeCreationDate:!0,removeModificationDate:!0})},[]),z=(0,a.useCallback)(()=>{E({removeTitle:!1,removeAuthor:!1,removeSubject:!1,removeKeywords:!1,removeCreator:!1,removeProducer:!1,removeCreationDate:!1,removeModificationDate:!1})},[]),T=(0,a.useCallback)(async()=>{if(!p)return void k("Please select a PDF file.");D.current=!1,f("processing"),b(0),k(null),P(null),C([]);try{var e,r;let t=await (0,u.Ij)(p,F,(e,r)=>{D.current||(b(e),j(r||""))});if(D.current)return void f("idle");t.success&&t.result?(P(t.result),f("complete"),(null==(e=t.metadata)?void 0:e.removedFields)&&C(t.metadata.removedFields)):(k((null==(r=t.error)?void 0:r.message)||"Failed to remove metadata."),f("error"))}catch(e){D.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,F]),M=(0,a.useCallback)(()=>{D.current=!0,f("idle"),b(0)},[]),_="processing"===x,G=p&&!_,B=[{key:"removeTitle",label:h("removeMetadata.title")||"Title"},{key:"removeAuthor",label:h("removeMetadata.author")||"Author"},{key:"removeSubject",label:h("removeMetadata.subject")||"Subject"},{key:"removeKeywords",label:h("removeMetadata.keywords")||"Keywords"},{key:"removeCreator",label:h("removeMetadata.creator")||"Creator"},{key:"removeProducer",label:h("removeMetadata.producer")||"Producer"},{key:"removeCreationDate",label:h("removeMetadata.creationDate")||"Creation Date"},{key:"removeModificationDate",label:h("removeMetadata.modificationDate")||"Modification Date"}];return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:A,onError:O,disabled:_,label:h("removeMetadata.uploadLabel")||"Upload PDF File",description:h("removeMetadata.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=p.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:L,disabled:_,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:h("removeMetadata.optionsTitle")||"Select Metadata to Remove"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:R,disabled:_,children:h("removeMetadata.selectAll")||"Select All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:z,disabled:_,children:h("removeMetadata.deselectAll")||"Deselect All"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:h("removeMetadata.info")||"Removing metadata helps protect your privacy by stripping identifying information from the PDF."})}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:B.map(e=>{let{key:r,label:t}=e;return(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F[r],onChange:()=>I(r),disabled:_,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:t})]},r)})})]})]}),_&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:M,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:T,disabled:!G,loading:_,children:_?m("status.processing")||"Processing...":h("removeMetadata.removeButton")||"Remove Metadata"}),y&&(0,s.jsx)(n.f,{file:y,filename:p?"".concat(p.name.replace(".pdf",""),"_no_metadata.pdf"):"no_metadata.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:h("removeMetadata.successMessage")||"Metadata removed successfully!"}),S.length>0&&(0,s.jsxs)("p",{className:"text-xs mt-1 text-green-600",children:[h("removeMetadata.removedFields")||"Removed:"," ",S.join(", ")]})]})]})}let h=m},10625:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ExtractAttachmentsTool:()=>u,default:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(31166),c=t(47972),d=t(5691);function u(e){let{className:r=""}=e,t=(0,l.c)("common"),u=(0,l.c)("tools"),[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)("idle"),[x,f]=(0,a.useState)(0),[v,b]=(0,a.useState)(""),[w,j]=(0,a.useState)([]),[y,P]=(0,a.useState)(null),N=(0,a.useRef)(!1),k=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e}));h(e=>[...e,...r]),P(null),j([])},[]),S=(0,a.useCallback)(e=>{P(e)},[]),C=(0,a.useCallback)(e=>{h(r=>r.filter(r=>r.id!==e)),j([])},[]),F=(0,a.useCallback)(()=>{h([]),j([]),P(null),g("idle"),f(0)},[]),E=(0,a.useCallback)(async()=>{if(0===m.length)return void P("Please add at least one PDF file.");N.current=!1,g("processing"),f(0),P(null),j([]);try{var e,r;let t=await (0,d.q0)(m.map(e=>e.file),(e,r)=>{N.current||(f(e),b(r||""))});if(N.current)return void g("idle");t.success&&(null==(e=t.metadata)?void 0:e.attachments)?(j(t.metadata.attachments),g("complete")):(P((null==(r=t.error)?void 0:r.message)||"No attachments found in the selected PDF(s)."),g("error"))}catch(e){N.current||(P(e instanceof Error?e.message:"An unexpected error occurred."),g("error"))}},[m]),D=(0,a.useCallback)(()=>{N.current=!0,g("idle"),f(0)},[]),A=(0,a.useCallback)(e=>{let r=new Blob([new Uint8Array(e.data)]),t=URL.createObjectURL(r),s=document.createElement("a");s.href=t,s.download=e.name,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},[]),O=(0,a.useCallback)(()=>{w.forEach((e,r)=>{setTimeout(()=>{A(e)},200*r)})},[w,A]),L=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),I="processing"===p||"uploading"===p,R=m.length>0&&!I;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:20,onFilesSelected:k,onError:S,disabled:I,label:u("extractAttachments.uploadLabel")||"Upload PDF Files",description:u("extractAttachments.uploadDescription")||"Select PDF files to extract attachments from."}),y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:y})}),m.length>0&&(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[u("extractAttachments.filesTitle")||"Selected Files"," (",m.length,")"]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:F,disabled:I,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:m.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:L(e.file.size)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>C(e.id),disabled:I,className:"p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id))})]}),I&&(0,s.jsx)(i.r,{progress:x,status:p,message:v,onCancel:D,showPercentage:!0}),(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:E,disabled:!R,loading:I,children:I?t("status.processing")||"Processing...":u("extractAttachments.extractButton")||"Extract Attachments"})}),w.length>0&&(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[u("extractAttachments.extractedTitle")||"Extracted Attachments"," (",w.length,")"]}),(0,s.jsx)(n.$,{variant:"secondary",size:"sm",onClick:O,children:u("extractAttachments.downloadAll")||"Download All"})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:w.map((e,r)=>(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-[hsl(var(--color-muted-foreground))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[L(e.data.byteLength),e.page>0&&" • Page ".concat(e.page)]})]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>A(e),children:t("buttons.download")||"Download"})]},"".concat(e.name,"-").concat(r)))})]}),"complete"===p&&w.length>0&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:u("extractAttachments.successMessage")||"Successfully extracted ".concat(w.length,' attachment(s). Click to download individual files or use "Download All".')})})]})}let m=u},11922:(e,r,t)=>{"use strict";t.d(r,{eB:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={pageOrder:[]};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required for organizing.","Received ".concat(t.length," file(s)."));if(!i.pageOrder||0===i.pageOrder.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Page order is required for organizing.","Please specify the new page order.");try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!1})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before organizing.");throw e}let n=e.getPageCount();this.updateProgress(20,"Source PDF has ".concat(n," pages."));let c=function(e,r){if(0===e.length)return"Page order cannot be empty.";for(let t=0;t<e.length;t++){let s=e[t];if(!Number.isInteger(s))return"Invalid page number at position ".concat(t+1,": ").concat(s);if(s<1)return"Page number must be at least 1. Found ".concat(s," at position ").concat(t+1,".");if(s>r)return"Page ".concat(s," exceeds total pages (").concat(r,").")}return null}(i.pageOrder,n);if(c)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,c,"The PDF has ".concat(n," pages."));if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Creating new document...");let d=await r.PDFDocument.create(),u=60/i.pageOrder.length;for(let r=0;r<i.pageOrder.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=i.pageOrder[r],a=t-1;this.updateProgress(30+r*u,"Copying page ".concat(t,"..."));let[l]=await d.copyPages(e,[a]);d.addPage(l)}this.updateProgress(90,"Saving reorganized PDF...");let m=await d.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let p=function(e){let r=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(r,"_organized.pdf")}(a.name);return this.createSuccessOutput(h,p,{pageCount:i.pageOrder.length,originalPageCount:n})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to organize PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t){return new i().process({files:[e],options:{pageOrder:r}},t)}},12994:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ImageToPDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(91257);function m(e){let{className:r="",imageType:t}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)([]),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)("A4"),[F,E]=(0,a.useState)("auto"),[D,A]=(0,a.useState)(36),[O,L]=(0,a.useState)(!0),[I,R]=(0,a.useState)(!0),[z,T]=(0,a.useState)(2),[M,_]=(0,a.useState)(null),[G,B]=(0,a.useState)(null),U=(0,a.useRef)(!1),W=(0,a.useCallback)(()=>{if(t)switch(t.toLowerCase()){case"jpg":case"jpeg":return["image/jpeg",".jpg",".jpeg"];case"png":return["image/png",".png"];case"webp":return["image/webp",".webp"];case"bmp":return["image/bmp",".bmp"];case"tiff":case"tif":return["image/tiff",".tiff",".tif"];case"svg":return["image/svg+xml",".svg"];case"heic":case"heif":return["image/heic","image/heif",".heic",".heif"]}return["image/jpeg","image/png","image/webp","image/bmp","image/tiff","image/svg+xml","image/heic","image/heif",".jpg",".jpeg",".png",".webp",".bmp",".tiff",".tif",".svg",".heic",".heif"]},[t]),V=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending",preview:URL.createObjectURL(e)}));g(e=>[...e,...r]),k(null),P(null)},[]),$=(0,a.useCallback)(e=>{k(e)},[]),H=(0,a.useCallback)(e=>{g(r=>{let t=r.find(r=>r.id===e);return(null==t?void 0:t.preview)&&URL.revokeObjectURL(t.preview),r.filter(r=>r.id!==e)}),P(null)},[]),Z=(0,a.useCallback)(()=>{p.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)}),g([]),P(null),k(null),f("idle"),b(0)},[p]),q=(0,a.useCallback)(e=>{_(e)},[]),K=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==M&&M!==r&&B(r)},[M]),Y=(0,a.useCallback)(()=>{null!==M&&null!==G&&M!==G&&g(e=>{let r=[...e],[t]=r.splice(M,1);return r.splice(G,0,t),r}),_(null),B(null)},[M,G]),J=(0,a.useCallback)(async()=>{if(p.length<1)return void k("Please add at least 1 image file.");U.current=!1,f("processing"),b(0),k(null),P(null);try{let r=await (0,u.IJ)(p.map(e=>e.file),{pageSize:S,orientation:F,margin:D,centerImage:O,scaleToFit:I,svgScale:z},(e,r)=>{U.current||(b(e),j(r||""))});if(U.current)return void f("idle");if(r.success&&r.result)P(r.result),f("complete");else{var e;k((null==(e=r.error)?void 0:e.message)||"Failed to convert images to PDF."),f("error")}}catch(e){U.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,S,F,D,O,I]),X=(0,a.useCallback)(()=>{U.current=!0,f("idle"),b(0)},[]),Q="processing"===x||"uploading"===x,ee=p.length>=1&&!Q;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:W(),multiple:!0,maxFiles:100,onFilesSelected:V,onError:$,disabled:Q,label:h("imageToPdf.uploadLabel")||"Upload Images",description:h("imageToPdf.uploadDescription")||"Drag and drop images here, or click to browse. Supports JPG, PNG, WebP, BMP, TIFF, SVG, HEIC."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[h("imageToPdf.imagesTitle")||"Images"," (",p.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:Z,disabled:Q,children:m("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:h("imageToPdf.reorderHint")||"Drag and drop to reorder images. Images will appear in the PDF in the order shown."}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:p.map((e,r)=>{var t;return(0,s.jsxs)("div",{draggable:!Q,onDragStart:()=>q(r),onDragOver:e=>K(e,r),onDragEnd:Y,className:"\n                  relative group rounded-[var(--radius-md)] border overflow-hidden\n                  transition-all duration-200\n                  ".concat(M===r?"opacity-50 border-dashed":"","\n                  ").concat(G===r?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.2)]":"border-[hsl(var(--color-border))]","\n                  ").concat(Q?"":"cursor-grab hover:border-[hsl(var(--color-primary)/0.5)]","\n                "),children:[(0,s.jsx)("div",{className:"aspect-square bg-[hsl(var(--color-muted)/0.3)]",children:e.preview&&(0,s.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"})}),(0,s.jsx)("span",{className:"absolute top-2 left-2 w-6 h-6 rounded-full bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))] text-xs font-medium flex items-center justify-center",children:r+1}),(0,s.jsx)("button",{type:"button",onClick:()=>H(e.id),disabled:Q,className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-30","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),(0,s.jsxs)("div",{className:"p-2 bg-white",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(t=e.file.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")})]})]},e.id)})})]}),p.length>=1&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("imageToPdf.optionsTitle")||"PDF Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.pageSize")||"Page Size"}),(0,s.jsxs)("select",{value:S,onChange:e=>C(e.target.value),disabled:Q,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"LETTER",children:"Letter"}),(0,s.jsx)("option",{value:"LEGAL",children:"Legal"}),(0,s.jsx)("option",{value:"A3",children:"A3"}),(0,s.jsx)("option",{value:"A5",children:"A5"}),(0,s.jsx)("option",{value:"FIT",children:"Fit to Image"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.orientation")||"Orientation"}),(0,s.jsxs)("select",{value:F,onChange:e=>E(e.target.value),disabled:Q,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"auto",children:h("imageToPdf.orientationAuto")||"Auto (match image)"}),(0,s.jsx)("option",{value:"portrait",children:h("imageToPdf.orientationPortrait")||"Portrait"}),(0,s.jsx)("option",{value:"landscape",children:h("imageToPdf.orientationLandscape")||"Landscape"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.margin")||"Margin"}),(0,s.jsxs)("select",{value:D,onChange:e=>A(Number(e.target.value)),disabled:Q,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"0",children:h("imageToPdf.marginNone")||"None"}),(0,s.jsx)("option",{value:"18",children:h("imageToPdf.marginSmall")||'Small (0.25")'}),(0,s.jsx)("option",{value:"36",children:h("imageToPdf.marginMedium")||'Medium (0.5")'}),(0,s.jsx)("option",{value:"72",children:h("imageToPdf.marginLarge")||'Large (1")'})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:O,onChange:e=>L(e.target.checked),disabled:Q,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("imageToPdf.centerImage")||"Center images on page"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:I,onChange:e=>R(e.target.checked),disabled:Q,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("imageToPdf.scaleToFit")||"Scale images to fit page"})]})]}),("svg"===t||p.some(e=>e.file.name.toLowerCase().endsWith(".svg")||"image/svg+xml"===e.file.type))&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-[hsl(var(--color-border))]",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.svgQuality")||"SVG Export Quality"}),(0,s.jsxs)("select",{value:z,onChange:e=>T(Number(e.target.value)),disabled:Q,className:"w-full sm:w-auto px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"1",children:h("imageToPdf.svgQualityLow")||"Low (1x - smaller file)"}),(0,s.jsx)("option",{value:"2",children:h("imageToPdf.svgQualityMedium")||"Medium (2x - balanced)"}),(0,s.jsx)("option",{value:"3",children:h("imageToPdf.svgQualityHigh")||"High (3x - better quality)"}),(0,s.jsx)("option",{value:"4",children:h("imageToPdf.svgQualityVeryHigh")||"Very High (4x - best quality)"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:h("imageToPdf.svgQualityHint")||"Higher quality produces sharper images but larger file sizes."})]})]}),Q&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:X,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:J,disabled:!ee,loading:Q,children:Q?m("status.processing")||"Processing...":h("imageToPdf.convertButton")||"Convert to PDF"}),y&&(0,s.jsx)(n.f,{file:y,filename:1===p.length?"".concat(p[0].file.name.replace(/\.[^/.]+$/,""),".pdf"):"images_".concat(p.length,"_pages.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("imageToPdf.successMessage")||"Images converted to PDF successfully! Click the download button to save your file."})})]})}let h=m},13206:(e,r,t)=>{"use strict";t.d(r,{OH:()=>d});var s=t(78752),a=t(18365);let l=null,o=null;async function i(){return l||o||(o=new Promise((e,r)=>{if(window.Module&&"function"==typeof window.Module)return void n(e,r);let t=document.createElement("script");t.src="/qpdf.js",t.async=!0,t.onload=()=>{n(e,r)},t.onerror=()=>{o=null,r(Error("Failed to load QPDF script"))},document.head.appendChild(t)}))}function n(e,r){try{let t=window.Module;if(!t||"function"!=typeof t)return void r(Error("QPDF module not found after script load"));t({locateFile:e=>e.endsWith(".wasm")?"/qpdf.wasm":e}).then(r=>{l=r,e(r)}).catch(e=>{o=null,r(e)})}catch(e){o=null,r(e)}}class c extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to repair.","Received ".concat(t.length," file(s)."));let a=t[0],l="/input.pdf",o="/output.pdf",n=null;try{if(this.updateProgress(5,"Initializing repair engine..."),n=await i(),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(15,"Reading PDF file...");let e=await a.arrayBuffer(),r=e.byteLength,t=new Uint8Array(e);if(n.FS.writeFile(l,t),this.updateProgress(30,"Analyzing PDF structure..."),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50,"Repairing PDF...");let c=[l,"--decrypt",o];try{n.callMain(c)}catch(e){console.warn("QPDF execution warning:",e)}let d=null,u=!1;try{u=!!((d=n.FS.readFile(o,{encoding:"binary"}))&&d.length>0)}catch(e){u=!1}if(!u)return this.createErrorOutput(s.GS.PDF_MALFORMED,"Unable to repair the PDF file.","The file may be too corrupted to recover.");if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Saving repaired PDF...");let m=new Blob([new Uint8Array(d)],{type:"application/pdf"}),h=d.length;try{n.FS.unlink(l)}catch(e){}try{n.FS.unlink(o)}catch(e){}this.updateProgress(100,"Complete!");let p=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_repaired.pdf")}(a.name);return this.createSuccessOutput(m,p,{originalSize:r,repairedSize:h,repaired:!0})}catch(e){if(null==n?void 0:n.FS){try{n.FS.unlink(l)}catch(e){}try{n.FS.unlink(o)}catch(e){}}return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to repair PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function d(e,r,t){return new c().process({files:[e],options:r||{}},t)}},14169:(e,r,t)=>{"use strict";t.d(r,{bs:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={scale:2,pages:[],method:"luminosity"};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let n=t[0];if(!n.type.includes("pdf")&&!n.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(n.type||"unknown"));try{this.updateProgress(5,"Loading PDF libraries...");let[e,r]=await Promise.all([(0,l.Ck)(),(0,l.Iy)()]);if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading PDF document...");let t=await n.arrayBuffer(),a=await r.getDocument({data:t}).promise,o=a.numPages,c=await e.PDFDocument.create(),d=i.pages.length>0?i.pages.filter(e=>e>=1&&e<=o):Array.from({length:o},(e,r)=>r+1);if(0===d.length)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,"No valid pages to convert.","PDF has ".concat(o," pages."));this.updateProgress(15,"Converting ".concat(d.length," page(s) to greyscale..."));let u=80/d.length;for(let r=0;r<d.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=d[r],l=15+r*u;this.updateProgress(l,"Converting page ".concat(t," of ").concat(o," to greyscale..."));try{await this.convertPageToGreyscale(a,c,t,i,e)}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert page ".concat(t," to greyscale."),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(95,"Saving PDF...");let m=await c.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let p=n.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(h,"".concat(p,"_greyscale.pdf"),{pageCount:d.length,method:i.method})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert PDF to greyscale.",e instanceof Error?e.message:"Unknown error")}}async convertPageToGreyscale(e,r,t,s,a){let l=await e.getPage(t),o=l.getViewport({scale:s.scale}),i=document.createElement("canvas");i.width=o.width,i.height=o.height;let n=i.getContext("2d");if(!n)throw Error("Failed to get canvas context");n.fillStyle="#ffffff",n.fillRect(0,0,i.width,i.height),await l.render({canvasContext:n,viewport:o}).promise;let c=n.getImageData(0,0,i.width,i.height);this.applyGreyscale(c,s.method),n.putImageData(c,0,0);let d=await new Promise((e,r)=>{i.toBlob(t=>t?e(t):r(Error("Failed to create image")),"image/png")}),u=await d.arrayBuffer(),m=await r.embedPng(new Uint8Array(u)),h=o.width/s.scale,p=o.height/s.scale;r.addPage([h,p]).drawImage(m,{x:0,y:0,width:h,height:p})}applyGreyscale(e,r){let t=e.data;for(let e=0;e<t.length;e+=4){let s,a=t[e],l=t[e+1],o=t[e+2];switch(r){case"luminosity":default:s=Math.round(.2126*a+.7152*l+.0722*o);break;case"average":s=Math.round((a+l+o)/3);break;case"lightness":s=Math.round((Math.max(a,l,o)+Math.min(a,l,o))/2)}t[e]=s,t[e+1]=s,t[e+2]=s}}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},14239:(e,r,t)=>{"use strict";t.d(r,{Pf:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/mobi-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one MOBI file.","Received ".concat(t.length," file(s)."));let a=t[0];if(!a.name.toLowerCase().endsWith(".mobi")&&!a.name.toLowerCase().endsWith(".azw")&&!a.name.toLowerCase().endsWith(".azw3"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a MOBI file (.mobi, .azw, .azw3).","Received: ".concat(a.type||a.name));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting MOBI to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.(mobi|azw|azw3)$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert MOBI to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},14664:(e,r,t)=>{"use strict";t.r(r),t.d(r,{FB2ToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(46766),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(73468);function f(e){let{className:r=""}=e,t=(0,l.c)("common"),f=(0,l.c)("tools"),[v,b]=(0,a.useState)([]),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),D=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending"}));b(e=>[...e,...r]),E(null),C(null),j("idle"),P(0)},[]),O=(0,a.useCallback)(e=>{E(e)},[]),L=(0,a.useCallback)(e=>{b(r=>r.filter(r=>r.id!==e)),1===v.length&&(C(null),E(null),j("idle"),P(0))},[v.length]),I=(0,a.useCallback)(async()=>{if(0===v.length)return void E(t("errors.uploadFile")||"Please upload at least one FB2 file.");D.current=!1,j("processing"),P(0),E(null),C(null);try{let r=v.map(e=>e.file),t=await (0,x.ci)(r,{},(e,r)=>{D.current||(P(e),k(r||""))});if(D.current)return void j("idle");if(t.success&&t.result)C(t.result),j("complete");else{var e;E((null==(e=t.error)?void 0:e.message)||"Failed to convert FB2 to PDF."),j("error")}}catch(e){D.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[v,t]),R=(0,a.useCallback)(()=>{D.current=!0,j("idle"),P(0)},[]),z="processing"===w||"uploading"===w,T=v.length>0&&!z;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(r).trim(),children:[(0,s.jsx)(u.l,{accept:[".fb2",".fb2.zip","application/x-fictionbook+xml"],multiple:!0,maxFiles:20,onFilesSelected:A,onError:O,disabled:z,label:f("fb2ToPdf.uploadLabel")||"Upload FB2 Files",description:f("fb2ToPdf.uploadDescription")||"Drag and drop FB2 e-book files here, or click to browse. Supports multiple files."}),F&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:F})]}),v.length>0&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:[v.length," ",1===v.length?"File":"Files"," Selected"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:v.map(e=>{var r;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[hsl(var(--color-background))] border border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))] flex-shrink-0",children:(0,s.jsx)(i.A,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=e.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>L(e.id),disabled:z,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50 flex-shrink-0",children:(0,s.jsx)(n.A,{className:"w-4 h-4"})})]},e.id)})})]})}),z&&(0,s.jsx)(m.r,{progress:y,status:w,message:N,onCancel:R,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:I,disabled:!T,loading:z,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!z&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),z?t("status.processing")||"Converting...":f("fb2ToPdf.convertButton")||"Convert to PDF"]}),S&&!Array.isArray(S)&&(0,s.jsx)(h.f,{file:S,filename:1===v.length?"".concat(v[0].file.name.replace(/\.fb2(\.zip)?$/i,""),".pdf"):"fb2-converted.zip",variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"}),S&&Array.isArray(S)&&S.map((e,r)=>{var t;return(0,s.jsx)(h.f,{file:e,filename:"".concat(null==(t=v[r])?void 0:t.file.name.replace(/\.fb2(\.zip)?$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"},r)})]}),"complete"===w&&S&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:f("fb2ToPdf.successMessage")||"Your FB2 file(s) have been converted to PDF."})]})]})}let v=f},14781:(e,r,t)=>{"use strict";t.d(r,{xn:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){var t,a,o;this.reset(),this.onProgress=r;let{files:i,options:n}=e,c={color:null!=(t=n.color)?t:{r:1,g:1,b:.9},pages:null!=(a=n.pages)?a:"all",opacity:null!=(o=n.opacity)?o:1};if(1!==i.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=i[0],t=await r.arrayBuffer(),a=await e.PDFDocument.load(t,{ignoreEncryption:!0}),o=a.getPageCount(),n="all"===c.pages?Array.from({length:o},(e,r)=>r):c.pages.map(e=>e-1),d=await e.PDFDocument.create();this.updateProgress(30,"Embedding pages...");let u=a.getPages(),m=await d.embedPages(u);this.updateProgress(40,"Adding background color...");for(let r=0;r<o;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let{width:t,height:a}=u[r].getSize(),l=d.addPage([t,a]);n.includes(r)&&l.drawRectangle({x:0,y:0,width:t,height:a,color:e.rgb(c.color.r,c.color.g,c.color.b),opacity:c.opacity});let i=m[r];l.drawPage(i,{x:0,y:0,width:t,height:a}),this.updateProgress(40+50*(r+1)/o,"Processing page ".concat(r+1,"..."))}this.updateProgress(95,"Saving PDF...");let h=await d.save({useObjectStreams:!0}),p=new Blob([new Uint8Array(h)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(p,r.name.replace(".pdf","_background.pdf"),{pageCount:o})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to add background color.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},14929:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ChangePermissionsTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(94465),m=t(8202);function h(e){var r;let{className:t=""}=e,h=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(""),[E,D]=(0,a.useState)(""),[A,O]=(0,a.useState)(""),[L,I]=(0,a.useState)(!1),[R,z]=(0,a.useState)(""),[T,M]=(0,a.useState)({allowPrinting:!0,allowHighQualityPrinting:!0,allowModifying:!0,allowCopying:!0,allowAnnotating:!0,allowFillingForms:!0,allowContentAccessibility:!0,allowDocumentAssembly:!0}),_=(0,a.useRef)(!1),G=(0,a.useCallback)(e=>{e.length>0&&(x(e[0]),S(null),N(null))},[]),B=(0,a.useCallback)(e=>{S(e)},[]),U=(0,a.useCallback)(()=>{x(null),N(null),S(null),v("idle"),w(0),F(""),D(""),O("")},[]),W=(0,a.useCallback)(e=>{M(r=>({...r,[e]:!r[e]}))},[]),V=(0,a.useCallback)(()=>{M({allowPrinting:!0,allowHighQualityPrinting:!0,allowModifying:!0,allowCopying:!0,allowAnnotating:!0,allowFillingForms:!0,allowContentAccessibility:!0,allowDocumentAssembly:!0})},[]),$=(0,a.useCallback)(()=>{M({allowPrinting:!1,allowHighQualityPrinting:!1,allowModifying:!1,allowCopying:!1,allowAnnotating:!1,allowFillingForms:!1,allowContentAccessibility:!1,allowDocumentAssembly:!1})},[]),H=(0,a.useCallback)(async()=>{if(!g)return void S("Please select a PDF file.");_.current=!1,v("processing"),w(0),S(null),N(null);try{let t=await (0,m.z0)(g,{permissions:T,currentPassword:C||void 0,newUserPassword:E||void 0,newOwnerPassword:A||void 0},(e,r)=>{_.current||(w(e),y(r||""))});if(_.current)return void v("idle");if(t.success&&t.result)N(t.result),v("complete");else{var e,r;let s=(null==(e=t.error)?void 0:e.message)||"",a=(null==(r=t.error)?void 0:r.details)||"",l="".concat(s," ").concat(a).toLowerCase();"INVALID_PASSWORD"===s||l.includes("invalid password")||l.includes("incorrect password")?(z(p("changePermissions.invalidPassword")||"The current password you entered is incorrect. Please check and try again."),I(!0)):"PASSWORD_REQUIRED"===s||l.includes("password required")||l.includes("password-protected")?(z(p("changePermissions.passwordRequired")||"This PDF is password-protected. Please enter the current password to proceed."),I(!0)):S(s||"Failed to change permissions."),v("error")}}catch(e){if(!_.current){let r=e instanceof Error?e.message:String(e),t=r.toLowerCase();t.includes("invalid password")||t.includes("incorrect password")?(z(p("changePermissions.invalidPassword")||"The current password you entered is incorrect. Please check and try again."),I(!0)):t.includes("password required")||t.includes("password-protected")?(z(p("changePermissions.passwordRequired")||"This PDF is password-protected. Please enter the current password to proceed."),I(!0)):S(r||"An unexpected error occurred."),v("error")}}},[g,T,C,E,A,p]),Z=(0,a.useCallback)(()=>{_.current=!0,v("idle"),w(0)},[]),q="processing"===f,K=g&&!q,Y=[{key:"allowPrinting",label:p("changePermissions.allowPrinting")||"Allow Printing",desc:p("changePermissions.allowPrintingDesc")||"Users can print the document"},{key:"allowHighQualityPrinting",label:p("changePermissions.allowHighQualityPrinting")||"Allow High-Quality Printing",desc:p("changePermissions.allowHighQualityPrintingDesc")||"Users can print at high resolution"},{key:"allowModifying",label:p("changePermissions.allowModifying")||"Allow Modifying",desc:p("changePermissions.allowModifyingDesc")||"Users can edit the document"},{key:"allowCopying",label:p("changePermissions.allowCopying")||"Allow Copying",desc:p("changePermissions.allowCopyingDesc")||"Users can copy text and images"},{key:"allowAnnotating",label:p("changePermissions.allowAnnotating")||"Allow Annotating",desc:p("changePermissions.allowAnnotatingDesc")||"Users can add comments and annotations"},{key:"allowFillingForms",label:p("changePermissions.allowFillingForms")||"Allow Filling Forms",desc:p("changePermissions.allowFillingFormsDesc")||"Users can fill in form fields"},{key:"allowContentAccessibility",label:p("changePermissions.allowAccessibility")||"Allow Accessibility",desc:p("changePermissions.allowAccessibilityDesc")||"Screen readers can access content"},{key:"allowDocumentAssembly",label:p("changePermissions.allowAssembly")||"Allow Assembly",desc:p("changePermissions.allowAssemblyDesc")||"Users can insert, delete, or rotate pages"}];return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:G,onError:B,disabled:q,label:p("changePermissions.uploadLabel")||"Upload PDF File",description:p("changePermissions.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),g&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:g.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=g.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:U,disabled:q,children:h("buttons.remove")||"Remove"})]})}),g&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:p("changePermissions.optionsTitle")||"Document Permissions"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:V,disabled:q,children:p("changePermissions.allowAll")||"Allow All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:$,disabled:q,children:p("changePermissions.restrictAll")||"Restrict All"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-yellow-50 border border-yellow-200",children:(0,s.jsx)("p",{className:"text-sm text-yellow-700",children:p("changePermissions.info")||"Note: Permission enforcement requires PDF encryption. Set an owner password below to enforce restrictions."})}),(0,s.jsx)("div",{className:"space-y-3",children:Y.map(e=>{let{key:r,label:t,desc:a}=e;return(0,s.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer p-2 rounded-[var(--radius-sm)] hover:bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("input",{type:"checkbox",checked:T[r],onChange:()=>W(r),disabled:q,className:"w-4 h-4 mt-0.5 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:t}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:a})]})]},r)})})]})]}),g&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:p("changePermissions.passwordTitle")||"Password Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:p("changePermissions.privacyNotice")||"\uD83D\uDD12 Your passwords are processed locally and never sent to any server."})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:p("changePermissions.currentPasswordLabel")||"Current Password (if PDF is encrypted)"}),(0,s.jsx)("input",{type:"password",value:C,onChange:e=>F(e.target.value),placeholder:p("changePermissions.currentPasswordPlaceholder")||"Enter current password",disabled:q,className:"w-full px-3 py-2 rounded-[var(--radius-sm)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:p("changePermissions.currentPasswordHint")||"Required if the PDF is already password-protected."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:p("changePermissions.newUserPasswordLabel")||"New User Password (to open document)"}),(0,s.jsx)("input",{type:"password",value:E,onChange:e=>D(e.target.value),placeholder:p("changePermissions.newUserPasswordPlaceholder")||"Enter user password",disabled:q,className:"w-full px-3 py-2 rounded-[var(--radius-sm)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:p("changePermissions.newUserPasswordHint")||"Users will need this password to open the PDF."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:p("changePermissions.newOwnerPasswordLabel")||"New Owner Password (to change permissions)"}),(0,s.jsx)("input",{type:"password",value:A,onChange:e=>O(e.target.value),placeholder:p("changePermissions.newOwnerPasswordPlaceholder")||"Enter owner password",disabled:q,className:"w-full px-3 py-2 rounded-[var(--radius-sm)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:p("changePermissions.newOwnerPasswordHint")||"Required to enforce permission restrictions."})]})]})]}),q&&(0,s.jsx)(i.r,{progress:b,status:f,message:j,onCancel:Z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:H,disabled:!K,loading:q,children:q?h("status.processing")||"Processing...":p("changePermissions.applyButton")||"Apply Permissions"}),P&&(0,s.jsx)(n.f,{file:P,filename:g?"".concat(g.name.replace(".pdf",""),"_permissions.pdf"):"permissions.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===f&&P&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:p("changePermissions.successMessage")||"Permissions updated successfully!"}),(0,s.jsx)("p",{className:"text-xs mt-1 text-green-600",children:p("changePermissions.successHint")||"For full permission enforcement, encrypt the PDF with an owner password."})]}),(0,s.jsx)(u.a,{isOpen:L,onClose:()=>I(!1),title:h("status.error")||"Error",size:"sm",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-foreground))]",children:R})})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(c.$,{variant:"primary",size:"sm",onClick:()=>I(!1),children:h("buttons.close")||"Close"})})]})})]})}let p=h},15157:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ComparePDFsTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(31166),c=t(47972),d=t(32096);let u=a.useLayoutEffect;function m(e){let{className:r=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)("idle"),[w,j]=(0,a.useState)(0),[y,P]=(0,a.useState)(""),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)([]),[F,E]=(0,a.useState)(0),[D,A]=(0,a.useState)("side-by-side"),[O,L]=(0,a.useState)(50),[I,R]=(0,a.useState)(!1),z=(0,a.useRef)(null),T=(0,a.useRef)(null),M=(0,a.useRef)(null),_=(0,a.useRef)(null),G=(0,a.useRef)(null),B=(0,a.useRef)(!1),U=(0,a.useRef)(null),W=(0,a.useRef)(!1),V=(0,a.useCallback)(async(e,r)=>{try{let s=await Promise.resolve().then(t.bind(t,98045));(0,d.Ek)(s);let a=await e.arrayBuffer(),l=await s.getDocument({data:a}).promise,o=[];for(let e=1;e<=l.numPages;e++){if(W.current)return null;let t=await l.getPage(e),s=t.getViewport({scale:1.5}),a=document.createElement("canvas");a.width=s.width,a.height=s.height;let i=a.getContext("2d");await t.render({canvasContext:i,viewport:s}).promise;let n=i.getImageData(0,0,a.width,a.height);o.push(n),j(Math.round(e/l.numPages*50*(1===r?1:.5)+25*(2===r)))}return{id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,pageCount:l.numPages,pages:o}}catch(e){throw console.error("Failed to load PDF:",e),e}},[]),$=(0,a.useCallback)((e,r)=>{let t=Math.min(e.width,r.width),s=Math.min(e.height,r.height),a=Math.max(e.width,r.width),l=Math.max(e.height,r.height),o=document.createElement("canvas");o.width=a,o.height=l;let i=o.getContext("2d").createImageData(a,l),n=0,c=t*s;for(let l=0;l<s;l++)for(let s=0;s<t;s++){let t=(l*a+s)*4,o=(l*e.width+s)*4,c=(l*r.width+s)*4,d=e.data[o],u=e.data[o+1],m=e.data[o+2],h=r.data[c],p=r.data[c+1],g=r.data[c+2],x=.3*Math.abs(d-h)+.59*Math.abs(u-p)+.11*Math.abs(m-g);if(x>15){n++;let e=Math.min(255,Math.round(2*x));i.data[t]=255,i.data[t+1]=0,i.data[t+2]=0,i.data[t+3]=Math.max(150,e)}else i.data[t]=Math.round((d+h)/2),i.data[t+1]=Math.round((u+p)/2),i.data[t+2]=Math.round((m+g)/2),i.data[t+3]=80}for(let e=0;e<l;e++)for(let r=0;r<a;r++)if(r>=t||e>=s){let t=(e*a+r)*4;i.data[t]=0,i.data[t+1]=100,i.data[t+2]=255,i.data[t+3]=150}let d=c>0?n/c*100:0,u=e.width!==r.width||e.height!==r.height;return{pageIndex:0,hasDifference:n>0||u,differencePercentage:d,diffImageData:i}},[]),H=(0,a.useCallback)(async e=>{if(0!==e.length){W.current=!1,b("processing"),j(0),P("Loading first PDF..."),k(null),C([]);try{let r=await V(e[0],1);r&&g(r),b("idle")}catch(e){k(e instanceof Error?e.message:"Failed to load first PDF"),b("error")}}},[V]),Z=(0,a.useCallback)(async e=>{if(0!==e.length){W.current=!1,b("processing"),j(25),P("Loading second PDF..."),k(null),C([]);try{let r=await V(e[0],2);r&&f(r),b("idle")}catch(e){k(e instanceof Error?e.message:"Failed to load second PDF"),b("error")}}},[V]),q=(0,a.useCallback)(e=>{k(e)},[]),K=(0,a.useCallback)(async()=>{if(!p||!x)return void k("Please upload both PDF files to compare.");W.current=!1,b("processing"),j(50),P("Comparing pages..."),k(null);try{let e=Math.max(p.pageCount,x.pageCount),r=[];for(let t=0;t<e;t++){if(W.current)return void b("idle");let s=p.pages[t],a=x.pages[t];if(s&&a){let e=$(s,a),l=document.createElement("canvas");l.width=e.diffImageData.width,l.height=e.diffImageData.height,l.getContext("2d").putImageData(e.diffImageData,0,0),r.push({pageIndex:t,hasDifference:e.hasDifference,differencePercentage:e.differencePercentage,diffImageUrl:l.toDataURL()})}else r.push({pageIndex:t,hasDifference:!0,differencePercentage:100});j(50+Math.round(t/e*50))}C(r),E(0),b("complete")}catch(e){W.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),b("error"))}},[p,x,$]),Y=(0,a.useCallback)(()=>{W.current=!0,b("idle"),j(0)},[]),J=(0,a.useCallback)(()=>{g(null),C([])},[]),X=(0,a.useCallback)(()=>{f(null),C([])},[]),Q=(0,a.useCallback)(()=>{g(null),f(null),C([]),k(null),b("idle"),j(0),E(0)},[]),ee=(0,a.useCallback)(()=>{E(e=>Math.max(0,e-1))},[]),er=(0,a.useCallback)(()=>{let e=Math.max((null==p?void 0:p.pageCount)||0,(null==x?void 0:x.pageCount)||0);E(r=>Math.min(e-1,r+1))},[p,x]),et=(0,a.useCallback)(()=>{!B.current&&_.current&&G.current&&(B.current=!0,G.current.scrollTop=_.current.scrollTop,G.current.scrollLeft=_.current.scrollLeft,requestAnimationFrame(()=>{B.current=!1}))},[]),es=(0,a.useCallback)(()=>{!B.current&&_.current&&G.current&&(B.current=!0,_.current.scrollTop=G.current.scrollTop,_.current.scrollLeft=G.current.scrollLeft,requestAnimationFrame(()=>{B.current=!1}))},[]),ea=(0,a.useCallback)(async()=>{if(U.current)try{document.fullscreenElement?(await document.exitFullscreen(),R(!1)):(await U.current.requestFullscreen(),R(!0))}catch(e){console.error("Fullscreen error:",e)}},[]);(0,a.useEffect)(()=>{let e=()=>{R(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]);let el=S.length;u(()=>{if(!p||!x||0===el)return;let e=p.pages[F],r=x.pages[F],t=S[F];if(z.current&&e&&("side-by-side"===D||"overlay"===D)){let r=z.current.getContext("2d");r&&(z.current.width=e.width,z.current.height=e.height,r.putImageData(e,0,0))}if(T.current&&r&&("side-by-side"===D||"overlay"===D)){let e=T.current.getContext("2d");e&&(T.current.width=r.width,T.current.height=r.height,e.putImageData(r,0,0))}if(M.current&&(null==t?void 0:t.diffImageUrl)&&"diff"===D){let e=M.current.getContext("2d");if(e){let r=new Image;r.onload=()=>{M.current&&(M.current.width=r.width,M.current.height=r.height,e.drawImage(r,0,0))},r.src=t.diffImageUrl}}},[p,x,el,F,D]);let eo=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),ei="processing"===v||"uploading"===v,en=p&&x&&!ei,ec=Math.max((null==p?void 0:p.pageCount)||0,(null==x?void 0:x.pageCount)||0),ed=S[F];return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("comparePdfs.file1Label")||"First PDF (Original)"}),p?(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate max-w-[200px]",children:p.file.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[eo(p.file.size)," • ",p.pageCount," pages"]})]})]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:J,disabled:ei,children:m("buttons.remove")||"Remove"})]})}):(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:H,onError:q,disabled:ei,label:h("comparePdfs.uploadFile1")||"Upload First PDF",description:h("comparePdfs.uploadDescription")||"Drag and drop or click to browse"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("comparePdfs.file2Label")||"Second PDF (Modified)"}),x?(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-blue-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate max-w-[200px]",children:x.file.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[eo(x.file.size)," • ",x.pageCount," pages"]})]})]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:X,disabled:ei,children:m("buttons.remove")||"Remove"})]})}):(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:Z,onError:q,disabled:ei,label:h("comparePdfs.uploadFile2")||"Upload Second PDF",description:h("comparePdfs.uploadDescription")||"Drag and drop or click to browse"})]})]}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),ei&&(0,s.jsx)(i.r,{progress:w,status:v,message:y,onCancel:Y,showPercentage:!0}),p&&x&&0===S.length&&!ei&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:K,disabled:!en,children:h("comparePdfs.compareButton")||"Compare PDFs"})}),S.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:h("comparePdfs.resultsTitle")||"Comparison Results"}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[S.filter(e=>e.hasDifference).length," of ",S.length," pages have differences"]})]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:Q,children:h("comparePdfs.newComparison")||"New Comparison"})]})}),(0,s.jsxs)(c.Zp,{variant:"outlined",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:h("comparePdfs.viewMode")||"View Mode:"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{variant:"side-by-side"===D?"primary":"outline",size:"sm",onClick:()=>A("side-by-side"),children:h("comparePdfs.sideBySide")||"Side by Side"}),(0,s.jsx)(n.$,{variant:"overlay"===D?"primary":"outline",size:"sm",onClick:()=>A("overlay"),children:h("comparePdfs.overlay")||"Overlay"}),(0,s.jsx)(n.$,{variant:"diff"===D?"primary":"outline",size:"sm",onClick:()=>A("diff"),children:h("comparePdfs.differences")||"Differences"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:ea,title:I?h("comparePdfs.exitFullscreen")||"Exit Fullscreen":h("comparePdfs.fullscreen")||"Fullscreen",children:I?(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})]})]}),"overlay"===D&&(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:h("comparePdfs.opacity")||"Opacity:"}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:O,onChange:e=>L(Number(e.target.value)),className:"flex-1 max-w-xs"}),(0,s.jsxs)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[O,"%"]})]})]}),(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:ee,disabled:0===F,children:["← ",m("buttons.previous")||"Previous"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:["Page ",F+1," of ",ec]}),ed&&(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(ed.hasDifference?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:ed.hasDifference?"".concat(ed.differencePercentage.toFixed(1),"% different"):"Identical"})]}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:er,disabled:F>=ec-1,children:[m("buttons.next")||"Next"," →"]})]})}),(0,s.jsxs)("div",{ref:U,className:"border border-[hsl(var(--color-border))] rounded-[var(--radius-md)] overflow-hidden bg-[hsl(var(--color-muted)/0.2)] ".concat(I?"fixed inset-0 z-50 rounded-none border-none flex flex-col":""),children:[I&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[hsl(var(--color-background))] border-b border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:["Page ",F+1," of ",ec]}),ed&&(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(ed.hasDifference?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:ed.hasDifference?"".concat(ed.differencePercentage.toFixed(1),"% different"):"Identical"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:ee,disabled:0===F,children:["← ",m("buttons.previous")||"Previous"]}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:er,disabled:F>=ec-1,children:[m("buttons.next")||"Next"," →"]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:ea,children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})})})]})]}),"side-by-side"===D&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 ".concat(I?"flex-1 min-h-0":""),children:[(0,s.jsxs)("div",{className:"text-center ".concat(I?"flex flex-col min-h-0":""),children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2 flex-shrink-0",children:null==p?void 0:p.file.name}),(0,s.jsx)("div",{ref:_,onScroll:et,className:"overflow-auto border border-[hsl(var(--color-border))] rounded bg-white ".concat(I?"flex-1 min-h-0":"max-h-[600px]"),children:(0,s.jsx)("canvas",{ref:z,className:"max-w-full h-auto"})})]}),(0,s.jsxs)("div",{className:"text-center ".concat(I?"flex flex-col min-h-0":""),children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2 flex-shrink-0",children:null==x?void 0:x.file.name}),(0,s.jsx)("div",{ref:G,onScroll:es,className:"overflow-auto border border-[hsl(var(--color-border))] rounded bg-white ".concat(I?"flex-1 min-h-0":"max-h-[600px]"),children:(0,s.jsx)("canvas",{ref:T,className:"max-w-full h-auto"})})]})]}),"overlay"===D&&(0,s.jsxs)("div",{className:"p-4 text-center ".concat(I?"flex-1 flex flex-col min-h-0":""),children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2 flex-shrink-0",children:"Overlay View (Red: First PDF, Blue: Second PDF)"}),(0,s.jsxs)("div",{className:"relative overflow-auto border border-[hsl(var(--color-border))] rounded bg-white ".concat(I?"flex-1 min-h-0 w-full":"max-h-[600px] inline-block"),children:[(0,s.jsx)("canvas",{ref:z,className:"max-w-full h-auto"}),(0,s.jsx)("canvas",{ref:T,className:"absolute top-0 left-0 max-w-full h-auto mix-blend-difference",style:{opacity:O/100}})]})]}),"diff"===D&&(0,s.jsxs)("div",{className:"p-4 text-center ".concat(I?"flex-1 flex flex-col min-h-0":""),children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2 flex-shrink-0",children:h("comparePdfs.diffView")||"Difference View (Red areas show changes)"}),(0,s.jsx)("div",{className:"overflow-auto border border-[hsl(var(--color-border))] rounded bg-white ".concat(I?"flex-1 min-h-0 w-full":"max-h-[600px] inline-block"),children:(null==ed?void 0:ed.diffImageUrl)?(0,s.jsx)("img",{src:ed.diffImageUrl,alt:"Difference view",className:"max-w-full h-auto"}):(0,s.jsx)("canvas",{ref:M,className:"max-w-full h-auto"})})]})]}),(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-3",children:h("comparePdfs.pageOverview")||"Page Overview"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map((e,r)=>(0,s.jsx)("button",{onClick:()=>E(r),className:"\n                    w-10 h-10 rounded flex items-center justify-center text-sm font-medium\n                    transition-all duration-200\n                    ".concat(F===r?"ring-2 ring-[hsl(var(--color-primary))] ring-offset-2":"","\n                    ").concat(e.hasDifference?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200","\n                  "),title:e.hasDifference?"Page ".concat(r+1,": ").concat(e.differencePercentage.toFixed(1),"% different"):"Page ".concat(r+1,": Identical"),children:r+1},r))}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-2",children:[(0,s.jsx)("span",{className:"inline-block w-3 h-3 bg-green-100 rounded mr-1"})," Identical",(0,s.jsx)("span",{className:"inline-block w-3 h-3 bg-red-100 rounded ml-3 mr-1"})," Has differences"]})]}),(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("comparePdfs.successMessage")||"Comparison complete! Use the view modes and page navigation to explore differences."})})]})]})}let h=m},15781:(e,r,t)=>{"use strict";t.d(r,{w4:()=>m});var s=t(78752),a=t(18365);let l={ownerPassword:""},o=null,i=null,n=[];async function c(){return o||i||(i=new Promise((e,r)=>{if(window.Module&&"function"==typeof window.Module)return void d(e,r);let t=document.createElement("script");t.src="/qpdf.js",t.async=!0,t.onload=()=>{d(e,r)},t.onerror=()=>{i=null,r(Error("Failed to load QPDF script"))},document.head.appendChild(t)}))}function d(e,r){try{let t=window.Module;if(!t||"function"!=typeof t)return void r(Error("QPDF module not found after script load"));t({locateFile:e=>e.endsWith(".wasm")?"/qpdf.wasm":e}).then(r=>{o=r,e(r)}).catch(e=>{i=null,r(e)})}catch(e){i=null,r(e)}}class u extends a.A{async process(e,r){let t;this.reset(),this.onProgress=r;let{files:a,options:o}=e,i={...l,...o};if(1!==a.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(a.length," file(s)."));let d=a[0],u="/input.pdf",m="/output.pdf";try{if(this.updateProgress(5,"Initializing..."),t=await c(),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(15,"Reading PDF file...");let e=await d.arrayBuffer(),r=e.byteLength,a=new Uint8Array(e);if(t.FS.writeFile(u,a),this.updateProgress(30,"Preparing..."),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50,"Removing restrictions...");let l=[u];i.ownerPassword&&l.push("--password="+i.ownerPassword),l.push("--decrypt","--remove-restrictions","--",m),n=[];let o=console.error;console.error=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];let s=r.map(e=>String(e)).join(" ");n.push(s),o.apply(console,r)};let h=null;try{t.callMain(l)}catch(e){h=e}finally{console.error=o}let p=!1,g=null;try{p=!!((g=t.FS.readFile(m,{encoding:"binary"}))&&g.length>0)}catch(e){p=!1}if(!p){let e=n.join(" ").toLowerCase(),r=e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password")||e.includes("password");if(r||h){let e=h?String(h.message||h||"").toLowerCase():"";if(r||e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password")||e.includes("password"))return this.createErrorOutput(s.GS.INVALID_PASSWORD,"INVALID_PASSWORD","The password you entered is incorrect. Please check and try again.");throw h||Error("Failed to remove restrictions")}return this.createErrorOutput(s.GS.INVALID_PASSWORD,"INVALID_PASSWORD","The password you entered is incorrect. Please check and try again.")}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Preparing file...");let x=new Blob([new Uint8Array(g)],{type:"application/pdf"}),f=g.length;try{t.FS.unlink(u)}catch(e){console.warn("Failed to unlink input file")}try{t.FS.unlink(m)}catch(e){console.warn("Failed to unlink output file")}this.updateProgress(100,"Complete!");let v=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_unrestricted.pdf")}(d.name);return this.createSuccessOutput(x,v,{originalSize:r,newSize:f,restrictionsRemoved:!0})}catch(r){if(null==t?void 0:t.FS){try{t.FS.unlink(u)}catch(e){}try{t.FS.unlink(m)}catch(e){}}let e=String(r instanceof Error?r.message:r||"").toLowerCase();if(e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password")||e.includes("password"))return this.createErrorOutput(s.GS.INVALID_PASSWORD,"INVALID_PASSWORD","The password you entered is incorrect. Please check and try again.");return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to remove PDF restrictions.",r instanceof Error?r.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function m(e,r,t){return new u().process({files:[e],options:r||{}},t)}},16360:(e,r,t)=>{"use strict";t.d(r,{ReversePagesTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(27467),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),D=(0,a.useRef)(!1),A=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages)}catch(e){console.error("Failed to load PDF info:",e),E("Failed to load PDF. The file may be corrupted or encrypted.")}},[]),O=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),A(r)}},[A]),L=(0,a.useCallback)(e=>{E(e)},[]),I=(0,a.useCallback)(()=>{f(null),b(0),C(null),E(null),j("idle"),P(0)},[]),R=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");if(v<2)return void E("PDF must have at least 2 pages to reverse.");D.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await (0,u.Xc)(x,(e,r)=>{D.current||(P(e),k(r||""))});if(D.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to reverse pages."),j("error")}}catch(e){D.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,v]),z=(0,a.useCallback)(()=>{D.current=!0,j("idle"),P(0)},[]),T="processing"===w||"uploading"===w,M=x&&v>=2&&!T;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:g("reversePages.uploadLabel")||"Upload PDF File",description:g("reversePages.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-2",children:g("reversePages.infoTitle")||"Reverse Page Order"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:g("reversePages.infoDescription")||"This will reverse the order of all ".concat(v," pages in your PDF. Page 1 will become page ").concat(v,", page 2 will become page ").concat(v-1,", and so on.")}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3].map(e=>(0,s.jsx)("div",{className:"w-8 h-10 bg-[hsl(var(--color-muted))] rounded flex items-center justify-center text-xs font-medium",children:e},e)),(0,s.jsx)("span",{className:"text-[hsl(var(--color-muted-foreground))]",children:"..."})]}),(0,s.jsx)("svg",{className:"w-6 h-6 text-[hsl(var(--color-primary))]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"text-[hsl(var(--color-muted-foreground))]",children:"..."}),[3,2,1].map(e=>(0,s.jsx)("div",{className:"w-8 h-10 bg-[hsl(var(--color-primary)/0.2)] rounded flex items-center justify-center text-xs font-medium text-[hsl(var(--color-primary))]",children:e},e))]})]})]}),T&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:z,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,children:T?p("status.processing")||"Processing...":g("reversePages.reverseButton")||"Reverse Pages"}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_reversed.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("reversePages.successMessage")||"Page order reversed successfully! Click the download button to save your file."})})]})}},16459:(e,r,t)=>{"use strict";t.d(r,{tJ:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={position:"bottom-center",format:"number",startNumber:1,fontSize:12,fontColor:"#000000",margin:30,skipFirstPage:!1,prefix:"",suffix:"",customFormat:"Page {page} of {total}",...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=t[0],a=await r.arrayBuffer(),i=await e.PDFDocument.load(a,{ignoreEncryption:!0}),n=await i.embedFont(e.StandardFonts.Helvetica),c=i.getPageCount(),d=new Set(o.skipPages||[]),u=o.fontColor||"#000000",m=parseInt(u.slice(1,3),16)/255,h=parseInt(u.slice(3,5),16)/255,p=parseInt(u.slice(5,7),16)/255,g=e.rgb(m,h,p);this.updateProgress(30,"Adding page numbers...");for(let e=0;e<c;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=e+1,t=r%2==1,a=o.pageMode||"all";if(o.skipFirstPage&&1===r||d.has(r)||"odd-only"===a&&!t||"even-only"===a&&t)continue;let l=i.getPage(e),{width:u,height:m}=l.getSize(),h=(o.startNumber||1)+e-!!o.skipFirstPage,p=c-!!o.skipFirstPage,x="";switch(o.format){case"roman":x=function(e){let r="";for(let[t,s]of[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]])for(;e>=t;)r+=s,e-=t;return r}(h);break;case"page-of-total":x="Page ".concat(h," of ").concat(p);break;case"custom":x=(o.customFormat||"Page {page} of {total}").replace(/{page}/g,String(h)).replace(/{total}/g,String(p));break;default:x=String(h)}x="".concat(o.prefix||"").concat(x).concat(o.suffix||"");let f=o.fontSize||12,v=o.margin||30,b=n.widthOfTextAtSize(x,f),w=0,j=0,y=o.position||"bottom-center";switch("odd-even-different"===a&&(t&&o.oddPosition?y=o.oddPosition:!t&&o.evenPosition&&(y=o.evenPosition)),y){case"bottom-left":w=v,j=v;break;case"bottom-right":w=u-b-v,j=v;break;case"top-center":w=(u-b)/2,j=m-v;break;case"top-left":w=v,j=m-v;break;case"top-right":w=u-b-v,j=m-v;break;default:w=(u-b)/2,j=v}l.drawText(x,{x:w,y:j,size:f,font:n,color:g}),this.updateProgress(30+60*(e+1)/c,"Processing page ".concat(r,"..."))}this.updateProgress(95,"Saving PDF...");let x=await i.save({useObjectStreams:!0}),f=new Blob([new Uint8Array(x)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(f,r.name.replace(".pdf","_numbered.pdf"),{pageCount:c})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to add page numbers.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},17668:(e,r,t)=>{"use strict";t.d(r,{GO:()=>o,nJ:()=>l});var s=t(78752);let a={maxSize:s.Q6.DEFAULT_MAX_SIZE,acceptedTypes:[...s.cK.PDF],requirePdf:!0};function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={...a,...r},l=[];if(!e||0===e.size)return l.push(d(s.GS.FILE_EMPTY,"The file is empty or could not be read.")),{valid:!1,errors:l};if(t.maxSize&&t.maxSize!==1/0&&e.size>t.maxSize){let r=Math.round(t.maxSize/1048576);l.push(d(s.GS.FILE_TOO_LARGE,"File size exceeds the maximum limit of ".concat(r,"MB."),"File size: ".concat(function(e){if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,r)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][r])}(e.size),", Maximum: ").concat(r,"MB")))}if(t.acceptedTypes&&t.acceptedTypes.length>0){let r=t.acceptedTypes.includes(e.type)||t.acceptedTypes.some(r=>{if(r.endsWith("/*")){let t=r.slice(0,-2);return e.type.startsWith(t)}return!1}),a=e.name.toLowerCase().endsWith(".pdf"),o=t.acceptedTypes.includes("application/pdf");r||o&&a||l.push(d(s.GS.FILE_TYPE_INVALID,"Invalid file type. Expected: ".concat(t.acceptedTypes.join(", ")),"Received: ".concat(e.type||"unknown")))}return{valid:0===l.length,errors:l}}async function o(e){let r=[];try{var t;let a=await i(e,8);if((t=a).length<5||37!==t[0]||80!==t[1]||68!==t[2]||70!==t[3]||45!==t[4])return r.push(d(s.GS.FILE_NOT_PDF,"The file does not appear to be a valid PDF.","PDF files must start with %PDF-")),{valid:!1,errors:r};!function(e){if(e.length<8)return null;let r=String.fromCharCode(...e.slice(5,8)).trim();return/^\d\.\d/.test(r)?r:null}(a)&&r.push(d(s.GS.PDF_MALFORMED,"Could not determine PDF version.","The PDF header may be corrupted.")),await c(e)||r.push(d(s.GS.PDF_MALFORMED,"PDF file appears to be incomplete or corrupted.","Missing EOF marker."))}catch(e){r.push(d(s.GS.FILE_CORRUPTED,"Could not read the file.",e instanceof Error?e.message:"Unknown error"))}return{valid:0===r.length,errors:r}}async function i(e,r){let t=e.slice(0,r);return new Uint8Array(await t.arrayBuffer())}async function n(e,r,t){return e.slice(r,t).text()}async function c(e){try{let r=Math.min(1024,e.size);return(await n(e,e.size-r,e.size)).includes("%%EOF")}catch(e){return!1}}function d(e,r,t){return{code:e,category:s.SM[e]||s.h.VALIDATION_ERROR,message:r,details:t,recoverable:e!==s.GS.FILE_CORRUPTED}}},18365:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(78752),a=t(17668);class l{async validate(e){let r=[];for(let t of e){let e=(0,a.nJ)(t,{maxSize:this.getMaxFileSize(),acceptedTypes:this.getAcceptedTypes()});if(!e.valid){r.push(...e.errors);continue}if("application/pdf"===t.type||t.name.toLowerCase().endsWith(".pdf")){let e=await (0,a.GO)(t);e.valid||r.push(...e.errors)}}return{valid:0===r.length,errors:r}}getProgress(){return this.progress}cancel(){this.cancelled=!0}reset(){this.progress=0,this.cancelled=!1}updateProgress(e,r){this.progress=Math.min(100,Math.max(0,e)),this.onProgress&&this.onProgress(this.progress,r)}checkCancelled(){return this.cancelled}createSuccessOutput(e,r,t){return{success:!0,result:e,filename:r,metadata:t}}createErrorOutput(e,r,t){return{success:!1,error:function(e,r,t,a){var l,o;let i=s.SM[e]||s.h.PROCESSING_ERROR,n=(l=e,![s.GS.FILE_CORRUPTED,s.GS.PDF_MALFORMED,s.GS.BROWSER_NOT_SUPPORTED].includes(l));return{code:e,category:i,message:r,details:t,recoverable:n,suggestedAction:(o=e,({[s.GS.FILE_TOO_LARGE]:"Try compressing or splitting the file first.",[s.GS.FILE_TYPE_INVALID]:"Please upload a valid PDF file.",[s.GS.FILE_CORRUPTED]:"The file may be damaged. Try a different file.",[s.GS.PDF_ENCRYPTED]:"Please decrypt the PDF first using the Decrypt tool.",[s.GS.PDF_MALFORMED]:"Try using the Repair PDF tool first.",[s.GS.PROCESSING_TIMEOUT]:"Try with a smaller file or fewer pages.",[s.GS.MEMORY_EXCEEDED]:"Close other browser tabs and try again.",[s.GS.WORKER_FAILED]:"Refresh the page and try again."})[o]||"Please try again.")}}(e,r,t)}}getMaxFileSize(){return 0x6400000}getAcceptedTypes(){return["application/pdf"]}constructor(){this.progress=0,this.cancelled=!1}}},19089:(e,r,t)=>{"use strict";t.d(r,{xP:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/xps-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",()=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one XPS file.","Received ".concat(t.length," file(s)."));let a=t[0];if(!a.name.toLowerCase().endsWith(".xps"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload an XPS file.","Received: ".concat(a.type||a.name));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting XPS to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.xps$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert XPS to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},19362:(e,r,t)=>{"use strict";t.d(r,{gz:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={A4:{width:595.28,height:841.89},LETTER:{width:612,height:792},LEGAL:{width:612,height:1008},A3:{width:841.89,height:1190.55}},i={pageSize:"A4",fontSize:10,lineHeight:1.4,indentSpaces:2,margin:{top:72,right:72,bottom:72,left:72},prettyPrint:!0,showLineNumbers:!0};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...i,...a};if(t.length<1)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least 1 JSON file is required.","Received ".concat(t.length," file(s)."));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Creating PDF document...");let r=await e.PDFDocument.create(),a=await r.embedFont(e.StandardFonts.Courier),i=80/t.length;for(let l=0;l<t.length;l++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let n=t[l],c=10+l*i;this.updateProgress(c,"Processing file ".concat(l+1," of ").concat(t.length,": ").concat(n.name));try{let t,l=await n.text();try{let e=JSON.parse(l);t=o.prettyPrint?JSON.stringify(e,null,o.indentSpaces):JSON.stringify(e)}catch(e){return this.createErrorOutput(s.GS.FILE_CORRUPTED,'Invalid JSON in file "'.concat(n.name,'".'),e instanceof Error?e.message:"JSON parse error")}await this.addJSONToDocument(r,t,n.name,a,o,e)}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,'Failed to process file "'.concat(n.name,'".'),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(95,"Saving PDF...");let n=await r.save({useObjectStreams:!0}),c=new Blob([new Uint8Array(n)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let d=this.generateOutputFilename(t);return this.createSuccessOutput(c,d,{pageCount:r.getPageCount(),fileCount:t.length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert JSON to PDF.",e instanceof Error?e.message:"Unknown error")}}async addJSONToDocument(e,r,t,s,a,l){let i=o[a.pageSize],{margin:n,fontSize:c,lineHeight:d,showLineNumbers:u}=a,m=u?4*c:0,h=i.width-n.left-n.right-m;i.height,n.top,n.bottom;let p=c*d,g=r.split("\n"),x=this.wrapLines(g,s,c,h),f=e.addPage([i.width,i.height]),v=i.height-n.top;f.drawText("File: ".concat(t),{x:n.left,y:v-c,size:c,font:s,color:l.rgb(.4,.4,.4)}),v-=2*p,f.drawLine({start:{x:n.left,y:v},end:{x:i.width-n.right,y:v},thickness:.5,color:l.rgb(.8,.8,.8)}),v-=p;let b=1;for(let r of x)v-p<n.bottom&&(f=e.addPage([i.width,i.height]),v=i.height-n.top),u&&f.drawText(String(b).padStart(3," "),{x:n.left,y:v-c,size:c,font:s,color:l.rgb(.6,.6,.6)}),f.drawText(r,{x:n.left+m,y:v-c,size:c,font:s,color:l.rgb(0,0,0)}),v-=p,b++}wrapLines(e,r,t,s){let a=[];for(let o of e){var l;if(""===o){a.push("");continue}if(r.widthOfTextAtSize(o,t)<=s){a.push(o);continue}let e=(null==(l=o.match(/^(\s*)/))?void 0:l[1])||"",i=o.slice(e.length),n=e,c=0;for(;c<i.length;){let l=n+i[c];r.widthOfTextAtSize(l,t)<=s?(n=l,c++):(n.trim()&&a.push(n),n=e+"  ")}n.trim()&&a.push(n)}return a}generateOutputFilename(e){if(1===e.length){let r=e[0].name.replace(/\.[^/.]+$/,"");return"".concat(r,".pdf")}return"json_".concat(e.length,"_files.pdf")}getAcceptedTypes(){return["application/json",".json"]}}async function c(e,r,t){return new n().process({files:e,options:r||{}},t)}},20334:(e,r,t)=>{"use strict";t.d(r,{du:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){var t,a,o,i,n;this.reset(),this.onProgress=r;let{files:c,options:d}=e,u={color:null!=(t=d.color)?t:{r:0,g:0,b:0},pages:null!=(a=d.pages)?a:"all",mode:null!=(o=d.mode)?o:"dark",threshold:null!=(i=d.threshold)?i:128,scale:null!=(n=d.scale)?n:3};if(1!==c.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(5,"Loading PDF libraries...");let[e,r]=await Promise.all([(0,l.Ck)(),(0,l.Iy)()]);this.updateProgress(10,"Loading PDF...");let t=c[0],a=await t.arrayBuffer(),o=await r.getDocument({data:a}).promise,i=o.numPages,n="all"===u.pages?Array.from({length:i},(e,r)=>r+1):u.pages,d=await e.PDFDocument.create();this.updateProgress(15,"Changing text color...");let{r:m,g:h,b:p}=u.color,g=u.threshold,x="dark"===u.mode;for(let e=0;e<n.length;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=n[e],t=15+75*(e/n.length);this.updateProgress(t,"Processing page ".concat(r," of ").concat(i,"..."));let a=await o.getPage(r),l=a.getViewport({scale:1}),c=l.width,f=l.height,v=u.scale||3,b=a.getViewport({scale:v}),w=document.createElement("canvas"),j=b.width,y=b.height;w.width=j,w.height=y;let P=w.getContext("2d");await a.render({canvasContext:P,viewport:b}).promise;let N=P.getImageData(0,0,j,y),k=N.data;for(let e=0;e<k.length;e+=4){let r=k[e],t=k[e+1],s=k[e+2],a=(r+t+s)/3;(x?a<g:a>g)&&(k[e]=255*m,k[e+1]=255*h,k[e+2]=255*p)}P.putImageData(N,0,0);let S=await this.canvasToPngBytes(w),C=await d.embedPng(S);d.addPage([c,f]).drawImage(C,{x:0,y:0,width:c,height:f})}this.updateProgress(95,"Saving PDF...");let f=await d.save({useObjectStreams:!0}),v=new Blob([new Uint8Array(f)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(v,t.name.replace(".pdf","_textcolor.pdf"),{pageCount:n.length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to change text color.",e instanceof Error?e.message:"Unknown error")}}canvasToPngBytes(e){return new Promise((r,t)=>{e.toBlob(e=>{if(!e)return void t(Error("Failed to convert canvas to blob"));let s=new FileReader;s.onload=()=>r(new Uint8Array(s.result)),s.onerror=()=>t(Error("Failed to read blob")),s.readAsArrayBuffer(e)},"image/png")})}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},20546:(e,r,t)=>{"use strict";t.d(r,{SignPDFTool:()=>d});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(31166),n=t(47972),c=t(57814);function d(e){let{className:r=""}=e,t=(0,l.c)("common"),d=(0,l.c)("tools"),[u,m]=(0,a.useState)({file:null,blobUrl:null,viewerReady:!1}),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!0),b=(0,a.useRef)(null);(0,a.useEffect)(()=>()=>{u.blobUrl&&URL.revokeObjectURL(u.blobUrl)},[u.blobUrl]);let w=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];u.blobUrl&&URL.revokeObjectURL(u.blobUrl);let t=URL.createObjectURL(r);try{let e=localStorage.getItem("pdfjs.preferences"),r=e?JSON.parse(e):{};delete r.annotationEditorMode;let t={...r,enableSignatureEditor:!0,enablePermissions:!1};localStorage.setItem("pdfjs.preferences",JSON.stringify(t))}catch(e){console.warn("Could not set PDF.js preferences:",e)}m({file:r,blobUrl:t,viewerReady:!1}),p(null)}},[u.blobUrl]),j=(0,a.useCallback)(e=>{p(e)},[]),y=(0,a.useCallback)(()=>{m(e=>({...e,viewerReady:!0}));try{let e=b.current;if(!(null==e?void 0:e.contentWindow))return;let r=e.contentWindow;if(null==r?void 0:r.PDFViewerApplication){let e=r.PDFViewerApplication,t=r.document,s=e.eventBus;null==s||s._on("annotationeditoruimanager",()=>{let e=t.getElementById("editorModeButtons");null==e||e.classList.remove("hidden");let r=t.getElementById("editorSignature");null==r||r.removeAttribute("hidden");let s=t.getElementById("editorSignatureButton");s&&(s.disabled=!1);let a=t.getElementById("editorStamp");null==a||a.removeAttribute("hidden");let l=t.getElementById("editorStampButton");l&&(l.disabled=!1)})}}catch(e){console.error("Could not initialize PDF.js viewer:",e)}},[]),P=(0,a.useCallback)(async()=>{if(!u.viewerReady||!b.current)return void p("Viewer not ready. Please wait for the PDF to load.");try{var e,r;x(!0);let t=b.current.contentWindow;if(!(null==t?void 0:t.PDFViewerApplication)){p("PDF viewer not initialized."),x(!1);return}let s=t.PDFViewerApplication;if(f){let r=await s.pdfDocument.saveDocument(s.pdfDocument.annotationStorage),t=new Uint8Array(r),a=await c.PDFDocument.load(t);try{a.getForm().flatten()}catch(e){}let l=await a.save(),o=new Blob([new Uint8Array(l).buffer],{type:"application/pdf"}),i=URL.createObjectURL(o),n=document.createElement("a");n.href=i,n.download="signed_".concat((null==(e=u.file)?void 0:e.name)||"document.pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}else null==(r=s.eventBus)||r.dispatch("download",{source:s});x(!1)}catch(e){console.error("Failed to save signed PDF:",e),p("Failed to save signed PDF. Please try again."),x(!1)}},[u.viewerReady,u.file,f]),N=(0,a.useCallback)(()=>{u.blobUrl&&URL.revokeObjectURL(u.blobUrl),m({file:null,blobUrl:null,viewerReady:!1}),p(null)},[u.blobUrl]),k=u.blobUrl?"/pdfjs-viewer/viewer.html?file=".concat(encodeURIComponent(u.blobUrl)):null;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!u.file&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:w,onError:j,disabled:g,label:d("signPdf.uploadLabel")||"Upload PDF File",description:d("signPdf.uploadDescription")||"Drag and drop a PDF file to sign."}),h&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:h})}),u.file&&k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:u.file.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[(u.file.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:N,disabled:g,children:t("buttons.remove")||"Remove"})]})}),(0,s.jsx)(n.Zp,{variant:"outlined",className:"bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:d("signPdf.instructionsTitle")||"How to Sign"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-600",children:[(0,s.jsx)("li",{children:d("signPdf.instruction1")||"Click the Signature tool (pen icon) in the toolbar"}),(0,s.jsx)("li",{children:d("signPdf.instruction2")||"Draw, type, or upload your signature"}),(0,s.jsx)("li",{children:d("signPdf.instruction3")||"Click where you want to place the signature"}),(0,s.jsx)("li",{children:d("signPdf.instruction4")||'Click "Save Signed PDF" below when done'})]})]})]})}),(0,s.jsx)("div",{className:"border border-[hsl(var(--color-border))] rounded-[var(--radius-lg)] overflow-hidden",children:(0,s.jsx)("iframe",{ref:b,src:k,onLoad:y,className:"w-full bg-gray-100",style:{height:"600px",border:"none"},title:"PDF Signature Editor"})}),(0,s.jsx)(n.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:f,onChange:e=>v(e.target.checked),disabled:g,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:d("signPdf.flattenOption")||"Flatten signature (recommended - makes signature permanent)"})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)(i.$,{variant:"primary",size:"lg",onClick:P,disabled:!u.viewerReady||g,loading:g,children:g?t("status.processing")||"Processing...":d("signPdf.saveButton")||"Save Signed PDF"})})]})})]})]})}},21849:(e,r,t)=>{"use strict";t.r(r),t.d(r,{AddAttachmentsTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(5691);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)([]),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)("document"),[E,D]=(0,a.useState)(""),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(p(e[0]),S(null),N(null))},[]),L=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e}));x(e=>[...e,...r]),S(null),N(null)},[]),I=(0,a.useCallback)(e=>{S(e)},[]),R=(0,a.useCallback)(e=>{x(r=>r.filter(r=>r.id!==e)),N(null)},[]),z=(0,a.useCallback)(()=>{p(null),x([]),N(null),S(null),v("idle"),w(0)},[]),T=(0,a.useCallback)(async()=>{if(!h||0===g.length)return void S("Please select a PDF file and at least one file to attach.");A.current=!1,v("processing"),w(0),S(null),N(null);try{let r=await (0,u.uT)(h,g.map(e=>e.file),{attachmentLevel:C,pageRange:"page"===C?E:void 0},(e,r)=>{A.current||(w(e),y(r||""))});if(A.current)return void v("idle");if(r.success&&r.result)N(r.result),v("complete");else{var e;S((null==(e=r.error)?void 0:e.message)||"Failed to add attachments."),v("error")}}catch(e){A.current||(S(e instanceof Error?e.message:"An unexpected error occurred."),v("error"))}},[h,g,C,E]),M=(0,a.useCallback)(()=>{A.current=!0,v("idle"),w(0)},[]),_=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),G="processing"===f||"uploading"===f,B=h&&g.length>0&&!G;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("addAttachments.pdfFileTitle")||"1. Select PDF File"}),(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:I,disabled:G,label:m("addAttachments.pdfUploadLabel")||"Upload PDF File",description:m("addAttachments.pdfUploadDescription")||"Select the PDF file to add attachments to."}),h&&(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-3 p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:h.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:_(h.size)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>p(null),disabled:G,className:"p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600","aria-label":"Remove PDF",children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]})]}),(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("addAttachments.attachmentsTitle")||"2. Select Files to Attach"}),(0,s.jsx)(o.l,{accept:["*/*"],multiple:!0,maxFiles:50,onFilesSelected:L,onError:I,disabled:G,label:m("addAttachments.attachmentsUploadLabel")||"Upload Attachments",description:m("addAttachments.attachmentsUploadDescription")||"Select files to embed in the PDF. Any file type is supported."}),g.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[g.length," file(s) selected"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>x([]),disabled:G,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:g.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-3 p-2 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-[hsl(var(--color-muted-foreground))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:_(e.file.size)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>R(e.id),disabled:G,className:"p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id))})]})]}),h&&g.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("addAttachments.optionsTitle")||"Attachment Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:m("addAttachments.attachmentLevel")||"Attachment Level"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"attachmentLevel",value:"document",checked:"document"===C,onChange:()=>F("document"),disabled:G,className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:m("addAttachments.documentLevel")||"Document Level"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"attachmentLevel",value:"page",checked:"page"===C,onChange:()=>F("page"),disabled:G,className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:m("addAttachments.pageLevel")||"Page Level"})]})]})]}),"page"===C&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:m("addAttachments.pageRange")||"Page Range"}),(0,s.jsx)("input",{type:"text",value:E,onChange:e=>D(e.target.value),placeholder:"e.g., 1-3, 5, 7-9",disabled:G,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-sm"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:m("addAttachments.pageRangeHint")||"Specify which pages to attach files to."})]})]})]}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),G&&(0,s.jsx)(i.r,{progress:b,status:f,message:j,onCancel:M,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:T,disabled:!B,loading:G,children:G?t("status.processing")||"Processing...":m("addAttachments.addButton")||"Add Attachments"}),P&&(0,s.jsx)(n.f,{file:P,filename:h?h.name.replace(/\.pdf$/i,"_with_attachments.pdf"):"output.pdf",variant:"secondary",size:"lg",showFileSize:!0}),(h||g.length>0)&&!G&&(0,s.jsx)(c.$,{variant:"ghost",size:"lg",onClick:z,children:t("buttons.clearAll")||"Clear All"})]}),"complete"===f&&P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("addAttachments.successMessage")||"Attachments added successfully! Click the download button to save your file."})})]})}let h=m},23341:(e,r,t)=>{"use strict";t.d(r,{tf:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:a,options:o}=e,i={threshold:99,checkMargins:!0,marginSize:20,...o};if(1!==a.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(5,"Loading libraries...");let e=await (0,l.Ck)(),r=await Promise.resolve().then(t.bind(t,98045));(0,l.Ek)(r),this.updateProgress(15,"Loading PDF...");let o=a[0],n=await o.arrayBuffer(),c=await r.getDocument({data:n.slice(0)}).promise,d=c.numPages;this.updateProgress(25,"Analyzing pages...");let u=[],m=i.threshold||99;for(let e=1;e<=d;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=await c.getPage(e),t=r.getViewport({scale:.5}),a=document.createElement("canvas"),l=a.getContext("2d");if(l){a.width=t.width,a.height=t.height,await r.render({canvasContext:l,viewport:t}).promise;let s=l.getImageData(0,0,a.width,a.height);this.isPageBlank(s,m)&&u.push(e)}this.updateProgress(25+40*e/d,"Analyzing page ".concat(e,"..."))}if(0===u.length){this.updateProgress(100,"Complete!");let e=new Blob([new Uint8Array(n)],{type:"application/pdf"});return this.createSuccessOutput(e,o.name,{pageCount:d,blankPagesRemoved:0,message:"No blank pages found."})}if(u.length===d)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"All pages appear to be blank. Cannot remove all pages.");this.updateProgress(70,"Removing blank pages...");let h=await e.PDFDocument.load(n,{ignoreEncryption:!0}),p=await e.PDFDocument.create(),g=Array.from({length:d},(e,r)=>r).filter(e=>!u.includes(e+1));(await p.copyPages(h,g)).forEach(e=>p.addPage(e)),this.updateProgress(95,"Saving PDF...");let x=await p.save({useObjectStreams:!0}),f=new Blob([new Uint8Array(x)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(f,o.name.replace(".pdf","_no_blanks.pdf"),{originalPageCount:d,blankPagesRemoved:u.length,newPageCount:g.length,removedPages:u})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to remove blank pages.",e instanceof Error?e.message:"Unknown error")}}isPageBlank(e,r){let t=e.data,s=0,a=t.length/4;for(let e=0;e<t.length;e+=4){let r=t[e],a=t[e+1],l=t[e+2];r>250&&a>250&&l>250&&s++}return s/a*100>=r}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},23443:(e,r,t)=>{"use strict";t.d(r,{TextColorTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(20334);function m(e){let{className:r=""}=e,t=(0,l.c)("tools.textColor"),m=(0,l.c)("common.buttons"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)("#0000ff"),[k,S]=(0,a.useState)("dark"),[C,F]=(0,a.useState)(128),E=(0,a.useRef)(!1),D=(0,a.useCallback)(async()=>{if(h){E.current=!1,x("processing"),v(0),y(null),w(null);try{let r=await (0,u.du)(h,{color:(e=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:0,g:0,b:0}})(P),pages:"all",mode:k,threshold:C},e=>{E.current||v(e)});if(r.success&&r.result)w(r.result),x("complete");else{var e;y((null==(e=r.error)?void 0:e.message)||"Failed."),x("error")}}catch(e){y(e instanceof Error?e.message:"Error"),x("error")}}},[h,P,k,C]),A="processing"===g;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!h&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:e=>{e.length>0&&(p(e[0]),y(null),w(null))},onError:y,disabled:A,label:t("uploadLabel"),description:t("uploadDescription")}),j&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:j})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:h.name}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{p(null),w(null)},disabled:A,children:m("remove")})]})}),(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:t("colorLabel")}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("input",{type:"color",value:P,onChange:e=>N(e.target.value),className:"w-16 h-10 border rounded cursor-pointer",disabled:A}),(0,s.jsx)("input",{type:"text",value:P,onChange:e=>N(e.target.value),className:"px-3 py-2 border rounded w-32",disabled:A})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:t("modeLabel")||"Mode"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"mode",value:"dark",checked:"dark"===k,onChange:()=>S("dark"),disabled:A}),(0,s.jsx)("span",{className:"text-sm",children:t("modeDark")||"Dark text (light background)"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"mode",value:"light",checked:"light"===k,onChange:()=>S("light"),disabled:A}),(0,s.jsx)("span",{className:"text-sm",children:t("modeLight")||"Light text (dark background)"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2",children:[t("thresholdLabel")||"Threshold",": ",C]}),(0,s.jsx)("input",{type:"range",min:"0",max:"255",value:C,onChange:e=>F(Number(e.target.value)),className:"w-full",disabled:A}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:t("thresholdHint")||"Adjust to control which pixels are affected"})]})]})})]}),A&&(0,s.jsx)(i.r,{progress:f,status:g,onCancel:()=>{E.current=!0,x("idle")},showPercentage:!0}),h&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:D,disabled:!h||A,loading:A,children:A?m("process")+"...":t("applyButton")}),b&&(0,s.jsx)(n.f,{file:b,filename:h.name.replace(".pdf","_textcolor.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&b&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:t("successMessage")})})]})}},25278:(e,r,t)=>{"use strict";t.d(r,{cH:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={divisionType:"vertical"},i={vertical:{cols:2,rows:1},horizontal:{cols:1,rows:2},"grid-2x2":{cols:2,rows:2},"grid-3x3":{cols:3,rows:3}};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,n={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file first.");throw e}let c=e.getPages(),d=c.length;if(this.updateProgress(15,"Source PDF has ".concat(d," pages.")),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let u=i[n.divisionType],m=u.cols*u.rows;this.updateProgress(20,"Creating divided PDF...");let h=await r.PDFDocument.create(),p=70/d;for(let r=0;r<d;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(20+r*p,"Processing page ".concat(r+1," of ").concat(d,"..."));let{width:t,height:a}=c[r].getSize(),l=t/u.cols,o=a/u.rows;for(let t=0;t<u.rows;t++)for(let s=0;s<u.cols;s++){let[i]=await h.copyPages(e,[r]),n=s*l,c=a-(t+1)*o;i.setCropBox(n,c,l,o),i.setMediaBox(n,c,l,o),h.addPage(i)}}this.updateProgress(90,"Saving PDF...");let g=await h.save({useObjectStreams:!0}),x=new Blob([new Uint8Array(g)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let f=function(e,r){let t=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(t,"_divided_").concat(r,".pdf")}(a.name,n.divisionType),v=d*m;return this.createSuccessOutput(x,f,{originalPageCount:d,outputPageCount:v,divisionType:n.divisionType,sectionsPerPage:m})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to divide PDF pages.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function c(e,r,t){return new n().process({files:[e],options:r},t)}},26222:(e,r,t)=>{"use strict";t.d(r,{AddBlankPageTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(37447),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)(0),[O,L]=(0,a.useState)(1),I=(0,a.useRef)(!1),R=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages),A(a.numPages)}catch(e){console.error("Failed to load PDF info:",e),E("Failed to load PDF. The file may be corrupted or encrypted.")}},[]),z=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),R(r)}},[R]),T=(0,a.useCallback)(e=>{E(e)},[]),M=(0,a.useCallback)(()=>{f(null),b(0),A(0),L(1),C(null),E(null),j("idle"),P(0)},[]),_=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");if(O<1)return void E("Please enter a valid number of pages (1 or more).");if(D<0||D>v)return void E("Position must be between 0 and ".concat(v,"."));I.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await (0,u._r)(x,D,O,(e,r)=>{I.current||(P(e),k(r||""))});if(I.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to add blank pages."),j("error")}}catch(e){I.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,D,O,v]),G=(0,a.useCallback)(()=>{I.current=!0,j("idle"),P(0)},[]),B="processing"===w||"uploading"===w,U=x&&v>0&&O>=1&&!B;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:z,onError:T,disabled:B,label:g("addBlankPage.uploadLabel")||"Upload PDF File",description:g("addBlankPage.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:M,disabled:B,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("addBlankPage.optionsTitle")||"Add Blank Pages Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("addBlankPage.positionLabel")||"Insert Position"}),(0,s.jsx)("input",{type:"number",id:"position",min:0,max:v,value:D,onChange:e=>A(parseInt(e.target.value)||0),disabled:B,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-[hsl(var(--color-muted-foreground))]",children:g("addBlankPage.positionHint",{total:v})||"Enter 0 to insert at the beginning, or ".concat(v," to insert at the end.")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"count",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("addBlankPage.countLabel")||"Number of Blank Pages"}),(0,s.jsx)("input",{type:"number",id:"count",min:1,max:100,value:O,onChange:e=>L(parseInt(e.target.value)||1),disabled:B,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>A(0),disabled:B,children:p("buttons.insertAtBeginning")||"Insert at Beginning"}),(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>A(v),disabled:B,children:p("buttons.insertAtEnd")||"Insert at End"})]})]})]}),B&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:G,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:_,disabled:!U,loading:B,children:B?p("status.processing")||"Processing...":g("addBlankPage.addButton")||"Add ".concat(O," Blank Page").concat(1!==O?"s":"")}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_blank_pages_added.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("addBlankPage.successMessage")||"Successfully added ".concat(O," blank page(s)! Click the download button to save your file.")})})]})}},27082:(e,r,t)=>{"use strict";t.d(r,{sb:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/rtf-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",()=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one RTF file.","Received ".concat(t.length," file(s)."));let a=t[0];if(!(a.name.toLowerCase().endsWith(".rtf")||"application/rtf"===a.type||"text/rtf"===a.type))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload an RTF file.","Received: ".concat(a.type||a.name));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting RTF to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.rtf$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert RTF to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},27467:(e,r,t)=>{"use strict";t.d(r,{Xc:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file first.");throw e}let i=e.getPageCount();if(this.updateProgress(20,"Source PDF has ".concat(i," pages.")),i<2)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"PDF must have at least 2 pages to reverse.","The PDF has only ".concat(i," page(s)."));if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Reversing page order...");let n=await r.PDFDocument.create(),c=Array.from({length:i},(e,r)=>i-1-r);this.updateProgress(50,"Copying pages in reverse order..."),(await n.copyPages(e,c)).forEach(e=>n.addPage(e)),this.updateProgress(90,"Saving PDF...");let d=await n.save({useObjectStreams:!0}),u=new Blob([new Uint8Array(d)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let m=function(e){let r=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(r,"_reversed.pdf")}(a.name);return this.createSuccessOutput(u,m,{pageCount:i})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to reverse PDF pages.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r){return new o().process({files:[e],options:{}},r)}},28735:(e,r,t)=>{"use strict";t.d(r,{aw:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={gridLayout:"2x2",pageSize:"A4",orientation:"landscape",useMargins:!0,addBorder:!0,borderColor:"#CCCCCC",spacing:10,fillMode:"leave-empty",pageMode:"first-page-only"},i={A4:[595.28,841.89],Letter:[612,792],Legal:[612,1008],A3:[841.89,1190.55]};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,n={...o,...a};if(t.length<2)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least 2 PDF files are required for grid combine.","Received ".concat(t.length," file(s)."));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDFs...");let[r,a]=function(e){let r=e.match(/(\d+)x(\d+)/);return r?[parseInt(r[1],10),parseInt(r[2],10)]:[2,2]}(n.gridLayout),o=r*a,[c,d]=i[n.pageSize];"landscape"===n.orientation&&c<d?[c,d]=[d,c]:"portrait"===n.orientation&&c>d&&([c,d]=[d,c]);let u=36*!!n.useMargins,m=n.spacing,h=c-2*u,p=d-2*u,g=(h-m*(r-1))/r,x=(p-m*(a-1))/a,f=[],v=30/t.length;for(let r=0;r<t.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let a=t[r];this.updateProgress(10+r*v,"Loading ".concat(a.name,"..."));try{let r=await a.arrayBuffer(),t=await e.PDFDocument.load(r,{ignoreEncryption:!0});f.push({doc:t,name:a.name})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,'Failed to load "'.concat(a.name,'".'),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(40,"Creating grid layout...");let b=await e.PDFDocument.create(),w=function(e){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:.8,g:.8,b:.8}}(n.borderColor),j=[];for(let{doc:e,name:r}of f){let t=e.getPages();if("all-pages"===n.pageMode)for(let e=0;e<t.length;e++)j.push({page:t[e],name:r,pageNum:e+1});else t.length>0&&j.push({page:t[0],name:r,pageNum:1})}let y=[...j];if(j.length<o){if("repeat"===n.fillMode)for(;y.length<o;){let e=y.length%j.length;y.push({...j[e]})}else if("stretch-last"===n.fillMode){let e=j[j.length-1];for(;y.length<o;)y.push({...e})}}this.updateProgress(45,"Embedding pages...");let P=[],N=new Map;for(let{page:e}of j)N.has(e)||(N.set(e,P.length),P.push(e));let k=await b.embedPages(P),S=new Map;for(let e=0;e<P.length;e++)S.set(P[e],k[e]);let C=Math.ceil(y.length/o),F=40/C;for(let t=0;t<C;t++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50+t*F,"Creating page ".concat(t+1," of ").concat(C,"..."));let a=b.addPage([c,d]),l=t*o,i=Math.min(l+o,y.length),h=y.slice(l,i);for(let t=0;t<h.length;t++){let{page:s}=h[t],l=S.get(s),o=Math.min(g/l.width,x/l.height),i=l.width*o,c=l.height*o,p=t%r,f=Math.floor(t/r),v=u+p*(g+m),b=d-u-x-f*(x+m),j=v+(g-i)/2,y=b+(x-c)/2;a.drawPage(l,{x:j,y,width:i,height:c}),n.addBorder&&a.drawRectangle({x:j,y,width:i,height:c,borderColor:e.rgb(w.r,w.g,w.b),borderWidth:.5})}}this.updateProgress(90,"Saving PDF...");let E=await b.save({useObjectStreams:!0}),D=new Blob([new Uint8Array(E)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let A="combined_".concat(r,"x").concat(a,"_grid.pdf");return this.createSuccessOutput(D,A,{sourceFileCount:t.length,totalSourcePages:y.length,gridLayout:n.gridLayout,outputPageCount:C,pageMode:n.pageMode,fillMode:n.fillMode})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to create grid combined PDF.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function c(e,r,t){return new n().process({files:e,options:r},t)}},29487:(e,r,t)=>{"use strict";t.d(r,{FormFillerTool:()=>u});var s=t(95155),a=t(12115),l=t(5113),o=t(64537),i=t(35437),n=t(31166),c=t(47972),d=t(92386);function u(e){let{className:r=""}=e,[t,u]=(0,a.useState)(null),[m,h]=(0,a.useState)("idle"),[p,g]=(0,a.useState)(0),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[w,j]=(0,a.useState)([]),[y,P]=(0,a.useState)(!1),N=(0,a.useRef)(!1),k=(0,a.useCallback)(async e=>{if(e.length>0){let r=e[0];u(r),b(null),f(null);try{let e=await (0,d.kZ)(r);j(e.map(e=>({...e,value:""})))}catch(e){b("Failed to read form fields. This PDF may not contain fillable forms.")}}},[]),S=(0,a.useCallback)((e,r)=>{j(t=>t.map((t,s)=>s===e?{...t,value:r}:t))},[]),C=(0,a.useCallback)(async()=>{if(t){N.current=!1,h("processing"),g(0),b(null),f(null);try{let r=w.filter(e=>e.value).map(e=>({fieldName:e.name,value:e.value})),s=await (0,d.yJ)(t,{fields:r,flatten:y},e=>{N.current||g(e)});if(s.success&&s.result)f(s.result),h("complete");else{var e;b((null==(e=s.error)?void 0:e.message)||"Failed."),h("error")}}catch(e){b(e instanceof Error?e.message:"Error"),h("error")}}},[t,w,y]),F="processing"===m;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!t&&(0,s.jsx)(l.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:k,onError:b,disabled:F,label:"Upload PDF Form",description:"Drag and drop a PDF form here."}),v&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:v})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{u(null),f(null),j([])},disabled:F,children:"Remove"})]})}),w.length>0?(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium mb-4",children:["Form Fields (",w.length,")"]}),(0,s.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("label",{className:"w-1/3 text-sm font-medium truncate",title:e.name,children:e.name}),(0,s.jsx)("input",{type:"text",value:e.value,onChange:e=>S(r,e.target.value),placeholder:"Enter ".concat(e.type),className:"flex-1 px-3 py-2 border rounded",disabled:F})]},r))}),(0,s.jsxs)("label",{className:"flex items-center gap-2 mt-4",children:[(0,s.jsx)("input",{type:"checkbox",checked:y,onChange:e=>P(e.target.checked),disabled:F,className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Flatten form after filling (make non-editable)"})]})]}):(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No fillable form fields found in this PDF."})})]}),F&&(0,s.jsx)(o.r,{progress:p,status:m,onCancel:()=>{N.current=!0,h("idle")},showPercentage:!0}),t&&w.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:C,disabled:!t||F,loading:F,children:F?"Processing...":"Fill Form"}),x&&(0,s.jsx)(i.f,{file:x,filename:t.name.replace(".pdf","_filled.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===m&&x&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:"Form filled successfully!"})})]})}},29553:(e,r,t)=>{"use strict";t.d(r,{qq:()=>i});var s=t(78752),a=t(18365);let l={minWidth:50,minHeight:50,minSize:10240};class o extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/extract-images.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...l,...a};if(0===t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide at least one PDF file.","No files provided.");try{this.updateProgress(5,"Initializing extractor...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize extraction worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let e=[],r=90/t.length,a=0;for(let s=0;s<t.length;s++){let l=t[s];if(this.checkCancelled())break;this.updateProgress(10+s*r,"Processing ".concat(l.name,"..."));try{for(let r of(await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="extract-"+Date.now(),s=s=>{let{type:a,id:l,result:o,error:n,message:c}=s.data;"status"!==a&&l===t&&("extract-complete"===a?(i(),e(o)):"error"===a&&(i(),r(Error(n||"Extraction failed"))))},a=e=>{i(),r(Error("Worker error: "+e.message))},i=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",a)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",a),this.worker.postMessage({type:"extract",id:t,data:{file:l,options:o}})})))a++,e.push({...r,index:a,data:r.data instanceof Uint8Array?r.data.buffer:r.data,name:"image_".concat(a,".").concat(r.ext)})}catch(e){console.warn("Failed to process file ".concat(l.name,":"),e)}}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");if(this.updateProgress(100,"Complete!"),0===e.length)return this.createErrorOutput(s.GS.PROCESSING_FAILED,"No images found in the selected PDF(s).","The PDF may not contain any embedded images that match the filter criteria.");return{success:!0,result:void 0,metadata:{images:e,imageCount:e.length,totalSize:e.reduce((e,r)=>e+r.size,0)}}}catch(e){return this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to extract images from PDF.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function i(e,r,t){return new o().process({files:e,options:r||{}},t)}},30037:(e,r,t)=>{"use strict";t.d(r,{ZK:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={orientation:"vertical",spacing:0,backgroundColor:"#FFFFFF",addSeparator:!1,separatorThickness:.5,separatorColor:"#000000"};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));try{let e,r,a;this.updateProgress(5,"Loading PDF library...");let o=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let c=t[0],d=await c.arrayBuffer();try{e=await o.PDFDocument.load(d,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file first.");throw e}let u=e.getPages(),m=u.length;if(this.updateProgress(15,"Source PDF has ".concat(m," pages.")),0===m)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"The PDF file has no pages.","Please provide a PDF with at least one page.");if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let{orientation:h,spacing:p,backgroundColor:g,addSeparator:x,separatorThickness:f,separatorColor:v}=i,b=0,w=0,j=0,y=0;for(let e of u){let{width:r,height:t}=e.getSize();b=Math.max(b,r),w=Math.max(w,t),j+=r,y+=t}let P=Math.max(0,m-1)*p;"horizontal"===h?(r=j+P,a=w):(r=b,a=y+P),this.updateProgress(20,"Creating combined page...");let N=await o.PDFDocument.create(),k=N.addPage([r,a]),S=n(g),C=n(v);"#FFFFFF"!==g.toUpperCase()&&k.drawRectangle({x:0,y:0,width:r,height:a,color:o.rgb(S.r,S.g,S.b)}),this.updateProgress(20,"Embedding pages...");let F=await N.embedPages(u),E=60/m,D=0,A=a;for(let e=0;e<m;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(25+e*E,"Processing page ".concat(e+1," of ").concat(m,"..."));let{width:t,height:l}=u[e].getSize(),i=F[e];if("horizontal"===h){let r=(a-l)/2;if(k.drawPage(i,{x:D,y:r,width:t,height:l}),x&&e<m-1){let e=D+t+p/2;k.drawLine({start:{x:e,y:0},end:{x:e,y:a},thickness:f,color:o.rgb(C.r,C.g,C.b)})}D+=t+p}else{A-=l;let s=(r-t)/2;if(k.drawPage(i,{x:s,y:A,width:t,height:l}),x&&e<m-1){let e=A-p/2;k.drawLine({start:{x:0,y:e},end:{x:r,y:e},thickness:f,color:o.rgb(C.r,C.g,C.b)})}A-=p}}this.updateProgress(90,"Saving PDF...");let O=await N.save({useObjectStreams:!0}),L=new Blob([new Uint8Array(O)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let I=function(e){let r=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(r,"_combined.pdf")}(c.name);return this.createSuccessOutput(L,I,{originalPageCount:m,outputPageCount:1,orientation:h,finalWidth:r,finalHeight:a})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to combine PDF pages.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}function n(e){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:1,g:1,b:1}}async function c(e,r,t){return new i().process({files:[e],options:r},t)}},30782:(e,r,t)=>{"use strict";t.d(r,{wA:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={fontSize:10,margin:30,fontColor:"#000000",...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=t[0],a=await r.arrayBuffer(),i=await e.PDFDocument.load(a,{ignoreEncryption:!0}),n=await i.embedFont(e.StandardFonts.Helvetica),c=i.getPageCount(),d=new Date().toLocaleDateString(),u=(e=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16)/255,g:parseInt(r[2],16)/255,b:parseInt(r[3],16)/255}:{r:0,g:0,b:0}})(o.fontColor||"#000000"),m=((e,r)=>{if(!e||"all"===e.toLowerCase()||""===e.trim())return new Set(Array.from({length:r},(e,r)=>r));let t=new Set;for(let s of e.split(",").map(e=>e.trim()))if(s.includes("-")){let[e,a]=s.split("-").map(e=>parseInt(e.trim()));if(!isNaN(e)&&!isNaN(a))for(let s=Math.max(1,e);s<=Math.min(a,r);s++)t.add(s-1)}else{let e=parseInt(s);!isNaN(e)&&e>=1&&e<=r&&t.add(e-1)}return t})(o.pageRange,c);this.updateProgress(30,"Adding headers and footers...");for(let r=0;r<c;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");if(!m.has(r)||o.skipFirstPage&&0===r)continue;let t=i.getPage(r),{width:a,height:l}=t.getSize(),h=o.margin||30,p=o.fontSize||10,g=r+1,x=e.rgb(u.r,u.g,u.b),f=e=>e.replace(/{page}/g,String(g)).replace(/{total}/g,String(c)).replace(/{date}/g,d);if(o.header){let e=l-h;if(o.header.left){let r=f(o.header.left);t.drawText(r,{x:h,y:e,size:p,font:n,color:x})}if(o.header.center){let r=f(o.header.center),s=n.widthOfTextAtSize(r,p);t.drawText(r,{x:(a-s)/2,y:e,size:p,font:n,color:x})}if(o.header.right){let r=f(o.header.right),s=n.widthOfTextAtSize(r,p);t.drawText(r,{x:a-h-s,y:e,size:p,font:n,color:x})}}if(o.footer){if(o.footer.left){let e=f(o.footer.left);t.drawText(e,{x:h,y:h,size:p,font:n,color:x})}if(o.footer.center){let e=f(o.footer.center),r=n.widthOfTextAtSize(e,p);t.drawText(e,{x:(a-r)/2,y:h,size:p,font:n,color:x})}if(o.footer.right){let e=f(o.footer.right),r=n.widthOfTextAtSize(e,p);t.drawText(e,{x:a-h-r,y:h,size:p,font:n,color:x})}}this.updateProgress(30+60*(r+1)/c,"Processing page ".concat(g,"..."))}this.updateProgress(95,"Saving PDF...");let h=await i.save({useObjectStreams:!0}),p=new Blob([new Uint8Array(h)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(p,r.name.replace(".pdf","_headerfooter.pdf"),{pageCount:c})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to add header/footer.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},31458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ExcelToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(41669),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(78491);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload an Excel file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.LT)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||"Failed to convert Excel to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".xlsx",".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("excelToPdf.uploadLabel")||"Upload Excel File",description:v("excelToPdf.uploadDescription")||"Drag and drop an Excel file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("excelToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.xlsx?$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("excelToPdf.successMessage")||"Your Excel file has been converted to PDF."})]})]})}let v=f},31876:(e,r,t)=>{"use strict";t.d(r,{PDFToExcelTool:()=>w});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(41669),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(78752),f=t(18365);class v extends f.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/pdf-to-excel.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"ready"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init"})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:s}=e;if(1!==t.length)return this.createErrorOutput(x.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let a=t[0];if(!a.type.includes("pdf")&&!a.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(x.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(a.type||"unknown"));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(x.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(x.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting PDF to Excel...");let e=await a.arrayBuffer(),r=new Uint8Array(e),t=await new Promise((e,t)=>{if(!this.worker)return void t(Error("Worker not initialized"));let a=r=>{let{type:s,data:a,error:l,message:i}=r.data;if("status"===s)return void this.updateProgress(this.progress,i);"complete"===s?(o(),e(new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}))):"error"===s&&(o(),t(Error(i||"Conversion failed")))},l=e=>{o(),t(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",a),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",a),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",data:r,options:s},[r.buffer])});if(this.checkCancelled())return this.createErrorOutput(x.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let l=a.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(t,"".concat(l,".xlsx"),{format:"xlsx"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(x.GS.PROCESSING_FAILED,"Failed to convert PDF to Excel.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function b(e,r,t){return new v().process({files:[e],options:r||{}},t)}function w(e){var r;let{className:t=""}=e,x=(0,l.c)("common"),[f,v]=(0,a.useState)(null),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),D=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{e.length>0&&(v({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),E(null),C(null),j("idle"),P(0))},[]),O=(0,a.useCallback)(e=>{E(e)},[]),L=(0,a.useCallback)(()=>{v(null),C(null),E(null),j("idle"),P(0)},[]),I=(0,a.useCallback)(async()=>{if(!f)return void E(x("errors.uploadFile")||"Please upload a PDF file.");D.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await b(f.file,{},(e,r)=>{D.current||(P(e),k(r||""))});if(D.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to convert PDF to Excel."),j("error")}}catch(e){D.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[f,x]),R=(0,a.useCallback)(()=>{D.current=!0,j("idle"),P(0)},[]),z="processing"===w||"uploading"===w,T=f&&!z;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:A,onError:O,disabled:z,label:"Upload PDF",description:"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:F})]}),f&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:f.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=f.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:L,disabled:z,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:[(0,s.jsx)(n.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"sr-only",children:x("buttons.remove")||"Remove"})]})]})}),f&&(0,s.jsx)("div",{className:"bg-blue-50/50 text-blue-700 text-sm p-4 rounded-xl border border-blue-100 dark:bg-blue-900/20 dark:text-blue-200 dark:border-blue-900/50",children:(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Each page's tables will be extracted to separate sheets in the Excel file."})]})}),z&&(0,s.jsx)(m.r,{progress:y,status:w,message:N,onCancel:R,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:I,disabled:!T,loading:z,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!z&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),z?x("status.processing")||"Converting...":"Convert to Excel"]}),S&&!Array.isArray(S)&&(0,s.jsx)(h.f,{file:S,filename:"".concat(null==f?void 0:f.file.name.replace(/\.pdf$/i,""),".xlsx"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===w&&S&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:"Your PDF tables have been extracted to Excel."})]})]})}},32096:(e,r,t)=>{"use strict";t.d(r,{Ck:()=>c,Ek:()=>n,Iy:()=>d});let s=null,a=null,l=null,o=null,i=!1;function n(e){if(!i){let r=e.version;e.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(r,"/pdf.worker.min.mjs"),i=!0}}async function c(){return s||l||(l=Promise.resolve().then(t.bind(t,57814)).then(e=>(s=e,l=null,e)))}async function d(){return a||o||(o=Promise.resolve().then(t.bind(t,98045)).then(e=>(n(e),a=e,o=null,e)))}},33164:(e,r,t)=>{"use strict";t.d(r,{oU:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={includeText:!0,includeMetadata:!0,includePageInfo:!0,includeOutline:!0,pages:[],prettyPrint:!0};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let n=t[0];if(!n.type.includes("pdf")&&!n.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(n.type||"unknown"));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Iy)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading PDF document...");let r=await n.arrayBuffer(),t=await e.getDocument({data:r}).promise,a=t.numPages,o={filename:n.name,info:{pageCount:a,isEncrypted:!1},pages:[]};if(i.includeMetadata){this.updateProgress(15,"Extracting metadata...");try{let e=await t.getMetadata();if(e.info){let r=e.info;o.metadata={title:r.Title,author:r.Author,subject:r.Subject,keywords:r.Keywords,creator:r.Creator,producer:r.Producer,creationDate:r.CreationDate?String(r.CreationDate):void 0,modificationDate:r.ModDate?String(r.ModDate):void 0},r.PDFFormatVersion&&(o.info.pdfVersion=String(r.PDFFormatVersion))}}catch(e){}}if(i.includeOutline){this.updateProgress(20,"Extracting outline...");try{let e=await t.getOutline();e&&(o.outline=this.processOutline(e))}catch(e){}}let c=i.pages.length>0?i.pages.filter(e=>e>=1&&e<=a):Array.from({length:a},(e,r)=>r+1);this.updateProgress(25,"Extracting ".concat(c.length," page(s)..."));let d=70/c.length;for(let e=0;e<c.length;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=c[e],l=25+e*d;this.updateProgress(l,"Extracting page ".concat(r," of ").concat(a,"..."));try{let e=await this.extractPageContent(t,r,i);o.pages.push(e)}catch(e){o.pages.push({pageNumber:r,text:"[Error extracting page: ".concat(e instanceof Error?e.message:"Unknown error","]")})}}this.updateProgress(95,"Generating JSON...");let u=i.prettyPrint?JSON.stringify(o,null,2):JSON.stringify(o),m=new Blob([u],{type:"application/json"});this.updateProgress(100,"Complete!");let h=n.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(m,"".concat(h,".json"),{pageCount:o.pages.length,hasMetadata:!!o.metadata,hasOutline:!!o.outline})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert PDF to JSON.",e instanceof Error?e.message:"Unknown error")}}async extractPageContent(e,r,t){let s=await e.getPage(r),a=s.getViewport({scale:1}),l={pageNumber:r};return t.includePageInfo&&(l.width=a.width,l.height=a.height,l.rotation=a.rotation),t.includeText&&(l.text=(await s.getTextContent()).items.filter(e=>"str"in e).map(e=>e.str).join(" ").replace(/\s+/g," ").trim()),l}processOutline(e){return e.map(e=>{let r={title:e.title||""};return e.dest&&(r.dest=String(e.dest)),e.items&&e.items.length>0&&(r.items=this.processOutline(e.items)),r})}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},33338:(e,r,t)=>{"use strict";t.d(r,{RepairPDFTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(13206);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),P=(0,a.useRef)(!1),N=(0,a.useCallback)(e=>{p(r=>[...r,...e]),y(null),w(null)},[]),k=(0,a.useCallback)(async()=>{if(0!==h.length){P.current=!1,x("processing"),v(0),y(null),w(null);try{let r=await (0,u.OH)(h[0],{},e=>{P.current||v(e)});if(r.success&&r.result)w(r.result),x("complete");else{var e;y((null==(e=r.error)?void 0:e.message)||"Failed to repair PDF."),x("error")}}catch(e){y(e instanceof Error?e.message:"An error occurred"),x("error")}}},[h]),S=(0,a.useCallback)(e=>{p(r=>r.filter((r,t)=>t!==e))},[]),C=(0,a.useCallback)(()=>{p([]),w(null),y(null),x("idle")},[]),F="processing"===g;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[0===h.length&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:10,onFilesSelected:N,onError:y,disabled:F,label:m("repairPdf.uploadLabel")||"Upload PDF Files",description:m("repairPdf.uploadDescription")||"Drag and drop PDF files to repair."}),j&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:j})}),h.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"font-medium",children:[m("repairPdf.filesTitle")||"Files to Repair"," (",h.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:C,disabled:F,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:h.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,s.jsx)("span",{className:"text-sm truncate",children:e.name}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>S(r),disabled:F,children:"\xd7"})]},r))})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:k,disabled:0===h.length||F,loading:F,children:F?t("status.processing")||"Processing...":m("repairPdf.repairButton")||"Repair PDFs"})})]}),F&&(0,s.jsx)(i.r,{progress:f,status:g,onCancel:()=>{P.current=!0,x("idle")},showPercentage:!0}),"complete"===g&&b&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"text-green-700 font-medium",children:m("repairPdf.successMessage")||"PDF repaired successfully!"}),(0,s.jsx)(n.f,{file:b,filename:1===h.length?"repaired_".concat(h[0].name):"repaired_pdfs.zip",variant:"primary",size:"lg"})]})})]})}},33671:(e,r,t)=>{"use strict";t.d(r,{NUpPDFTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(8519),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)(4),[O,L]=(0,a.useState)(2),[I,R]=(0,a.useState)(2),[z,T]=(0,a.useState)("A4"),[M,_]=(0,a.useState)("auto"),[G,B]=(0,a.useState)("horizontal"),[U,W]=(0,a.useState)(!0),[V,$]=(0,a.useState)(!1),[H,Z]=(0,a.useState)("#000000"),q=(0,a.useRef)(!1),K=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages)}catch(e){console.error("Failed to load PDF info:",e),E("Failed to load PDF. The file may be corrupted or encrypted.")}},[]),Y=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),K(r)}},[K]),J=(0,a.useCallback)(e=>{E(e)},[]),X=(0,a.useCallback)(()=>{f(null),b(0),C(null),E(null),j("idle"),P(0)},[]),Q=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");q.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await (0,u.cU)(x,{pagesPerSheet:D,customCols:O,customRows:I,pageSize:z,orientation:M,layoutDirection:G,useMargins:U,addBorder:V,borderColor:H},(e,r)=>{q.current||(P(e),k(r||""))});if(q.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to create N-Up PDF."),j("error")}}catch(e){q.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,D,O,I,z,M,G,U,V,H]),ee=(0,a.useCallback)(()=>{q.current=!0,j("idle"),P(0)},[]),er="processing"===w||"uploading"===w,et=x&&v>0&&!er,[es,ea]=(()=>{if("custom"===D)return[Math.max(1,O),Math.max(1,I)];if("vertical"===G&&2===D)return[1,2];switch(D){case 2:return[2,1];case 4:default:return[2,2];case 9:return[3,3];case 16:return[4,4]}})(),el=es*ea,eo=Math.ceil(v/el);return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:Y,onError:J,disabled:er,label:g("nUpPdf.uploadLabel")||"Upload PDF File",description:g("nUpPdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:X,disabled:er,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("nUpPdf.optionsTitle")||"N-Up Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pagesPerSheet",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.pagesPerSheet")||"Pages per Sheet"}),(0,s.jsxs)("select",{id:"pagesPerSheet",value:D,onChange:e=>{let r=e.target.value;"custom"===r?A("custom"):A(parseInt(r))},disabled:er,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:2,children:"2-up (2\xd71)"}),(0,s.jsx)("option",{value:4,children:"4-up (2\xd72)"}),(0,s.jsx)("option",{value:9,children:"9-up (3\xd73)"}),(0,s.jsx)("option",{value:16,children:"16-up (4\xd74)"}),(0,s.jsx)("option",{value:"custom",children:g("nUpPdf.customLayout")||"Custom..."})]})]}),"custom"===D&&(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{htmlFor:"customCols",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.columns")||"Columns"}),(0,s.jsx)("input",{type:"number",id:"customCols",min:1,max:10,value:O,onChange:e=>L(Math.max(1,Math.min(10,parseInt(e.target.value)||1))),disabled:er,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{htmlFor:"customRows",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.rows")||"Rows"}),(0,s.jsx)("input",{type:"number",id:"customRows",min:1,max:10,value:I,onChange:e=>R(Math.max(1,Math.min(10,parseInt(e.target.value)||1))),disabled:er,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pageSize",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.pageSize")||"Output Page Size"}),(0,s.jsxs)("select",{id:"pageSize",value:z,onChange:e=>T(e.target.value),disabled:er,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"Letter",children:"Letter"}),(0,s.jsx)("option",{value:"Legal",children:"Legal"}),(0,s.jsx)("option",{value:"A3",children:"A3"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"orientation",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.orientation")||"Orientation"}),(0,s.jsxs)("select",{id:"orientation",value:M,onChange:e=>_(e.target.value),disabled:er,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"auto",children:p("options.auto")||"Auto"}),(0,s.jsx)("option",{value:"portrait",children:p("options.portrait")||"Portrait"}),(0,s.jsx)("option",{value:"landscape",children:p("options.landscape")||"Landscape"})]})]}),2===D&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"layoutDirection",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.layoutDirection")||"Layout Direction"}),(0,s.jsxs)("select",{id:"layoutDirection",value:G,onChange:e=>B(e.target.value),disabled:er,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"horizontal",children:g("nUpPdf.layoutHorizontal")||"Horizontal (side by side)"}),(0,s.jsx)("option",{value:"vertical",children:g("nUpPdf.layoutVertical")||"Vertical (stacked)"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:"horizontal"===G?g("nUpPdf.layoutHorizontalDesc")||"Pages are placed side by side (left-right)":g("nUpPdf.layoutVerticalDesc")||"Pages are stacked top to bottom"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"useMargins",checked:U,onChange:e=>W(e.target.checked),disabled:er,className:"w-4 h-4 rounded border-[hsl(var(--color-border))]"}),(0,s.jsx)("label",{htmlFor:"useMargins",className:"text-sm text-[hsl(var(--color-foreground))]",children:g("nUpPdf.useMargins")||"Add margins and gutters"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"addBorder",checked:V,onChange:e=>$(e.target.checked),disabled:er,className:"w-4 h-4 rounded border-[hsl(var(--color-border))]"}),(0,s.jsx)("label",{htmlFor:"addBorder",className:"text-sm text-[hsl(var(--color-foreground))]",children:g("nUpPdf.addBorder")||"Add border around pages"})]}),V&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"borderColor",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("nUpPdf.borderColor")||"Border Color"}),(0,s.jsx)("input",{type:"color",id:"borderColor",value:H,onChange:e=>Z(e.target.value),disabled:er,className:"w-full h-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] cursor-pointer"})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-br from-[hsl(var(--color-muted))] to-[hsl(var(--color-background))] border border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--color-primary))]"}),(0,s.jsx)("h4",{className:"text-sm font-semibold text-[hsl(var(--color-foreground))]",children:g("nUpPdf.layoutPreview")||"Layout Preview"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center sm:items-start",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative border-2 border-[hsl(var(--color-primary)/0.3)] rounded-lg p-3 bg-white dark:bg-[hsl(var(--color-card))] shadow-sm",style:{width:"landscape"===M?"180px":"140px",height:"landscape"===M?"140px":"180px"},children:[(0,s.jsx)("div",{className:"absolute -top-2.5 left-3 px-2 py-0.5 text-[10px] font-medium bg-[hsl(var(--color-primary))] text-white rounded",children:z}),(0,s.jsx)("div",{className:"w-full h-full grid gap-1.5",style:{gridTemplateColumns:"repeat(".concat(es,", 1fr)"),gridTemplateRows:"repeat(".concat(ea,", 1fr)")},children:Array.from({length:el}).map((e,r)=>(0,s.jsx)("div",{className:"bg-gradient-to-br from-[hsl(var(--color-primary)/0.1)] to-[hsl(var(--color-primary)/0.05)] border border-[hsl(var(--color-primary)/0.2)] rounded flex items-center justify-center text-xs font-bold text-[hsl(var(--color-primary))] shadow-inner",children:r+1},r))})]}),(0,s.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-2 py-0.5 text-[10px] font-medium bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))] rounded-full border border-[hsl(var(--color-border))]",children:"landscape"===M?"横向":"portrait"===M?"纵向":"自动"})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-3 text-center sm:text-left",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[hsl(var(--color-card))] border border-[hsl(var(--color-border))] shadow-sm",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-[hsl(var(--color-primary))]",children:[es," \xd7 ",ea]}),(0,s.jsx)("div",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:g("nUpPdf.gridLabel")||"网格布局"})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-white dark:bg-[hsl(var(--color-card))] border border-[hsl(var(--color-border))] shadow-sm",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-[hsl(var(--color-foreground))]",children:eo}),(0,s.jsx)("div",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:g("nUpPdf.outputPages")||"输出页数"})]})]}),(0,s.jsx)("div",{className:"p-3 rounded-lg bg-[hsl(var(--color-muted)/0.5)] text-sm",children:(0,s.jsxs)("p",{className:"text-[hsl(var(--color-muted-foreground))]",children:[(0,s.jsx)("span",{className:"font-medium text-[hsl(var(--color-foreground))]",children:v})," ",g("nUpPdf.pagesLabel")||"页"," →",(0,s.jsxs)("span",{className:"font-medium text-[hsl(var(--color-foreground))]",children:[" ",eo]})," ",g("nUpPdf.sheetsLabel")||"张",(0,s.jsxs)("span",{className:"opacity-70",children:[" (",el," ",g("nUpPdf.perSheetLabel")||"页/张",")"]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[hsl(var(--color-muted-foreground))]",children:[(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:2===D&&"vertical"===G?(0,s.jsx)("path",{d:"M12 5v14M12 19l-4-4M12 19l4-4"}):(0,s.jsx)("path",{d:"M5 12h14M17 8l4 4-4 4"})}),(0,s.jsx)("span",{children:2===D&&"vertical"===G?g("nUpPdf.topToBottom")||"从上到下":g("nUpPdf.leftToRight")||"从左到右，然后向下"})]})]})]})]})]}),er&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:ee,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:Q,disabled:!et,loading:er,children:er?p("status.processing")||"Processing...":"custom"===D?g("nUpPdf.createCustomButton",{cols:es,rows:ea})||"Create ".concat(es,"\xd7").concat(ea," PDF"):g("nUpPdf.createButton",{pages:el})||"Create ".concat(el,"-Up PDF")}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_".concat(D,"-up.pdf")),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("nUpPdf.successMessage")||"N-Up PDF created successfully! Click the download button to save your file."})})]})}},33737:(e,r,t)=>{"use strict";t.d(r,{j6:()=>c,lI:()=>i});var s=t(78752),a=t(18365),l=t(32096);let o={languages:["eng"],scale:2,pages:[],outputFormat:"text",preserveLayout:!1},i={eng:"English",chi_sim:"Chinese (Simplified)",chi_tra:"Chinese (Traditional)",jpn:"Japanese",kor:"Korean",spa:"Spanish",fra:"French",deu:"German",por:"Portuguese",ara:"Arabic"};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let n=t[0];if(!n.type.includes("pdf")&&!n.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(n.type||"unknown"));try{let e,r;this.updateProgress(5,"Loading libraries...");let t=await (0,l.Iy)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Initializing OCR engine..."),await this.initializeTesseract(i.languages),this.updateProgress(20,"Loading PDF document...");let a=await n.arrayBuffer(),o=await t.getDocument({data:a}).promise,c=o.numPages,d=i.pages.length>0?i.pages.filter(e=>e>=1&&e<=c):Array.from({length:c},(e,r)=>r+1);if(0===d.length)return await this.terminateTesseract(),this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,"No valid pages to OCR.","PDF has ".concat(c," pages."));this.updateProgress(25,"Processing ".concat(d.length," page(s)..."));let u=[],m=70/d.length;for(let e=0;e<d.length;e++){if(this.checkCancelled())return await this.terminateTesseract(),this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=d[e],t=25+e*m;this.updateProgress(t,"OCR processing page ".concat(r," of ").concat(c,"..."));try{let e=await this.ocrPage(o,r,i);u.push("--- Page ".concat(r," ---\n").concat(e))}catch(e){u.push("--- Page ".concat(r," ---\n[OCR Error: ").concat(e instanceof Error?e.message:"Unknown error","]"))}}await this.terminateTesseract(),this.updateProgress(95,"Generating output...");let h=n.name.replace(/\.pdf$/i,"");if("text"===i.outputFormat){let t=u.join("\n\n");e=new Blob([t],{type:"text/plain"}),r="".concat(h,"_ocr.txt")}else e=await this.createSearchablePDF(n,u,i),r="".concat(h,"_searchable.pdf");return this.updateProgress(100,"Complete!"),this.createSuccessOutput(e,r,{pageCount:d.length,languages:i.languages,outputFormat:i.outputFormat})}catch(e){return await this.terminateTesseract(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to perform OCR on PDF.",e instanceof Error?e.message:"Unknown error")}}async initializeTesseract(e){let r=await t.e(13).then(t.t.bind(t,59013,23)),s=e.join("+");this.tesseractWorker=await r.createWorker(s)}async terminateTesseract(){this.tesseractWorker&&(await this.tesseractWorker.terminate(),this.tesseractWorker=null)}async ocrPage(e,r,t){if(!this.tesseractWorker)throw Error("Tesseract worker not initialized");let s=await e.getPage(r),a=s.getViewport({scale:t.scale}),l=document.createElement("canvas");l.width=a.width,l.height=a.height;let o=l.getContext("2d");if(!o)throw Error("Failed to get canvas context");return o.fillStyle="#ffffff",o.fillRect(0,0,l.width,l.height),await s.render({canvasContext:o,viewport:a}).promise,(await this.tesseractWorker.recognize(l)).data.text}async createSearchablePDF(e,r,t){let s=await (0,l.Ck)(),a=await e.arrayBuffer(),o=await s.PDFDocument.load(a);return o.setTitle("".concat(e.name," (OCR)")),o.setSubject("OCR processed document"),o.setKeywords(["OCR","searchable",...t.languages]),new Blob([new Uint8Array(await o.save({useObjectStreams:!0}))],{type:"application/pdf"})}constructor(...e){super(...e),this.tesseractWorker=null}}async function c(e,r,t){return new n().process({files:[e],options:r||{}},t)}},34263:(e,r,t)=>{"use strict";t.d(r,{Ij:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={removeTitle:!0,removeAuthor:!0,removeSubject:!0,removeKeywords:!0,removeCreator:!0,removeProducer:!0,removeCreationDate:!0,removeModificationDate:!0};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let n=t[0];try{var c,d;let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Reading PDF file...");let t=await n.arrayBuffer(),a=t.byteLength;this.updateProgress(20,"Loading PDF document...");try{e=await r.PDFDocument.load(t,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before removing metadata.");throw e}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Reading current metadata...");let o=e.getPageCount();if(0===o)return this.createErrorOutput(s.GS.PDF_MALFORMED,"The PDF file contains no pages.","Cannot process an empty PDF.");let u={title:e.getTitle()||"",author:e.getAuthor()||"",subject:e.getSubject()||"",keywords:e.getKeywords()||"",creator:e.getCreator()||"",producer:e.getProducer()||"",creationDate:(null==(c=e.getCreationDate())?void 0:c.toISOString())||"",modificationDate:(null==(d=e.getModificationDate())?void 0:d.toISOString())||""},m=[];if(this.updateProgress(50,"Removing metadata..."),i.removeTitle&&u.title&&(e.setTitle(""),m.push("title")),i.removeAuthor&&u.author&&(e.setAuthor(""),m.push("author")),i.removeSubject&&u.subject&&(e.setSubject(""),m.push("subject")),i.removeKeywords&&u.keywords&&(e.setKeywords([]),m.push("keywords")),i.removeCreator&&u.creator&&(e.setCreator(""),m.push("creator")),i.removeProducer&&u.producer&&(e.setProducer(""),m.push("producer")),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Saving PDF...");let h=await e.save({useObjectStreams:!0,addDefaultPage:!1}),p=new Blob([new Uint8Array(h)],{type:"application/pdf"}),g=h.length;this.updateProgress(100,"Complete!");let x=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_no_metadata.pdf")}(n.name);return this.createSuccessOutput(p,x,{pageCount:o,originalSize:a,newSize:g,removedFields:m,originalMetadata:u})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to remove PDF metadata.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},34744:(e,r,t)=>{"use strict";t.d(r,{LX:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={removeAll:!0,pages:"all",...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=t[0],a=await r.arrayBuffer(),i=await e.PDFDocument.load(a,{ignoreEncryption:!0}),n=i.getPageCount(),c="all"===o.pages?Array.from({length:n},(e,r)=>r):o.pages.map(e=>e-1);this.updateProgress(30,"Removing annotations...");for(let r=0;r<c.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=c[r],a=i.getPage(t);a.node.get(e.PDFName.of("Annots"))&&(o.removeAll,a.node.delete(e.PDFName.of("Annots"))),this.updateProgress(30+60*(r+1)/c.length,"Processing page ".concat(t+1,"..."))}this.updateProgress(95,"Saving PDF...");let d=await i.save({useObjectStreams:!0}),u=new Blob([new Uint8Array(d)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(u,r.name.replace(".pdf","_no_annotations.pdf"),{pageCount:n,pagesProcessed:c.length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to remove annotations.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},35080:(e,r,t)=>{"use strict";t.d(r,{WatermarkTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(85311);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools.watermark"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)("text"),[C,F]=(0,a.useState)("CONFIDENTIAL"),[E,D]=(0,a.useState)(72),[A,O]=(0,a.useState)("#888888"),[L,I]=(0,a.useState)(.3),[R,z]=(0,a.useState)(-45),[T,M]=(0,a.useState)(null),[_,G]=(0,a.useState)(.3),[B,U]=(0,a.useState)(0),W=(0,a.useRef)(!1),V=(0,a.useCallback)(e=>{e.length>0&&(p(e[0]),N(null),y(null))},[]),$=(0,a.useCallback)(e=>{var r;let t=null==(r=e.target.files)?void 0:r[0];t&&("image/png"===t.type||"image/jpeg"===t.type?(M(t),N(null)):N(m("unsupportedImage")))},[m]),H=(0,a.useCallback)(()=>{p(null),y(null),N(null),x("idle")},[]),Z=(0,a.useCallback)(async()=>{if(h){if("text"===k&&!C.trim())return void N(m("enterText"));if("image"===k&&!T)return void N(m("selectImage"));W.current=!1,x("processing"),v(0),N(null),y(null);try{let r;if("text"===k)r={type:"text",text:C,fontSize:E,color:(e=>{let r=parseInt(e.slice(1,3),16)/255,t=parseInt(e.slice(3,5),16)/255,s=parseInt(e.slice(5,7),16)/255;return{r,g:t,b:s}})(A),opacity:L,rotation:R,pages:"all"};else{let e=await T.arrayBuffer();r={type:"image",imageData:e,imageType:"image/png"===T.type?"png":"jpg",opacity:_,rotation:B,pages:"all"}}let t=await (0,u.Qm)(h,r,(e,r)=>{W.current||(v(e),w(r||""))});if(W.current)return void x("idle");if(t.success&&t.result)y(t.result),x("complete");else{var e;N((null==(e=t.error)?void 0:e.message)||m("failed")),x("error")}}catch(e){W.current||(N(e instanceof Error?e.message:m("failed")),x("error"))}}},[h,k,C,E,A,L,R,T,_,B,m]),q=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),K="processing"===g;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!h&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:V,onError:N,disabled:K,label:m("uploadLabel"),description:m("uploadDescription")}),P&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:q(h.size)})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:H,disabled:K,children:t("buttons.remove")})]})}),(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100",children:m("optionsTitle")}),(0,s.jsxs)("div",{className:"flex gap-6 mb-6",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"watermark-type",value:"text",checked:"text"===k,onChange:()=>S("text"),className:"w-4 h-4 text-blue-600",disabled:K}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("textWatermark")})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"watermark-type",value:"image",checked:"image"===k,onChange:()=>S("image"),className:"w-4 h-4 text-blue-600",disabled:K}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("imageWatermark")})]})]}),"text"===k&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("watermarkText")}),(0,s.jsx)("input",{type:"text",value:C,onChange:e=>F(e.target.value),placeholder:"CONFIDENTIAL",className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",disabled:K})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("fontSize")}),(0,s.jsx)("input",{type:"number",value:E,onChange:e=>D(parseInt(e.target.value)||72),min:10,max:200,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",disabled:K})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("color")}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"color",value:A,onChange:e=>O(e.target.value),className:"w-10 h-10 p-1 cursor-pointer rounded border border-gray-300 dark:border-gray-600",disabled:K}),(0,s.jsx)("input",{type:"text",value:A,onChange:e=>O(e.target.value),className:"flex-1 px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm",disabled:K})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[m("opacity"),": ",Math.round(100*L),"%"]}),(0,s.jsx)("input",{type:"range",value:L,onChange:e=>I(parseFloat(e.target.value)),min:.1,max:1,step:.1,className:"w-full",disabled:K})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[m("angle"),": ",R,"\xb0"]}),(0,s.jsx)("input",{type:"range",value:R,onChange:e=>z(parseInt(e.target.value)),min:-90,max:90,step:5,className:"w-full",disabled:K})]})]})]}),"image"===k&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("watermarkImage")}),(0,s.jsx)("input",{type:"file",accept:"image/png, image/jpeg",onChange:$,className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700",disabled:K}),T&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[T.name," (",q(T.size),")"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[m("opacity"),": ",Math.round(100*_),"%"]}),(0,s.jsx)("input",{type:"range",value:_,onChange:e=>G(parseFloat(e.target.value)),min:.1,max:1,step:.1,className:"w-full",disabled:K})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[m("angle"),": ",B,"\xb0"]}),(0,s.jsx)("input",{type:"range",value:B,onChange:e=>U(parseInt(e.target.value)),min:-90,max:90,step:5,className:"w-full",disabled:K})]})]})]})]})]}),K&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:()=>{W.current=!0,x("idle")},showPercentage:!0}),h&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:Z,disabled:!h||K||"text"===k&&!C.trim()||"image"===k&&!T,loading:K,children:K?t("status.processing"):m("addButton")}),j&&(0,s.jsx)(n.f,{file:j,filename:h.name.replace(".pdf","_watermarked.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&j&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("successMessage")})})]})}},35437:(e,r,t)=>{"use strict";t.d(r,{f:()=>c});var s=t(95155),a=t(12115),l=t(18955),o=t(31166),i=t(62923),n=t(41244);let c=e=>{let{file:r,filename:t,label:c,onDownloadStart:d,onDownloadComplete:u,autoRevoke:m=!0,showFileSize:h=!0,disabled:p=!1,variant:g="primary",size:x="md",className:f="",toolSlug:v,toolName:b,...w}=e,j=(0,l.c)("common"),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(!1),S=(0,n.N)(),C=v||(null==S?void 0:S.toolSlug),F=b||(null==S?void 0:S.toolName);(0,a.useEffect)(()=>{if(r){let e=URL.createObjectURL(r);return P(e),()=>{URL.revokeObjectURL(e)}}P(null)},[r]);let E=(0,a.useCallback)(()=>{if(!r||!y||N)return;k(!0),null==d||d();let e=document.createElement("a");e.href=y,e.download=t,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),m&&setTimeout(()=>{URL.revokeObjectURL(y),P(null),r&&P(URL.createObjectURL(r))},100),setTimeout(()=>{k(!1),null==u||u(),C&&r&&(0,i.V2)(t,r.size,C,F)},500)},[r,y,t,N,m,d,u,C,F]),D=p||!r||!y,A=c||j("buttons.download"),O=h&&r?" (".concat(function(e){if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,r)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][r])}(r.size),")"):"";return(0,s.jsxs)(o.$,{variant:g,size:x,disabled:D,loading:N,onClick:E,className:f,"aria-label":"".concat(A).concat(O),...w,children:[!N&&(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),(0,s.jsxs)("span",{children:[A,O]})]})}},36754:(e,r,t)=>{"use strict";t.r(r),t.d(r,{DecryptPDFTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(94465),m=t(76480);function h(e){var r;let{className:t=""}=e,h=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(""),[E,D]=(0,a.useState)(!1),[A,O]=(0,a.useState)(!1),[L,I]=(0,a.useState)(""),R=(0,a.useRef)(!1),z=(0,a.useCallback)(e=>{e.length>0&&(x(e[0]),S(null),N(null))},[]),T=(0,a.useCallback)(e=>{S(e)},[]),M=(0,a.useCallback)(()=>{x(null),N(null),S(null),v("idle"),w(0),F("")},[]),_=(0,a.useCallback)(async()=>{if(!g)return void S("Please select a PDF file to decrypt.");R.current=!1,v("processing"),w(0),S(null),N(null);try{let t=await (0,m.WS)(g,{password:C},(e,r)=>{R.current||(w(e),y(r||""))});if(R.current)return void v("idle");if(t.success&&t.result)N(t.result),v("complete");else{var e,r;let s=(null==(e=t.error)?void 0:e.message)||"",a=(null==(r=t.error)?void 0:r.details)||"",l="".concat(s," ").concat(a).toLowerCase();"INVALID_PASSWORD"===s||l.includes("invalid password")||l.includes("incorrect password")?(I(p("decryptPdf.invalidPassword")||"The password you entered is incorrect. Please check and try again."),O(!0)):S(s||"Failed to decrypt PDF file."),v("error")}}catch(e){if(!R.current){let r=e instanceof Error?e.message:String(e);r.toLowerCase().includes("invalid password")?(I(p("decryptPdf.invalidPassword")||"The password you entered is incorrect. Please check and try again."),O(!0)):S(r||"An unexpected error occurred."),v("error")}}},[g,C,p]),G=(0,a.useCallback)(()=>{R.current=!0,v("idle"),w(0)},[]),B="processing"===f,U=g&&!B;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:z,onError:T,disabled:B,label:p("decryptPdf.uploadLabel")||"Upload Encrypted PDF",description:p("decryptPdf.uploadDescription")||"Drag and drop an encrypted PDF file here, or click to browse."}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),g&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:g.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=g.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:M,disabled:B,children:h("buttons.remove")||"Remove"})]})}),g&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:p("decryptPdf.passwordTitle")||"Enter Password"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-green-50 border border-green-200",children:(0,s.jsx)("p",{className:"text-sm text-green-700",children:p("decryptPdf.privacyNotice")||"\uD83D\uDD12 Your password is processed locally and never sent to any server."})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"decrypt-password",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:p("decryptPdf.passwordLabel")||"PDF Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"decrypt-password",type:E?"text":"password",value:C,onChange:e=>F(e.target.value),disabled:B,placeholder:p("decryptPdf.passwordPlaceholder")||"Enter the PDF password","aria-describedby":"decrypt-password-hint",className:"w-full px-3 py-2 pr-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("button",{type:"button",onClick:()=>D(!E),"aria-label":E?"Hide password":"Show password",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))]",children:E?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),(0,s.jsx)("p",{id:"decrypt-password-hint",className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:p("decryptPdf.passwordHint")||"Leave empty if the PDF only has owner password restrictions."})]})]})]}),B&&(0,s.jsx)(i.r,{progress:b,status:f,message:j,onCancel:G,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:_,disabled:!U,loading:B,children:B?h("status.processing")||"Processing...":p("decryptPdf.decryptButton")||"Decrypt PDF"}),P&&(0,s.jsx)(n.f,{file:P,filename:g?"".concat(g.name.replace(".pdf",""),"_decrypted.pdf"):"decrypted.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===f&&P&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:p("decryptPdf.successMessage")||"PDF decrypted successfully!"}),(0,s.jsx)("p",{className:"text-xs mt-1 text-green-600",children:p("decryptPdf.successHint")||"The PDF is now unlocked and can be opened without a password."})]}),(0,s.jsx)(u.a,{isOpen:A,onClose:()=>O(!1),title:h("status.error")||"Error",size:"sm",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-foreground))]",children:L})})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(c.$,{variant:"primary",size:"sm",onClick:()=>O(!1),children:h("buttons.close")||"Close"})})]})})]})}let p=h},36996:(e,r,t)=>{"use strict";t.d(r,{DeletePagesTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(59724),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)([]),[O,L]=(0,a.useState)(new Set),[I,R]=(0,a.useState)(""),[z,T]=(0,a.useState)(!1),M=(0,a.useRef)(!1),_=(0,a.useCallback)(async e=>{T(!0),A([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages);let l=[],o=Math.min(a.numPages,50);for(let e=1;e<=o;e++){let r=await a.getPage(e),t=r.getViewport({scale:.15}),s=document.createElement("canvas"),o=s.getContext("2d");o&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:o,viewport:t}).promise,l.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.6)}))}for(let e=o+1;e<=a.numPages;e++)l.push({pageNumber:e});A(l)}catch(e){console.error("Failed to load PDF previews:",e),E("Failed to load PDF preview. The file may be corrupted or encrypted.")}finally{T(!1)}},[]),G=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),L(new Set),R(""),_(r)}},[_]),B=(0,a.useCallback)(e=>{E(e)},[]),U=(0,a.useCallback)(()=>{f(null),b(0),A([]),L(new Set),R(""),C(null),E(null),j("idle"),P(0)},[]),W=(0,a.useCallback)(e=>{L(r=>{let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}),C(null)},[]),V=(0,a.useCallback)(()=>{L(new Set(D.slice(0,-1).map(e=>e.pageNumber))),C(null)},[D]),$=(0,a.useCallback)(()=>{L(new Set),C(null)},[]),H=(0,a.useCallback)(()=>{if(I.trim()&&v>0){let e=(0,u.Dc)(I,v);if(e.length>=v)return void E("Cannot delete all pages. At least one page must remain.");L(new Set(e)),C(null),E(null)}},[I,v]),Z=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");if(0===O.size)return void E("Please select at least one page to delete.");if(O.size>=v)return void E("Cannot delete all pages. At least one page must remain.");M.current=!1,j("processing"),P(0),E(null),C(null);let e=Array.from(O).sort((e,r)=>e-r);try{let t=await (0,u.Gt)(x,e,(e,r)=>{M.current||(P(e),k(r||""))});if(M.current)return void j("idle");if(t.success&&t.result)C(t.result),j("complete");else{var r;E((null==(r=t.error)?void 0:r.message)||"Failed to delete pages."),j("error")}}catch(e){M.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,O,v]),q=(0,a.useCallback)(()=>{M.current=!0,j("idle"),P(0)},[]),K="processing"===w||"uploading"===w,Y=x&&v>0&&O.size>0&&O.size<v&&!K,J=v-O.size;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:G,onError:B,disabled:K,label:g("deletePages.uploadLabel")||"Upload PDF File",description:g("deletePages.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:U,disabled:K,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[g("deletePages.selectTitle")||"Select Pages to Delete",O.size>0&&(0,s.jsxs)("span",{className:"ml-2 text-red-600",children:["(",O.size," selected, ",J," will remain)"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:V,disabled:K||v<=1,children:p("buttons.selectAll")||"Select All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:$,disabled:K,children:p("buttons.deselectAll")||"Deselect All"})]})]}),(0,s.jsx)("div",{className:"mb-4 p-3 rounded-[var(--radius-md)] bg-amber-50 border border-amber-200 text-amber-800",children:(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsxs)("strong",{children:["⚠️ ",g("deletePages.warning")||"Warning",":"]})," ",g("deletePages.warningText")||"Selected pages will be permanently removed from the PDF. At least one page must remain."]})}),(0,s.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:I,onChange:e=>R(e.target.value),placeholder:"e.g., 1-5, 8, 10-15",disabled:K,className:"flex-1 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] placeholder:text-[hsl(var(--color-muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)(c.$,{variant:"secondary",size:"md",onClick:H,disabled:K||!I.trim(),children:p("buttons.apply")||"Apply"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:g("deletePages.selectHint")||"Click pages to select them for deletion, or enter page numbers/ranges above."}),z?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-3 max-h-[400px] overflow-y-auto p-1",children:D.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>W(e.pageNumber),disabled:K,className:"relative aspect-[3/4] rounded-[var(--radius-md)] border-2 overflow-hidden transition-all ".concat(O.has(e.pageNumber)?"border-red-500 ring-2 ring-red-300 opacity-60":"border-[hsl(var(--color-border))] hover:border-red-300"),"aria-label":"Page ".concat(e.pageNumber).concat(O.has(e.pageNumber)?" (selected for deletion)":""),children:[e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full bg-[hsl(var(--color-muted))] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:e.pageNumber})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs py-0.5 text-center",children:e.pageNumber}),O.has(e.pageNumber)&&(0,s.jsx)("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.pageNumber))})]}),K&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:q,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:Z,disabled:!Y,loading:K,className:"bg-red-600 hover:bg-red-700",children:K?p("status.processing")||"Processing...":g("deletePages.deleteButton")||"Delete ".concat(O.size," Page").concat(1!==O.size?"s":"")}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_pages_deleted.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("deletePages.successMessage")||"Successfully deleted ".concat(O.size," page(s)! The PDF now has ").concat(J," page(s). Click the download button to save your file.")})})]})}},37026:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PDFToImageTool:()=>p,default:()=>g});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(73391),m=t(7496),h=t.n(m);function p(e){var r;let{className:t="",outputFormat:m}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)("idle"),[w,j]=(0,a.useState)(0),[y,P]=(0,a.useState)(""),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(m||"png"),[D,A]=(0,a.useState)(.92),[O,L]=(0,a.useState)(2),[I,R]=(0,a.useState)(""),z=(0,a.useRef)(!1),T=(0,a.useCallback)(e=>{e.length>0&&(f({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),C(null),k(null))},[]),M=(0,a.useCallback)(e=>{C(e)},[]),_=(0,a.useCallback)(()=>{f(null),k(null),C(null),b("idle"),j(0)},[]),G=(0,a.useCallback)(async()=>{if(!x)return void C("Please upload a PDF file.");z.current=!1,b("processing"),j(0),C(null),k(null);let e={format:F,quality:D,scale:O,pages:(e=>{if(!e.trim())return[];let r=[];for(let t of e.split(",")){let e=t.trim();if(e.includes("-")){let[t,s]=e.split("-").map(e=>parseInt(e.trim(),10));if(!isNaN(t)&&!isNaN(s))for(let e=t;e<=s;e++)r.includes(e)||r.push(e)}else{let t=parseInt(e,10);isNaN(t)||r.includes(t)||r.push(t)}}return r.sort((e,r)=>e-r)})(I)};try{let t=await (0,u.Cr)(x.file,e,(e,r)=>{z.current||(j(e),P(r||""))});if(z.current)return void b("idle");if(t.success&&t.result)k(t.result),b("complete");else{var r;C((null==(r=t.error)?void 0:r.message)||"Failed to convert PDF to images."),b("error")}}catch(e){z.current||(C(e instanceof Error?e.message:"An unexpected error occurred."),b("error"))}},[x,F,D,O,I]),B=(0,a.useCallback)(()=>{z.current=!0,b("idle"),j(0)},[]),U=(0,a.useCallback)(async()=>{if(!N||!Array.isArray(N)||!x)return;let e=new(h()),r=x.file.name.replace(/\.pdf$/i,""),t="jpeg"===F?"jpg":F;N.forEach((s,a)=>{e.file("".concat(r,"_page_").concat(a+1,".").concat(t),s)});let s=await e.generateAsync({type:"blob"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="".concat(r,"_images.zip"),l.click(),URL.revokeObjectURL(a)},[N,x,F]),W="processing"===v||"uploading"===v,V=x&&!W,$=Array.isArray(N)&&N.length>1;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:T,onError:M,disabled:W,label:g("pdfToImage.uploadLabel")||"Upload PDF",description:g("pdfToImage.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:S})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[var(--radius-md)] bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-5 h-5 text-[hsl(var(--color-primary))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=x.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:_,disabled:W,children:p("buttons.remove")||"Remove"})]})}),x&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("pdfToImage.optionsTitle")||"Conversion Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[!m&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:g("pdfToImage.format")||"Output Format"}),(0,s.jsxs)("select",{value:F,onChange:e=>E(e.target.value),disabled:W,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"png",children:"PNG"}),(0,s.jsx)("option",{value:"jpg",children:"JPG"}),(0,s.jsx)("option",{value:"webp",children:"WebP"}),(0,s.jsx)("option",{value:"bmp",children:"BMP"}),(0,s.jsx)("option",{value:"tiff",children:"TIFF"})]})]}),["jpg","jpeg","webp"].includes(F)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:[g("pdfToImage.quality")||"Quality"," (",Math.round(100*D),"%)"]}),(0,s.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:D,onChange:e=>A(parseFloat(e.target.value)),disabled:W,className:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:g("pdfToImage.resolution")||"Resolution"}),(0,s.jsxs)("select",{value:O,onChange:e=>L(parseFloat(e.target.value)),disabled:W,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"1",children:"72 DPI (Low)"}),(0,s.jsx)("option",{value:"2",children:"144 DPI (Medium)"}),(0,s.jsx)("option",{value:"3",children:"216 DPI (High)"}),(0,s.jsx)("option",{value:"4",children:"288 DPI (Very High)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:g("pdfToImage.pageRange")||"Page Range"}),(0,s.jsx)("input",{type:"text",value:I,onChange:e=>R(e.target.value),placeholder:g("pdfToImage.pageRangePlaceholder")||"e.g., 1-3, 5, 7",disabled:W,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:g("pdfToImage.pageRangeHint")||"Leave empty for all pages"})]})]})]}),W&&(0,s.jsx)(i.r,{progress:w,status:v,message:y,onCancel:B,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:G,disabled:!V,loading:W,children:W?p("status.processing")||"Processing...":g("pdfToImage.convertButton")||"Convert to Images"}),N&&!$&&(0,s.jsx)(n.f,{file:N,filename:"".concat(null==x?void 0:x.file.name.replace(/\.pdf$/i,""),".").concat("jpeg"===F?"jpg":F),variant:"secondary",size:"lg",showFileSize:!0}),$&&(0,s.jsx)(c.$,{variant:"secondary",size:"lg",onClick:U,children:g("pdfToImage.downloadZip")||"Download All (".concat(N.length," images)")})]}),$&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:[g("pdfToImage.previewTitle")||"Converted Images"," (",N.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:N.map((e,r)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"aspect-[3/4] rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] overflow-hidden bg-[hsl(var(--color-muted)/0.3)]",children:(0,s.jsx)("img",{src:URL.createObjectURL(e),alt:"Page ".concat(r+1),className:"w-full h-full object-contain"})}),(0,s.jsx)("span",{className:"absolute top-2 left-2 px-2 py-1 rounded bg-black/50 text-white text-xs",children:r+1}),(0,s.jsx)(n.f,{file:e,filename:"".concat(null==x?void 0:x.file.name.replace(/\.pdf$/i,""),"_page_").concat(r+1,".").concat("jpeg"===F?"jpg":F),variant:"ghost",size:"sm",className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"})]},r))})]}),"complete"===v&&N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("pdfToImage.successMessage")||"PDF converted to images successfully! Click the download button to save your files."})})]})}let g=p},37447:(e,r,t)=>{"use strict";t.d(r,{_r:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={position:0,count:1};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));if(i.count<1)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least 1 blank page must be added.","Received count: ".concat(i.count));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file first.");throw e}let n=e.getPageCount();if(this.updateProgress(20,"Source PDF has ".concat(n," pages.")),i.position<0||i.position>n)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,"Position must be between 0 and ".concat(n,"."),"Received position: ".concat(i.position));if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Creating new PDF...");let c=e.getPage(0),{width:d,height:u}=i.pageSize||c.getSize(),m=await r.PDFDocument.create();if(i.position>0){let r=Array.from({length:i.position},(e,r)=>r);(await m.copyPages(e,r)).forEach(e=>m.addPage(e))}this.updateProgress(50,"Adding ".concat(i.count," blank page(s)..."));for(let e=0;e<i.count;e++)m.addPage([d,u]);if(this.updateProgress(70,"Copying remaining pages..."),i.position<n){let r=Array.from({length:n-i.position},(e,r)=>i.position+r);(await m.copyPages(e,r)).forEach(e=>m.addPage(e))}this.updateProgress(90,"Saving PDF...");let h=await m.save({useObjectStreams:!0}),p=new Blob([new Uint8Array(h)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let g=function(e,r){let t=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(t,"_").concat(r,"_blank_pages_added.pdf")}(a.name,i.count);return this.createSuccessOutput(p,g,{originalPageCount:n,addedPageCount:i.count,newPageCount:n+i.count,insertPosition:i.position})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to add blank pages to PDF.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t,s){return new i().process({files:[e],options:{position:r,count:t}},s)}},37821:(e,r,t)=>{"use strict";t.r(r),t.d(r,{EditMetadataTool:()=>p,default:()=>g});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(72151),m=t(32096);function h(e){let{label:r,field:t,value:a,onChange:l,placeholder:o,multiline:i=!1,disabled:n=!1}=e;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{htmlFor:"metadata-".concat(t),className:"block text-sm font-medium text-[hsl(var(--color-foreground))]",children:r}),(0,s.jsx)(i?"textarea":"input",{id:"metadata-".concat(t),type:i?void 0:"text",value:a,onChange:e=>l(t,e.target.value),placeholder:o,disabled:n,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] \n          bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]\n          placeholder:text-[hsl(var(--color-muted-foreground))]\n          focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))] focus:border-transparent\n          disabled:opacity-50 disabled:cursor-not-allowed\n          ".concat(i?"min-h-[80px] resize-y":"")})]})}function p(e){var r;let{className:p=""}=e,g=(0,l.c)("common"),x=(0,l.c)("tools"),[f,v]=(0,a.useState)(null),[b,w]=(0,a.useState)("idle"),[j,y]=(0,a.useState)(0),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(""),[E,D]=(0,a.useState)(null),[A,O]=(0,a.useState)({title:"",author:"",subject:"",keywords:"",creator:"",producer:""}),[L,I]=(0,a.useState)(null),R=(0,a.useRef)(!1),z=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise,l=(await a.getMetadata()).info,o={title:(null==l?void 0:l.Title)||"",author:(null==l?void 0:l.Author)||"",subject:(null==l?void 0:l.Subject)||"",keywords:(null==l?void 0:l.Keywords)||"",creator:(null==l?void 0:l.Creator)||"",producer:(null==l?void 0:l.Producer)||""};O(o),I(o)}catch(r){console.error("Failed to extract metadata:",r);let e={title:"",author:"",subject:"",keywords:"",creator:"",producer:""};O(e),I(e)}},[]),T=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];v(r),D(null),S(null),w("idle"),z(r)}},[z]),M=(0,a.useCallback)(e=>{D(e)},[]),_=(0,a.useCallback)(()=>{v(null),O({title:"",author:"",subject:"",keywords:"",creator:"",producer:""}),I(null),S(null),D(null),w("idle"),y(0)},[]),G=(0,a.useCallback)((e,r)=>{O(t=>({...t,[e]:r}))},[]),B=(0,a.useCallback)(()=>{L&&O(L)},[L]),U=(0,a.useCallback)((e,r)=>{y(e),r&&N(r)},[]),W=(0,a.useCallback)(()=>{R.current=!0,w("idle"),y(0)},[]),V=(0,a.useCallback)(async()=>{if(f){R.current=!1,w("processing"),y(0),D(null),S(null);try{let r=A.keywords.split(",").map(e=>e.trim()).filter(e=>e.length>0),t={title:A.title,author:A.author,subject:A.subject,keywords:r,creator:A.creator,producer:A.producer},s=await (0,u.GU)(f,t,{updateModificationDate:!0},U);if(R.current)return void w("idle");if(s.success&&s.result)S(s.result),F(s.filename||"edited.pdf"),w("complete");else{var e;D((null==(e=s.error)?void 0:e.message)||"Failed to edit metadata."),w("error")}}catch(e){R.current||(console.error("Failed to edit metadata:",e),D(e instanceof Error?e.message:"Failed to edit metadata."),w("error"))}}},[f,A,U]),$=L&&(A.title!==L.title||A.author!==L.author||A.subject!==L.subject||A.keywords!==L.keywords||A.creator!==L.creator||A.producer!==L.producer),H="processing"===b||"uploading"===b;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(p).trim(),children:[!f&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:T,onError:M,disabled:H,label:x("editMetadata.uploadLabel")||"Upload PDF File",description:x("editMetadata.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),E&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:E})}),f&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:f.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=f.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:_,disabled:H,children:g("buttons.remove")||"Remove"})]})}),H&&(0,s.jsx)(i.r,{progress:j,status:b,message:P,onCancel:W,showPercentage:!0}),f&&!H&&"complete"!==b&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:x("editMetadata.editTitle")||"Edit Document Properties"}),$&&(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:B,children:x("editMetadata.resetButton")||"Reset"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(h,{label:x("editMetadata.title")||"Title",field:"title",value:A.title,onChange:G,placeholder:x("editMetadata.titlePlaceholder")||"Enter document title",disabled:H}),(0,s.jsx)(h,{label:x("editMetadata.author")||"Author",field:"author",value:A.author,onChange:G,placeholder:x("editMetadata.authorPlaceholder")||"Enter author name",disabled:H}),(0,s.jsx)(h,{label:x("editMetadata.subject")||"Subject",field:"subject",value:A.subject,onChange:G,placeholder:x("editMetadata.subjectPlaceholder")||"Enter document subject",disabled:H}),(0,s.jsx)(h,{label:x("editMetadata.keywords")||"Keywords",field:"keywords",value:A.keywords,onChange:G,placeholder:x("editMetadata.keywordsPlaceholder")||"Enter keywords separated by commas",disabled:H}),(0,s.jsx)(h,{label:x("editMetadata.creator")||"Creator Application",field:"creator",value:A.creator,onChange:G,placeholder:x("editMetadata.creatorPlaceholder")||"Enter creator application",disabled:H}),(0,s.jsx)(h,{label:x("editMetadata.producer")||"PDF Producer",field:"producer",value:A.producer,onChange:G,placeholder:x("editMetadata.producerPlaceholder")||"Enter PDF producer",disabled:H})]}),(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-[hsl(var(--color-border))]",children:[(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:x("editMetadata.modificationNote")||"The modification date will be updated automatically when you save."}),(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:V,disabled:!f,className:"w-full sm:w-auto",children:x("editMetadata.saveButton")||"Save Metadata"})]})]}),"complete"===b&&k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(n.f,{file:k,filename:C,variant:"primary",size:"lg"}),(0,s.jsx)(c.$,{variant:"secondary",size:"lg",onClick:_,children:x("editMetadata.editAnother")||"Edit Another PDF"})]}),(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:x("editMetadata.successMessage")||"Metadata updated successfully! Click the download button to save your file."})})]})]})}let g=p},37830:(e,r,t)=>{"use strict";t.d(r,{RotateCustomTool:()=>g});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(57814),m=t(78752);async function h(e,r,t){try{t&&t(10);let s=await e.arrayBuffer(),a=await u.PDFDocument.load(s,{ignoreEncryption:!0}),l=await u.PDFDocument.create(),o=a.getPageCount();t&&t(30);for(let e=0;e<o;e++){let s=r.rotations[e]||0,i=a.getPage(e),n=i.getRotation().angle+s;if(n%90==0){let[r]=await l.copyPages(a,[e]);r.setRotation((0,u.degrees)(n)),l.addPage(r)}else{let e=await l.embedPage(i),{width:r,height:t}=e.scale(1),s=n*Math.PI/180,a=Math.abs(Math.cos(s)),o=Math.abs(Math.sin(s)),c=r*a+t*o,d=r*o+t*a,m=l.addPage([c,d]),h=c/2-(r/2*Math.cos(s)-t/2*Math.sin(s)),p=d/2-(r/2*Math.sin(s)+t/2*Math.cos(s));m.drawPage(e,{x:h,y:p,width:r,height:t,rotate:(0,u.degrees)(n)})}t&&t(30+Math.floor((e+1)/o*60))}let i=await l.save({useObjectStreams:!0}),n=new Blob([i],{type:"application/pdf"});return t&&t(100),{success:!0,result:n}}catch(e){return console.error("Rotate Custom error:",e),{success:!1,error:{code:m.GS.PROCESSING_FAILED,category:m.h.PROCESSING_ERROR,message:e instanceof Error?e.message:"Unknown error during rotation",recoverable:!1}}}}var p=t(32096);function g(e){var r;let{className:u=""}=e,m=(0,l.c)("common");(0,l.c)("tools");let[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)("idle"),[j,y]=(0,a.useState)(0),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)("0"),[A,O]=(0,a.useState)([]),[L,I]=(0,a.useState)(!1),R=(0,a.useRef)(!1),z=(0,a.useCallback)(async e=>{I(!0),O([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,p.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;v(a.numPages);let l=[],o=Math.min(a.numPages,50);for(let e=1;e<=o;e++){let r=await a.getPage(e),t=r.getViewport({scale:.15}),s=document.createElement("canvas"),o=s.getContext("2d");o&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:o,viewport:t}).promise,l.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.6),rotation:0}))}for(let e=o+1;e<=a.numPages;e++)l.push({pageNumber:e,rotation:0});O(l)}catch(e){console.error("Failed to load PDF previews:",e),F(m("errors.fileCorrupted")||"Failed to load PDF preview.")}finally{I(!1)}},[m]),T=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];x(r),F(null),S(null),z(r)}},[z]),M=(0,a.useCallback)(e=>{F(e)},[]),_=(0,a.useCallback)(()=>{x(null),v(0),O([]),S(null),F(null),w("idle"),y(0),D("0")},[]),G=(0,a.useCallback)((e,r)=>{O(t=>t.map(t=>t.pageNumber===e?{...t,rotation:r}:t)),S(null)},[]),B=(0,a.useCallback)((e,r)=>{O(t=>t.map(t=>t.pageNumber===e?{...t,rotation:t.rotation+r}:t)),S(null)},[]),U=(0,a.useCallback)(()=>{let e=parseFloat(E)||0;O(r=>r.map(r=>({...r,rotation:e}))),S(null)},[E]),W=(0,a.useCallback)(()=>{O(e=>e.map(e=>({...e,rotation:0}))),D("0"),S(null)},[]),V=(0,a.useCallback)(async()=>{if(!g)return void F(m("errors.uploadFile")||"Please upload a PDF file.");if(!A.some(e=>0!==e.rotation))return void F("Please rotate at least one page before processing.");R.current=!1,w("processing"),y(0),F(null),S(null);let e={};A.forEach(r=>{0!==r.rotation&&(e[r.pageNumber-1]=r.rotation)});try{let t=await h(g,{rotations:e},e=>{R.current||(y(e),N(m("status.processing")||"Processing..."))});if(R.current)return void w("idle");if(t.success&&t.result)S(t.result),w("complete");else{var r;F((null==(r=t.error)?void 0:r.message)||m("errors.processingFailed")||"Failed to rotate PDF."),w("error")}}catch(e){R.current||(F(e instanceof Error?e.message:m("errors.unknown")||"An unexpected error occurred."),w("error"))}},[g,A,m]),$=(0,a.useCallback)(()=>{R.current=!0,w("idle"),y(0)},[]),H="processing"===b||"uploading"===b,Z=A.some(e=>0!==e.rotation),q=g&&f>0&&Z&&!H,K=A.filter(e=>0!==e.rotation).length;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(u).trim(),children:[!g&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:T,onError:M,disabled:H,label:"Upload PDF File",description:"Drag and drop a PDF file here, or click to browse."}),C&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700 animate-in fade-in slide-in-from-top-2",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:C})}),g&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:g.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=g.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",f," ",1===f?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:_,disabled:H,children:m("buttons.remove")||"Remove"})]})}),g&&f>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4 pb-4 border-b border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:["Custom Rotation",K>0&&(0,s.jsxs)("span",{className:"ml-2 text-[hsl(var(--color-primary))] text-sm",children:["(",K," page",1!==K?"s":""," set)"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:"Set all pages to:"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.$,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-r-none border-r-0",onClick:()=>D(e=>(parseFloat(e)-1).toString()),children:"-"}),(0,s.jsx)("input",{type:"number",className:"h-9 w-16 text-center border-y border-[hsl(var(--color-input))] bg-[hsl(var(--color-background))] text-sm",value:E,onChange:e=>D(e.target.value)}),(0,s.jsx)(c.$,{variant:"outline",size:"icon",className:"h-9 w-9 rounded-l-none border-l-0",onClick:()=>D(e=>(parseFloat(e)+1).toString()),children:"+"})]}),(0,s.jsx)(c.$,{variant:"secondary",size:"sm",onClick:U,children:"Apply to All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:W,disabled:!Z,children:m("buttons.reset")||"Reset"})]})]}),L?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:m("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 max-h-[500px] overflow-y-auto p-1",children:A.map(e=>(0,s.jsxs)("div",{className:"bg-[hsl(var(--color-card))] rounded-lg border border-[hsl(var(--color-border))] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"relative aspect-[3/4] bg-[hsl(var(--color-muted))] overflow-hidden flex items-center justify-center p-2",children:[(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center transition-transform duration-300 origin-center",style:{transform:"rotate(".concat(e.rotation,"deg)")},children:e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"max-w-full max-h-full object-contain shadow-sm"}):(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:e.pageNumber})}),(0,s.jsx)("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-1.5 py-0.5 rounded",children:e.pageNumber})]}),(0,s.jsxs)("div",{className:"p-2 flex items-center justify-center gap-1 border-t border-[hsl(var(--color-border))] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("button",{type:"button",onClick:()=>B(e.pageNumber,-1),className:"w-6 h-6 flex items-center justify-center rounded hover:bg-[hsl(var(--color-muted))]",children:"-"}),(0,s.jsx)("input",{type:"number",className:"w-12 h-6 text-center text-xs bg-transparent border border-[hsl(var(--color-input))] rounded",value:e.rotation,onChange:r=>G(e.pageNumber,parseFloat(r.target.value)||0)}),(0,s.jsx)("button",{type:"button",onClick:()=>B(e.pageNumber,1),className:"w-6 h-6 flex items-center justify-center rounded hover:bg-[hsl(var(--color-muted))]",children:"+"})]})]},e.pageNumber))})]}),H&&(0,s.jsx)(i.r,{progress:j,status:b,message:P,onCancel:$,showPercentage:!0}),g&&(0,s.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:V,disabled:!q,loading:H,className:"min-w-[200px]",children:H?m("status.processing")||"Processing...":"Rotate PDF"}),k&&(0,s.jsx)(n.f,{file:k,filename:g.name.replace(".pdf","_custom_rotated.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===b&&k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700 text-center animate-in fade-in",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:"Rotation completed successfully! Click the download button to save your file."})})]})}},38653:(e,r,t)=>{"use strict";t.r(r),t.d(r,{EditAttachmentsTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(5691);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)([]),[f,v]=(0,a.useState)(new Set),[b,w]=(0,a.useState)("idle"),[j,y]=(0,a.useState)(0),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(!1),A=(0,a.useRef)(null),O=(0,a.useRef)(!1),L=(0,a.useCallback)(async e=>{if(0===e.length)return;let r=e[0];p(r),F(null),S(null),x([]),v(new Set),D(!0);try{let e=(0,u.Nz)();A.current=e;let t=await e.getAttachments(r);t.success&&t.attachments?(x(t.attachments),0===t.attachments.length&&F(m("editAttachments.noAttachments")||"No attachments found in this PDF file.")):F(t.error||"Failed to read attachments from PDF.")}catch(e){F(e instanceof Error?e.message:"Failed to load PDF.")}finally{D(!1)}},[]),I=(0,a.useCallback)(e=>{F(e)},[]),R=(0,a.useCallback)(e=>{v(r=>{let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}),S(null)},[]),z=(0,a.useCallback)(()=>{v(new Set(g.map((e,r)=>r))),S(null)},[g]),T=(0,a.useCallback)(()=>{v(new Set),S(null)},[]),M=(0,a.useCallback)(()=>{p(null),x([]),v(new Set),S(null),F(null),w("idle"),y(0)},[]),_=(0,a.useCallback)(e=>{let r=new Blob([new Uint8Array(e.data)]),t=URL.createObjectURL(r),s=document.createElement("a");s.href=t,s.download=e.name,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},[]),G=(0,a.useCallback)(async()=>{if(!h||0===f.size)return void F(m("editAttachments.selectAtLeastOne")||"Please select at least one attachment to remove.");O.current=!1,w("processing"),y(0),F(null),S(null);try{let r=(0,u.Nz)();A.current=r;let t=await r.process({files:[h],options:{attachmentsToRemove:Array.from(f)}},(e,r)=>{O.current||(y(e),N(r||""))});if(O.current)return void w("idle");if(t.success&&t.result)S(t.result),w("complete");else{var e;F((null==(e=t.error)?void 0:e.message)||"Failed to remove attachments."),w("error")}}catch(e){O.current||(F(e instanceof Error?e.message:"An unexpected error occurred."),w("error"))}},[h,f]),B=(0,a.useCallback)(()=>{O.current=!0,A.current&&A.current.cancel(),w("idle"),y(0)},[]),U=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),W="processing"===b||"uploading"===b,V=h&&f.size>0&&!W;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:L,onError:I,disabled:W||E,label:m("editAttachments.uploadLabel")||"Upload PDF File",description:m("editAttachments.uploadDescription")||"Select a PDF file to view and manage its attachments."}),C&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:C})}),E&&(0,s.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-[hsl(var(--color-primary))]",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:m("editAttachments.loadingAttachments")||"Loading attachments..."})]})}),h&&!E&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:h.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[U(h.size)," • ",g.length," ",m("editAttachments.attachmentCount")||"attachment(s)"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:M,disabled:W,children:t("buttons.clear")||"Clear"})]}),g.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:m("editAttachments.attachmentsTitle")||"Attachments"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:z,disabled:W,children:m("editAttachments.selectAll")||"Select All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:T,disabled:W||0===f.size,children:m("editAttachments.deselectAll")||"Deselect All"})]})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:g.map((e,r)=>(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border transition-colors ".concat(f.has(r)?"border-red-300 bg-red-50":"border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.3)]"),children:[(0,s.jsx)("input",{type:"checkbox",checked:f.has(r),onChange:()=>R(r),disabled:W,className:"w-4 h-4 rounded border-[hsl(var(--color-border))]","aria-label":"Select ".concat(e.name," for removal")}),(0,s.jsx)("svg",{className:"w-6 h-6 text-[hsl(var(--color-muted-foreground))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[U(e.data.byteLength),e.page>0&&" • Page ".concat(e.page)]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>_(e),disabled:W,children:t("buttons.download")||"Download"})]},"".concat(e.name,"-").concat(r)))}),f.size>0&&(0,s.jsx)("p",{className:"mt-3 text-sm text-red-600",children:m("editAttachments.selectedCount",{count:f.size})||"".concat(f.size," attachment(s) selected for removal")})]})]}),W&&(0,s.jsx)(i.r,{progress:j,status:b,message:P,onCancel:B,showPercentage:!0}),g.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:G,disabled:!V,loading:W,children:W?t("status.processing")||"Processing...":m("editAttachments.removeButton")||"Remove Selected"}),k&&(0,s.jsx)(n.f,{file:k,filename:h?h.name.replace(/\.pdf$/i,"_edited.pdf"):"output.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===b&&k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("editAttachments.successMessage")||"Attachments removed successfully! Click the download button to save your file."})})]})}let h=m},39797:(e,r,t)=>{Promise.resolve().then(t.bind(t,21849)),Promise.resolve().then(t.bind(t,26222)),Promise.resolve().then(t.bind(t,93837)),Promise.resolve().then(t.bind(t,829)),Promise.resolve().then(t.bind(t,84454)),Promise.resolve().then(t.bind(t,14929)),Promise.resolve().then(t.bind(t,97138)),Promise.resolve().then(t.bind(t,15157)),Promise.resolve().then(t.bind(t,74476)),Promise.resolve().then(t.bind(t,41428)),Promise.resolve().then(t.bind(t,36754)),Promise.resolve().then(t.bind(t,36996)),Promise.resolve().then(t.bind(t,60112)),Promise.resolve().then(t.bind(t,38653)),Promise.resolve().then(t.bind(t,37821)),Promise.resolve().then(t.bind(t,82845)),Promise.resolve().then(t.bind(t,8382)),Promise.resolve().then(t.bind(t,74632)),Promise.resolve().then(t.bind(t,31458)),Promise.resolve().then(t.bind(t,10625)),Promise.resolve().then(t.bind(t,51465)),Promise.resolve().then(t.bind(t,77960)),Promise.resolve().then(t.bind(t,14664)),Promise.resolve().then(t.bind(t,62392)),Promise.resolve().then(t.bind(t,59814)),Promise.resolve().then(t.bind(t,99497)),Promise.resolve().then(t.bind(t,29487)),Promise.resolve().then(t.bind(t,47837)),Promise.resolve().then(t.bind(t,87457)),Promise.resolve().then(t.bind(t,12994)),Promise.resolve().then(t.bind(t,283)),Promise.resolve().then(t.bind(t,48744)),Promise.resolve().then(t.bind(t,166)),Promise.resolve().then(t.bind(t,9110)),Promise.resolve().then(t.bind(t,4864)),Promise.resolve().then(t.bind(t,33671)),Promise.resolve().then(t.bind(t,64650)),Promise.resolve().then(t.bind(t,91666)),Promise.resolve().then(t.bind(t,96429)),Promise.resolve().then(t.bind(t,97455)),Promise.resolve().then(t.bind(t,75192)),Promise.resolve().then(t.bind(t,67725)),Promise.resolve().then(t.bind(t,31876)),Promise.resolve().then(t.bind(t,63826)),Promise.resolve().then(t.bind(t,37026)),Promise.resolve().then(t.bind(t,68344)),Promise.resolve().then(t.bind(t,78875)),Promise.resolve().then(t.bind(t,61792)),Promise.resolve().then(t.bind(t,84679)),Promise.resolve().then(t.bind(t,99266)),Promise.resolve().then(t.bind(t,68088)),Promise.resolve().then(t.bind(t,68014)),Promise.resolve().then(t.bind(t,61701)),Promise.resolve().then(t.bind(t,48730)),Promise.resolve().then(t.bind(t,9569)),Promise.resolve().then(t.bind(t,91817)),Promise.resolve().then(t.bind(t,33338)),Promise.resolve().then(t.bind(t,16360)),Promise.resolve().then(t.bind(t,37830)),Promise.resolve().then(t.bind(t,79726)),Promise.resolve().then(t.bind(t,46136)),Promise.resolve().then(t.bind(t,60162)),Promise.resolve().then(t.bind(t,20546)),Promise.resolve().then(t.bind(t,60174)),Promise.resolve().then(t.bind(t,93982)),Promise.resolve().then(t.bind(t,69124)),Promise.resolve().then(t.bind(t,23443)),Promise.resolve().then(t.bind(t,2960)),Promise.resolve().then(t.bind(t,56326)),Promise.resolve().then(t.bind(t,81673)),Promise.resolve().then(t.bind(t,35080)),Promise.resolve().then(t.bind(t,1132)),Promise.resolve().then(t.bind(t,51974))},41244:(e,r,t)=>{"use strict";t.d(r,{N:()=>i,o:()=>o});var s=t(95155),a=t(12115);let l=(0,a.createContext)(null);function o(e){let{toolSlug:r,toolName:t,children:a}=e;return(0,s.jsx)(l.Provider,{value:{toolSlug:r,toolName:t},children:a})}function i(){return(0,a.useContext)(l)}},41428:(e,r,t)=>{"use strict";t.d(r,{CropPDFTool:()=>g});var s=t(95155),a=t(12115),l=t(18955),o=t(46178);t(93236);var i=t(98045),n=t(32096),c=t(5113),d=t(64537),u=t(35437),m=t(31166),h=t(47972),p=t(6757);function g(e){let{className:r=""}=e,t=(0,l.c)("common"),n=(0,l.c)("tools"),[g,x]=(0,a.useState)({file:null,numPages:0,currentPage:1,pdfDoc:null,pageImage:null,crops:{}}),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[C,F]=(0,a.useState)(1),[E,D]=(0,a.useState)(!1),A=(0,a.useRef)(null),O=(0,a.useRef)(null),L=(0,a.useRef)(!1),I=(0,a.useCallback)(()=>{O.current&&(E?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():O.current.requestFullscreen?O.current.requestFullscreen():O.current.webkitRequestFullscreen?O.current.webkitRequestFullscreen():O.current.msRequestFullscreen&&O.current.msRequestFullscreen())},[E]);(0,a.useEffect)(()=>{let e=()=>{D(!!document.fullscreenElement),setTimeout(()=>{var e;let r=null==(e=A.current)?void 0:e.cropper;if(r){let e=r.getCanvasData();r.setCanvasData(e)}},100)};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("msfullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("msfullscreenchange",e)}},[]);let R=(0,a.useCallback)(()=>{var e;let r=null==(e=A.current)?void 0:e.cropper;if(r){let e=r.getContainerData(),t=1.2*C;r.zoomTo(t,{x:e.width/2,y:e.height/2}),F(t)}},[C]),z=(0,a.useCallback)(()=>{var e;let r=null==(e=A.current)?void 0:e.cropper;if(r){let e=r.getContainerData(),t=Math.max(.1,C/1.2);r.zoomTo(t,{x:e.width/2,y:e.height/2}),F(t)}},[C]),T=(0,a.useCallback)(()=>{var e;let r=null==(e=A.current)?void 0:e.cropper;r&&(r.reset(),F(1))},[]),M=(0,a.useCallback)(async e=>{if(0===e.length)return;let r=e[0];N(null),y(null),v("idle");try{let e=await r.arrayBuffer(),t=await i.getDocument(e).promise;x(e=>({...e,file:r,numPages:t.numPages,currentPage:1,pdfDoc:t,crops:{}})),_(t,1)}catch(e){console.error("Error loading PDF:",e),N("Failed to load PDF file.")}},[]),_=async(e,r)=>{try{let t=await e.getPage(r),s=t.getViewport({scale:1.5}),a=document.createElement("canvas"),l=a.getContext("2d");if(a.height=s.height,a.width=s.width,!l)throw Error("Could not get canvas context");await t.render({canvasContext:l,viewport:s}).promise,x(e=>({...e,pageImage:a.toDataURL("image/jpeg"),currentPage:r}))}catch(e){console.error("Error rendering page:",e),N("Failed to render PDF page.")}},G=()=>{var e;let r=null==(e=A.current)?void 0:e.cropper;if(r&&g.pageImage){let e=r.getData(!0),t=r.getImageData(),s={x:e.x/t.naturalWidth,y:e.y/t.naturalHeight,width:e.width/t.naturalWidth,height:e.height/t.naturalHeight};x(e=>({...e,crops:{...e.crops,[e.currentPage]:s}}))}},B=async e=>{if(!g.pdfDoc)return;G();let r=g.currentPage+e;r>=1&&r<=g.numPages&&await _(g.pdfDoc,r)},U=(0,a.useCallback)(async()=>{var e,r;if(!g.file)return;G();let t=null==(e=A.current)?void 0:e.cropper,s={...g.crops};if(t){let e=t.getData(!0),r=t.getImageData(),a={x:e.x/r.naturalWidth,y:e.y/r.naturalHeight,width:e.width/r.naturalWidth,height:e.height/r.naturalHeight};s[g.currentPage]=a}let a={};if(k){let e=s[g.currentPage];if(!e)return void N("Please select a crop area.");for(let r=1;r<=g.numPages;r++)a[r]=e}else{if(0===Object.keys(s).length)return void N("Please crop at least one page.");a=s}L.current=!1,v("processing"),w(0),N(null),y(null);try{let e=await (0,p.FL)(g.file,{cropData:a,mode:"metadata"},e=>{L.current||w(e)});e.success&&e.result?(y(e.result),v("complete")):(N((null==(r=e.error)?void 0:r.message)||"Failed."),v("error"))}catch(e){N(e instanceof Error?e.message:"Error"),v("error")}},[g.file,g.crops,g.currentPage,g.numPages,k]),W="processing"===f;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!g.file&&(0,s.jsx)(c.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:M,onError:N,disabled:W,label:n("cropPdf.uploadLabel")||"Upload PDF File",description:n("cropPdf.uploadDescription")||"Drag and drop a PDF file to crop."}),P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),g.file&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:g.file.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[g.numPages," ",n("cropPdf.pages")||"pages"]})]})]}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>x({file:null,numPages:0,currentPage:1,pdfDoc:null,pageImage:null,crops:{}}),disabled:W,children:t("buttons.remove")||"Remove"})]})}),(0,s.jsxs)(h.Zp,{variant:"outlined",className:"p-0 overflow-hidden bg-gray-100",children:[(0,s.jsxs)("div",{ref:O,className:"relative ".concat(E?"bg-gray-900 flex flex-col":""),style:{minHeight:E?"100vh":"400px"},children:[g.pageImage?(0,s.jsx)(o.A,{src:g.pageImage,style:{height:E?"calc(100vh - 80px)":500,width:"100%"},initialAspectRatio:NaN,guides:!0,ref:A,ready:()=>{var e;let r=null==(e=A.current)?void 0:e.cropper;if(r&&(F(1),g.crops[g.currentPage])){let e=g.crops[g.currentPage],t=r.getImageData();r.setData({x:e.x*t.naturalWidth,y:e.y*t.naturalHeight,width:e.width*t.naturalWidth,height:e.height*t.naturalHeight,rotate:0,scaleX:1,scaleY:1})}},viewMode:1,background:!1,autoCropArea:.8,zoomOnWheel:!1}):(0,s.jsx)("div",{className:"flex items-center justify-center h-[500px]",children:(0,s.jsx)("span",{className:"text-gray-400",children:"Loading page..."})}),g.pageImage&&(0,s.jsxs)("div",{className:"".concat(E?"fixed":"absolute"," left-1/2 bottom-4 -translate-x-1/2 z-10 flex items-center gap-2 bg-white/95 backdrop-blur-sm rounded-full shadow-lg px-4 py-2 border border-gray-200"),children:[(0,s.jsx)("button",{type:"button",onClick:z,disabled:W,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n("cropPdf.zoomOut")||"Zoom Out",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),(0,s.jsxs)("span",{className:"px-2 text-sm font-medium text-gray-600 min-w-[60px] text-center",children:[Math.round(100*C),"%"]}),(0,s.jsx)("button",{type:"button",onClick:T,disabled:W,className:"px-3 py-1 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n("cropPdf.resetZoom")||"Reset Zoom",children:n("cropPdf.reset")||"Reset"}),(0,s.jsx)("button",{type:"button",onClick:R,disabled:W,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:n("cropPdf.zoomIn")||"Zoom In",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),(0,s.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,s.jsx)("button",{type:"button",onClick:I,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",title:E?n("cropPdf.exitFullscreen")||"Exit Fullscreen":n("cropPdf.fullscreen")||"Fullscreen",children:E?(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]}),E&&g.pageImage&&(0,s.jsxs)("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 bg-white/95 backdrop-blur-sm rounded-full shadow-lg px-4 py-2 border border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>B(-1),disabled:g.currentPage<=1||W,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[80px] text-center",children:[g.currentPage," / ",g.numPages]}),(0,s.jsx)("button",{type:"button",onClick:()=>B(1),disabled:g.currentPage>=g.numPages||W,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,s.jsxs)("div",{className:"p-4 border-t bg-white flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.$,{variant:"outline",size:"sm",onClick:()=>B(-1),disabled:g.currentPage<=1||W,children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm font-medium w-24 text-center",children:["Page ",g.currentPage," of ",g.numPages]}),(0,s.jsx)(m.$,{variant:"outline",size:"sm",onClick:()=>B(1),disabled:g.currentPage>=g.numPages||W,children:"Next"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:k,onChange:e=>S(e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:W}),(0,s.jsx)("span",{className:"text-sm font-medium",children:n("cropPdf.applyToAll")||"Apply to all pages"})]}),(0,s.jsx)(m.$,{variant:"primary",onClick:U,loading:W,disabled:W,children:n("cropPdf.cropButton")||"Crop PDF"})]})]})]})]}),W&&(0,s.jsx)(d.r,{progress:b,status:f,onCancel:()=>{L.current=!0,v("idle")},showPercentage:!0}),g.file&&j&&"complete"===f&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsx)("div",{className:"text-green-700 font-medium",children:n("cropPdf.successMessage")||"PDF cropped successfully!"}),(0,s.jsx)(u.f,{file:j,filename:g.file.name.replace(".pdf","_cropped.pdf"),variant:"primary",size:"lg"})]})})]})}i.GlobalWorkerOptions.workerSrc||(0,n.Ek)(i)},46136:(e,r,t)=>{"use strict";t.r(r),t.d(r,{RTFToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(21796),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(27082);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload an RTF file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.sb)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||"Failed to convert RTF to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".rtf","application/rtf","text/rtf"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("rtfToPdf.uploadLabel")||"Upload RTF File",description:v("rtfToPdf.uploadDescription")||"Drag and drop an RTF file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("rtfToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.rtf$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("rtfToPdf.successMessage")||"Your RTF file has been converted to PDF."})]})]})}let v=f},47431:(e,r,t)=>{"use strict";t.d(r,{T5:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={flattenForms:!0,flattenAnnotations:!0,flattenLayers:!0};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to flatten.","Received ".concat(t.length," file(s)."));let n=t[0];try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Reading PDF file...");let t=await n.arrayBuffer(),a=t.byteLength;this.updateProgress(20,"Loading PDF document...");try{e=await r.PDFDocument.load(t,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before flattening.");throw e}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Analyzing PDF structure...");let o=e.getPageCount();if(0===o)return this.createErrorOutput(s.GS.PDF_MALFORMED,"The PDF file contains no pages.","Cannot flatten an empty PDF.");let d=[],u=!1;if(this.updateProgress(50,"Flattening form fields..."),i.flattenForms)try{let r=e.getForm(),t=r.getFields();t.length>0&&(u=!0,r.flatten(),d.push("".concat(t.length," form field(s)")))}catch(e){var c;(null==(c=e.message)?void 0:c.includes("getForm"))||console.warn("Could not flatten forms:",e.message)}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Saving flattened PDF...");let m=await e.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"}),p=m.length;this.updateProgress(100,"Complete!");let g=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_flattened.pdf")}(n.name);return this.createSuccessOutput(h,g,{pageCount:o,originalSize:a,newSize:p,flattenedItems:d,hasFormFields:u,flattened:!0})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to flatten PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},47837:(e,r,t)=>{"use strict";t.d(r,{GridCombineTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(28735),m=t(32096);function h(e){let{className:r=""}=e,t=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)([]),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)("2x2"),[F,E]=(0,a.useState)("A4"),[D,A]=(0,a.useState)("landscape"),[O,L]=(0,a.useState)(!0),[I,R]=(0,a.useState)(!0),[z,T]=(0,a.useState)("#CCCCCC"),[M,_]=(0,a.useState)(10),[G,B]=(0,a.useState)("leave-empty"),[U,W]=(0,a.useState)("first-page-only"),[V,$]=(0,a.useState)(null),[H,Z]=(0,a.useState)(null),q=(0,a.useRef)(!1),K=(0,a.useCallback)(async e=>{try{let r=await (0,m.Iy)(),t=await e.arrayBuffer(),s=await r.getDocument({data:t}).promise,a=s.numPages,l=await s.getPage(1),o=l.getViewport({scale:.3}),i=document.createElement("canvas"),n=i.getContext("2d");if(!n)return null;return i.width=o.width,i.height=o.height,await l.render({canvasContext:n,viewport:o}).promise,{thumbnail:i.toDataURL("image/jpeg",.7),pageCount:a}}catch(e){return console.error("Failed to generate thumbnail:",e),null}},[]),Y=(0,a.useCallback)(async e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,11)),file:e,status:"pending"}));for(let e of(g(e=>[...e,...r]),k(null),P(null),r)){let r=await K(e.file);r&&g(t=>t.map(t=>t.id===e.id?{...t,thumbnail:r.thumbnail,pageCount:r.pageCount}:t))}},[K]),J=(0,a.useCallback)(e=>{k(e)},[]),X=(0,a.useCallback)(e=>{g(r=>r.filter(r=>r.id!==e)),P(null)},[]),Q=(0,a.useCallback)(()=>{g([]),P(null),k(null),f("idle"),b(0)},[]),ee=(0,a.useCallback)(e=>{$(e)},[]),er=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==V&&V!==r&&Z(r)},[V]),et=(0,a.useCallback)(()=>{null!==V&&null!==H&&V!==H&&g(e=>{let r=[...e],[t]=r.splice(V,1);return r.splice(H,0,t),r}),$(null),Z(null)},[V,H]),es=(0,a.useCallback)(e=>{0!==e&&g(r=>{let t=[...r];return[t[e-1],t[e]]=[t[e],t[e-1]],t})},[]),ea=(0,a.useCallback)(e=>{g(r=>{if(e===r.length-1)return r;let t=[...r];return[t[e],t[e+1]]=[t[e+1],t[e]],t})},[]),el=(0,a.useCallback)(async()=>{if(p.length<2)return void k(h("gridCombine.minFilesError")||"Please add at least 2 PDF files to combine.");q.current=!1,f("processing"),b(0),k(null),P(null);try{let r=await (0,u.aw)(p.map(e=>e.file),{gridLayout:S,pageSize:F,orientation:D,useMargins:O,addBorder:I,borderColor:z,spacing:M,fillMode:G,pageMode:U},(e,r)=>{q.current||(b(e),j(r||""))});if(q.current)return void f("idle");if(r.success&&r.result)P(r.result),f("complete");else{var e;k((null==(e=r.error)?void 0:e.message)||"Failed to combine PDF files."),f("error")}}catch(e){q.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,S,F,D,O,I,z,M,G,U,h]),eo=(0,a.useCallback)(()=>{q.current=!0,f("idle"),b(0)},[]),ei="processing"===x||"uploading"===x,en=p.length>=2&&!ei,[ec,ed]=S.split("x").map(Number),eu=ec*ed,em="all-pages"===U?p.reduce((e,r)=>e+(r.pageCount||1),0):p.length,eh=Math.ceil(em/eu);return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:100,onFilesSelected:Y,onError:J,disabled:ei,label:h("gridCombine.uploadLabel")||"Upload PDF Files",description:h("gridCombine.uploadDescription")||"Drag and drop multiple PDF files here."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p.length>0&&(0,s.jsx)(d.Zp,{variant:"outlined",className:"bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-blue-800",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"text-sm font-medium",children:"all-pages"===U?h("gridCombine.previewInfoAllPages",{fileCount:p.length,totalPages:em,layout:S,outputPages:eh}):h("gridCombine.previewInfoFirstPage",{fileCount:p.length,layout:S,outputPages:eh})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-4",children:p.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[h("gridCombine.filesTitle")||"Files to Combine"," (",p.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:Q,disabled:ei,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:h("gridCombine.reorderHint")||"Drag and drop to reorder files."}),(0,s.jsx)("ul",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-2",role:"list",children:p.map((e,r)=>{var t;return(0,s.jsxs)("li",{draggable:!ei,onDragStart:()=>ee(r),onDragOver:e=>er(e,r),onDragEnd:et,className:"\n                                            flex items-center gap-3 p-3 rounded-[var(--radius-md)] border transition-all duration-200\n                                            ".concat(V===r?"opacity-50 border-dashed":"","\n                                            ").concat(H===r?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.05)]":"border-[hsl(var(--color-border))]","\n                                            ").concat(ei?"":"cursor-grab hover:bg-[hsl(var(--color-muted)/0.5)]","\n                                        "),children:[(0,s.jsx)("div",{className:"flex-shrink-0 text-[hsl(var(--color-muted-foreground))]",children:(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("circle",{cx:"9",cy:"6",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"6",r:"1.5"}),(0,s.jsx)("circle",{cx:"9",cy:"12",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"12",r:"1.5"}),(0,s.jsx)("circle",{cx:"9",cy:"18",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"18",r:"1.5"})]})}),(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))] text-xs font-medium flex items-center justify-center",children:r+1}),(0,s.jsx)("div",{className:"flex-shrink-0 w-12 h-16 rounded overflow-hidden bg-[hsl(var(--color-muted))] flex items-center justify-center",children:e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:e.file.name,className:"w-full h-full object-contain"}):(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[(t=e.file.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB"),e.pageCount&&" • ".concat(e.pageCount," ").concat(1===e.pageCount?h("gridCombine.page")||"page":h("gridCombine.pages")||"pages")]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>es(r),disabled:0===r||ei,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 15l-6-6-6 6"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>ea(r),disabled:r===p.length-1||ei,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M6 9l6 6 6-6"})})})]}),(0,s.jsx)("button",{type:"button",onClick:()=>X(e.id),disabled:ei,className:"flex-shrink-0 p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id)})})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:p.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",className:"sticky top-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("gridCombine.optionsTitle")||"Layout Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"gridLayout",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("gridCombine.gridLayout")||"Grid Layout"}),(0,s.jsxs)("select",{id:"gridLayout",value:S,onChange:e=>C(e.target.value),disabled:ei,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]",children:[(0,s.jsxs)("option",{value:"1x2",children:["1\xd72 (2 ",h("gridCombine.cells")||"cells",")"]}),(0,s.jsxs)("option",{value:"2x1",children:["2\xd71 (2 ",h("gridCombine.cells")||"cells",")"]}),(0,s.jsxs)("option",{value:"2x2",children:["2\xd72 (4 ",h("gridCombine.cells")||"cells",")"]}),(0,s.jsxs)("option",{value:"2x3",children:["2\xd73 (6 ",h("gridCombine.cells")||"cells",")"]}),(0,s.jsxs)("option",{value:"3x2",children:["3\xd72 (6 ",h("gridCombine.cells")||"cells",")"]}),(0,s.jsxs)("option",{value:"3x3",children:["3\xd73 (9 ",h("gridCombine.cells")||"cells",")"]}),(0,s.jsxs)("option",{value:"4x4",children:["4\xd74 (16 ",h("gridCombine.cells")||"cells",")"]})]}),(0,s.jsxs)("div",{className:"mt-3 p-3 bg-[hsl(var(--color-muted)/0.3)] rounded-[var(--radius-md)]",children:[(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mb-2",children:[h("gridCombine.layoutPreview")||"Layout Preview",":"]}),(0,s.jsx)("div",{className:"grid mx-auto border border-[hsl(var(--color-border))] rounded bg-white transition-all duration-300 ease-in-out",style:{gridTemplateColumns:"repeat(".concat(ec,", 1fr)"),gridTemplateRows:"repeat(".concat(ed,", 1fr)"),width:"landscape"===D?"160px":"120px",height:"landscape"===D?"120px":"160px",gap:"".concat(.3*M,"px"),padding:O?"12px":"4px"},children:Array.from({length:eu}).map((e,r)=>{let t=p[r];r<p.length||"repeat"===G&&p.length>0||"stretch-last"===G&&p.length>0&&p.length;let a="repeat"===G&&p.length>0?p[r%p.length]:"stretch-last"===G&&p.length>0&&r>=p.length?p[p.length-1]:null,l=t||a;return(0,s.jsx)("div",{className:"\n                                                            flex items-center justify-center text-xs font-medium rounded-sm overflow-hidden\n                                                            ".concat(l?"bg-[hsl(var(--color-primary)/0.1)]":"bg-[hsl(var(--color-muted))] border border-dashed border-[hsl(var(--color-border))]","\n                                                        "),title:null==l?void 0:l.file.name,children:(null==l?void 0:l.thumbnail)?(0,s.jsx)("img",{src:l.thumbnail,alt:"",className:"w-full h-full object-contain ".concat(!t&&a?"opacity-50":"")}):l?(0,s.jsx)("span",{className:"text-[hsl(var(--color-primary))] ".concat(!t&&a?"opacity-50":""),children:r<p.length?r+1:"↺"}):null},r)})}),(0,s.jsxs)("p",{className:"text-xs text-center text-[hsl(var(--color-muted-foreground))] mt-2",children:[ec," ",h("gridCombine.columns")||"columns"," \xd7 ",ed," ",h("gridCombine.rows")||"rows"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pageMode",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("gridCombine.pageMode")||"Page Mode"}),(0,s.jsxs)("select",{id:"pageMode",value:U,onChange:e=>W(e.target.value),disabled:ei,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]",children:[(0,s.jsx)("option",{value:"first-page-only",children:h("gridCombine.firstPageOnly")||"First page only"}),(0,s.jsx)("option",{value:"all-pages",children:h("gridCombine.allPages")||"All pages"})]}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:"all-pages"===U?h("gridCombine.allPagesHint")||"Include all pages from each PDF in the grid.":h("gridCombine.firstPageOnlyHint")||"Only use the first page from each PDF."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fillMode",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("gridCombine.fillMode")||"Fill Mode"}),(0,s.jsxs)("select",{id:"fillMode",value:G,onChange:e=>B(e.target.value),disabled:ei,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]",children:[(0,s.jsx)("option",{value:"leave-empty",children:h("gridCombine.leaveEmpty")||"Leave empty cells"}),(0,s.jsx)("option",{value:"repeat",children:h("gridCombine.repeat")||"Repeat from start"}),(0,s.jsx)("option",{value:"stretch-last",children:h("gridCombine.stretchLast")||"Repeat last page"})]}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:h("gridCombine.fillModeHint")||"How to fill empty cells when files are fewer than grid cells."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pageSize",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("gridCombine.pageSize")||"Page Size"}),(0,s.jsxs)("select",{id:"pageSize",value:F,onChange:e=>E(e.target.value),disabled:ei,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"Letter",children:"Letter"}),(0,s.jsx)("option",{value:"Legal",children:"Legal"}),(0,s.jsx)("option",{value:"A3",children:"A3"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"orientation",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("gridCombine.orientation")||"Orientation"}),(0,s.jsxs)("select",{id:"orientation",value:D,onChange:e=>A(e.target.value),disabled:ei,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]",children:[(0,s.jsx)("option",{value:"landscape",children:t("options.landscape")||"Landscape"}),(0,s.jsx)("option",{value:"portrait",children:t("options.portrait")||"Portrait"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"spacing",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:[h("gridCombine.spacing")||"Spacing"," (",M,"px)"]}),(0,s.jsx)("input",{type:"range",id:"spacing",min:"0",max:"50",step:"1",value:M,onChange:e=>_(Number(e.target.value)),disabled:ei,className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2 border-t border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"useMargins",checked:O,onChange:e=>L(e.target.checked),disabled:ei,className:"w-4 h-4 rounded border-[hsl(var(--color-border))]"}),(0,s.jsx)("label",{htmlFor:"useMargins",className:"text-sm text-[hsl(var(--color-foreground))]",children:h("gridCombine.useMargins")||"Add margins"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"addBorder",checked:I,onChange:e=>R(e.target.checked),disabled:ei,className:"w-4 h-4 rounded border-[hsl(var(--color-border))]"}),(0,s.jsx)("label",{htmlFor:"addBorder",className:"text-sm text-[hsl(var(--color-foreground))]",children:h("gridCombine.addBorder")||"Add borders"})]}),I&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)("label",{htmlFor:"borderColor",className:"block text-xs text-[hsl(var(--color-muted-foreground))] mb-1",children:h("gridCombine.borderColor")||"Border Color"}),(0,s.jsx)("input",{type:"color",id:"borderColor",value:z,onChange:e=>T(e.target.value),disabled:ei,className:"w-full h-8 rounded border border-[hsl(var(--color-border))] cursor-pointer p-0"})]})]})]})]})})]}),ei&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:eo,showPercentage:!0}),p.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:el,disabled:!en,loading:ei,children:ei?t("status.processing")||"Processing...":h("gridCombine.combineButton")||"Combine PDFs"}),y&&(0,s.jsx)(n.f,{file:y,filename:"grid_combine_".concat(p.length,"_files.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("gridCombine.successMessage")||"PDFs combined successfully! Click the download button to save your file."})})]})}},48730:(e,r,t)=>{"use strict";t.d(r,{RemoveBlankPagesTool:()=>u});var s=t(95155),a=t(12115),l=t(5113),o=t(64537),i=t(35437),n=t(31166),c=t(47972),d=t(23341);function u(e){let{className:r=""}=e,[t,u]=(0,a.useState)(null),[m,h]=(0,a.useState)("idle"),[p,g]=(0,a.useState)(0),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[w,j]=(0,a.useState)(99),[y,P]=(0,a.useState)(0),N=(0,a.useRef)(!1),k=(0,a.useCallback)(async()=>{if(t){N.current=!1,h("processing"),g(0),b(null),f(null),P(0);try{var e,r;let s=await (0,d.tf)(t,{threshold:w},e=>{N.current||g(e)});s.success&&s.result?(f(s.result),P((null==(e=s.metadata)?void 0:e.blankPagesRemoved)||0),h("complete")):(b((null==(r=s.error)?void 0:r.message)||"Failed."),h("error"))}catch(e){b(e instanceof Error?e.message:"Error"),h("error")}}},[t,w]),S="processing"===m;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!t&&(0,s.jsx)(l.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:e=>{e.length>0&&(u(e[0]),b(null),f(null))},onError:b,disabled:S,label:"Upload PDF File",description:"Drag and drop a PDF file here."}),v&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:v})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{u(null),f(null)},disabled:S,children:"Remove"})]})}),(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Options"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Blank Detection Threshold (",w,"%)"]}),(0,s.jsx)("input",{type:"range",value:w,onChange:e=>j(parseInt(e.target.value)),min:90,max:100,className:"w-full",disabled:S}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Higher values detect only nearly-white pages. Lower values may detect pages with minimal content."})]})]})]}),S&&(0,s.jsx)(o.r,{progress:p,status:m,onCancel:()=>{N.current=!0,h("idle")},showPercentage:!0}),t&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:k,disabled:!t||S,loading:S,children:S?"Processing...":"Remove Blank Pages"}),x&&(0,s.jsx)(i.f,{file:x,filename:t.name.replace(".pdf","_no_blanks.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===m&&x&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:y>0?"".concat(y," blank page(s) removed!"):"No blank pages found."})})]})}},48744:(e,r,t)=>{"use strict";t.r(r),t.d(r,{JSONToPDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(19362);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)("A4"),[A,O]=(0,a.useState)(10),[L,I]=(0,a.useState)(2),[R,z]=(0,a.useState)(!0),[T,M]=(0,a.useState)(!0),_=(0,a.useRef)(!1),G=(0,a.useCallback)(async e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending"}));if(p(e=>[...e,...r]),N(null),y(null),F(null),e.length>0)try{let r=await e[0].text(),t=JSON.parse(r),s=JSON.stringify(t,null,2);S(s.slice(0,3e3)+(s.length>3e3?"\n...":"")),F(null)}catch(e){S(""),F(e instanceof Error?e.message:"Invalid JSON")}},[]),B=(0,a.useCallback)(e=>{N(e)},[]),U=(0,a.useCallback)(e=>{p(r=>r.filter(r=>r.id!==e)),y(null),S(""),F(null)},[]),W=(0,a.useCallback)(()=>{p([]),y(null),N(null),x("idle"),v(0),S(""),F(null)},[]),V=(0,a.useCallback)(async()=>{if(h.length<1)return void N("Please add at least 1 JSON file.");_.current=!1,x("processing"),v(0),N(null),y(null);try{let r=await (0,u.gz)(h.map(e=>e.file),{pageSize:E,fontSize:A,indentSpaces:L,prettyPrint:R,showLineNumbers:T},(e,r)=>{_.current||(v(e),w(r||""))});if(_.current)return void x("idle");if(r.success&&r.result)y(r.result),x("complete");else{var e;N((null==(e=r.error)?void 0:e.message)||"Failed to convert JSON to PDF."),x("error")}}catch(e){_.current||(N(e instanceof Error?e.message:"An unexpected error occurred."),x("error"))}},[h,E,A,L,R,T]),$=(0,a.useCallback)(()=>{_.current=!0,x("idle"),v(0)},[]),H="processing"===g||"uploading"===g,Z=h.length>=1&&!H&&!C;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/json",".json"],multiple:!0,maxFiles:10,onFilesSelected:G,onError:B,disabled:H,label:m("jsonToPdf.uploadLabel")||"Upload JSON Files",description:m("jsonToPdf.uploadDescription")||"Drag and drop JSON files here, or click to browse."}),P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),C&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-yellow-50 border border-yellow-200 text-yellow-700",role:"alert",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Invalid JSON"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:C})]}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[m("jsonToPdf.filesTitle")||"JSON Files"," (",h.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:W,disabled:H,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:h.map(e=>{var r;return(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-8 h-8 text-orange-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"5",y:"17",fontSize:"4.5",fill:"white",fontWeight:"bold",children:"JSON"})]})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=e.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]}),(0,s.jsx)("button",{type:"button",onClick:()=>U(e.id),disabled:H,className:"flex-shrink-0 p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600 disabled:opacity-30","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id)})}),k&&!C&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:m("jsonToPdf.preview")||"Preview"}),(0,s.jsx)("pre",{className:"p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted)/0.3)] text-xs font-mono text-[hsl(var(--color-foreground))] overflow-auto max-h-64 whitespace-pre",children:k})]})]}),h.length>=1&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("jsonToPdf.optionsTitle")||"PDF Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:m("jsonToPdf.pageSize")||"Page Size"}),(0,s.jsxs)("select",{value:E,onChange:e=>D(e.target.value),disabled:H,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"LETTER",children:"Letter"}),(0,s.jsx)("option",{value:"LEGAL",children:"Legal"}),(0,s.jsx)("option",{value:"A3",children:"A3"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:m("jsonToPdf.fontSize")||"Font Size"}),(0,s.jsxs)("select",{value:A,onChange:e=>O(Number(e.target.value)),disabled:H,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"8",children:"8pt"}),(0,s.jsx)("option",{value:"9",children:"9pt"}),(0,s.jsx)("option",{value:"10",children:"10pt"}),(0,s.jsx)("option",{value:"11",children:"11pt"}),(0,s.jsx)("option",{value:"12",children:"12pt"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:m("jsonToPdf.indentSpaces")||"Indentation"}),(0,s.jsxs)("select",{value:L,onChange:e=>I(Number(e.target.value)),disabled:H,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"2",children:"2 spaces"}),(0,s.jsx)("option",{value:"4",children:"4 spaces"}),(0,s.jsx)("option",{value:"8",children:"8 spaces (tab)"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:R,onChange:e=>z(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:m("jsonToPdf.prettyPrint")||"Format JSON (pretty print)"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:T,onChange:e=>M(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:m("jsonToPdf.showLineNumbers")||"Show line numbers"})]})]})]}),H&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:$,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:V,disabled:!Z,loading:H,children:H?t("status.processing")||"Processing...":m("jsonToPdf.convertButton")||"Convert to PDF"}),j&&(0,s.jsx)(n.f,{file:j,filename:1===h.length?"".concat(h[0].file.name.replace(/\.[^/.]+$/,""),".pdf"):"json_".concat(h.length,"_files.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&j&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("jsonToPdf.successMessage")||"JSON converted to PDF successfully! Click the download button to save your file."})})]})}let h=m},51465:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ExtractImagesTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(31166),c=t(47972),d=t(29553),u=t(7496),m=t.n(u);function h(e){let{className:r=""}=e,t=(0,l.c)("common"),u=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)([]),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(50),[E,D]=(0,a.useState)(50),[A,O]=(0,a.useState)(10),L=(0,a.useRef)(!1),I=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e}));p(e=>[...e,...r]),N(null),y([])},[]),R=(0,a.useCallback)(e=>{N(e)},[]),z=(0,a.useCallback)(e=>{p(r=>r.filter(r=>r.id!==e)),y([])},[]),T=(0,a.useCallback)(()=>{p([]),y([]),N(null),x("idle"),v(0)},[]),M=(0,a.useCallback)(async()=>{if(0===h.length)return void N("Please add at least one PDF file.");L.current=!1,x("processing"),v(0),N(null),y([]);try{var e,r;let t=await (0,d.qq)(h.map(e=>e.file),{minWidth:C,minHeight:E,minSize:1024*A},(e,r)=>{L.current||(v(e),w(r||""))});if(L.current)return void x("idle");t.success&&(null==(e=t.metadata)?void 0:e.images)?(y(t.metadata.images),x("complete")):(N((null==(r=t.error)?void 0:r.message)||"No images found in the selected PDF(s)."),x("error"))}catch(e){L.current||(N(e instanceof Error?e.message:"An unexpected error occurred."),x("error"))}},[h,C,E,A]),_=(0,a.useCallback)(()=>{L.current=!0,x("idle"),v(0)},[]),G=(0,a.useCallback)(e=>{let r=new Blob([new Uint8Array(e.data)]),t=URL.createObjectURL(r),s=document.createElement("a");s.href=t,s.download=e.name,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},[]),B=(0,a.useCallback)(()=>{j.forEach((e,r)=>{setTimeout(()=>{G(e)},200*r)})},[j,G]),U=(0,a.useCallback)(async()=>{if(0!==j.length)try{x("processing"),v(0),w("Creating ZIP archive...");let e=new(m());j.forEach((r,t)=>{v(t/j.length*100),e.file(r.name,new Uint8Array(r.data))});let r=await e.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}),t=URL.createObjectURL(r),s=document.createElement("a");s.href=t,s.download="extracted-images.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),x("complete"),v(100)}catch(e){N(e instanceof Error?e.message:"Failed to create ZIP file."),x("error")}},[j]),W=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),V=(0,a.useMemo)(()=>{let e={};return j.forEach(r=>{e[r.index]=(e=>{let r=new Blob([new Uint8Array(e.data)]);return URL.createObjectURL(r)})(r)}),e},[j]);a.useEffect(()=>()=>{Object.values(V).forEach(e=>{URL.revokeObjectURL(e)})},[V]);let $="processing"===g||"uploading"===g,H=h.length>0&&!$;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:20,onFilesSelected:I,onError:R,disabled:$,label:u("extractImages.uploadLabel")||"Upload PDF Files",description:u("extractImages.uploadDescription")||"Select PDF files to extract images from."}),P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),h.length>0&&(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[u("extractImages.filesTitle")||"Selected Files"," (",h.length,")"]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:T,disabled:$,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("ul",{className:"space-y-2",role:"list",children:h.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))]",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:W(e.file.size)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>z(e.id),disabled:$,className:"p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id))})]}),h.length>0&&!$&&0===j.length&&(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:u("extractImages.filterTitle")||"Filter Options"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:u("extractImages.filterDescription")||"Filter out small images (icons, decorations, etc.)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:u("extractImages.minWidth")||"Min Width (px)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"5000",value:C,onChange:e=>F(Math.max(0,parseInt(e.target.value)||0)),className:"w-full px-3 py-2 border border-[hsl(var(--color-border))] rounded-[var(--radius-md)] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:u("extractImages.minHeight")||"Min Height (px)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"5000",value:E,onChange:e=>D(Math.max(0,parseInt(e.target.value)||0)),className:"w-full px-3 py-2 border border-[hsl(var(--color-border))] rounded-[var(--radius-md)] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:u("extractImages.minSizeKB")||"Min Size (KB)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"10000",value:A,onChange:e=>O(Math.max(0,parseInt(e.target.value)||0)),className:"w-full px-3 py-2 border border-[hsl(var(--color-border))] rounded-[var(--radius-md)] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))]"})]})]})]}),$&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:_,showPercentage:!0}),(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:M,disabled:!H,loading:$,children:$?t("status.processing")||"Processing...":u("extractImages.extractButton")||"Extract Images"})}),j.length>0&&(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[u("extractImages.extractedTitle")||"Extracted Images"," (",j.length,")"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:B,children:u("extractImages.downloadAll")||"Download All"}),(0,s.jsx)(n.$,{variant:"secondary",size:"sm",onClick:U,children:u("extractImages.downloadZip")||"Download as ZIP"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:j.map(e=>(0,s.jsxs)("div",{className:"group relative rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] overflow-hidden bg-[hsl(var(--color-muted)/0.2)]",children:[(0,s.jsxs)("div",{className:"aspect-square flex items-center justify-center overflow-hidden bg-[hsl(var(--color-muted)/0.1)] cursor-pointer",onClick:()=>S(e),children:[(0,s.jsx)("img",{src:V[e.index],alt:e.name,className:"max-w-full max-h-full object-contain transition-transform group-hover:scale-105",loading:"lazy"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-white drop-shadow-md",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M15 3h6v6M14 10l6.1-6.1M9 21H3v-6M10 14l-6.1 6.1"})})})]}),(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-[hsl(var(--color-foreground))] truncate",title:e.name,children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[e.width,"\xd7",e.height," • ",W(e.size)]}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[u("extractImages.page")||"Page"," ",e.pageNumber]})]}),(0,s.jsx)("button",{type:"button",onClick:r=>{r.stopPropagation(),G(e)},className:"absolute top-2 right-2 p-1.5 rounded-[var(--radius-md)] bg-[hsl(var(--color-background)/0.9)] border border-[hsl(var(--color-border))] opacity-0 group-hover:opacity-100 transition-opacity hover:bg-[hsl(var(--color-primary))] hover:text-white","aria-label":"Download ".concat(e.name),children:(0,s.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,s.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,s.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})})]},e.index))})]}),"complete"===g&&j.length>0&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:u("extractImages.successMessage")||"Successfully extracted ".concat(j.length,' image(s). Click to download individual images or use "Download as ZIP".')})}),k&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:()=>S(null),children:(0,s.jsxs)("div",{className:"relative max-w-full max-h-full flex flex-col items-center",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"absolute -top-12 right-0 p-2 text-white hover:text-white/80 transition-colors",onClick:()=>S(null),children:(0,s.jsx)("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),(0,s.jsx)("img",{src:V[k.index],alt:k.name,className:"max-w-full max-h-[85vh] object-contain rounded shadow-2xl bg-[hsl(var(--color-background))]"}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-4 px-6 py-3 bg-[hsl(var(--color-background))] rounded-full shadow-lg",children:[(0,s.jsxs)("div",{className:"text-sm text-[hsl(var(--color-foreground))]",children:[(0,s.jsx)("span",{className:"font-medium mr-2",children:k.name}),(0,s.jsxs)("span",{className:"text-[hsl(var(--color-muted-foreground))]",children:[k.width,"\xd7",k.height," • ",W(k.size)]})]}),(0,s.jsx)("div",{className:"h-4 w-px bg-[hsl(var(--color-border))]"}),(0,s.jsx)(n.$,{size:"sm",variant:"primary",onClick:()=>G(k),children:t("buttons.download")||"Download"})]})]})})]})}let p=h},51974:(e,r,t)=>{"use strict";t.r(r),t.d(r,{XPSToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(86061),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(19089);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload an XPS file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.xP)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||"Failed to convert XPS to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".xps","application/vnd.ms-xpsdocument"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("xpsToPdf.uploadLabel")||"Upload XPS File",description:v("xpsToPdf.uploadDescription")||"Drag and drop an XPS file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("xpsToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.xps$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("xpsToPdf.successMessage")||"Your XPS file has been converted to PDF."})]})]})}let v=f},55092:(e,r,t)=>{"use strict";t.d(r,{ec:()=>n,nf:()=>c});var s=t(78752),a=t(18365);let l={useObjectStreams:!0,addDefaultPage:!1};class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...l,...a};if(0===t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide at least one PDF file to linearize.","No files were provided.");try{if(1===t.length)return await this.processSingleFile(t[0],o);return await this.processMultipleFiles(t,o)}catch(e){return this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to linearize PDF file.",e instanceof Error?e.message:"Unknown error")}}async processSingleFile(e,r){this.updateProgress(5,"Reading PDF file...");let t=await e.arrayBuffer(),a=t.byteLength;if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Starting linearization...");let l=await this.linearizeWithWorker(t,r);if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let o=new Blob([l.pdfBytes],{type:"application/pdf"});this.updateProgress(100,"Complete!");let n=i(e.name);return this.createSuccessOutput(o,n,{pageCount:l.pageCount,originalSize:a,linearizedSize:l.linearizedSize,optimized:!0})}async processMultipleFiles(e,r){let a=[],l=e.length,o=0,n=0,c=0;for(let t=0;t<e.length;t++){let d=e[t],u=t/l*80+10;this.updateProgress(u,"Processing file ".concat(t+1," of ").concat(l,"..."));let m=await d.arrayBuffer();if(o+=m.byteLength,this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");try{let e=await this.linearizeWithWorker(m,r);n+=e.linearizedSize,c+=e.pageCount;let t=new Blob([e.pdfBytes],{type:"application/pdf"});a.push({blob:t,filename:i(d.name)})}catch(e){continue}}if(0===a.length)return this.createErrorOutput(s.GS.PROCESSING_FAILED,"No PDF files could be processed.","All files may be corrupted or invalid.");if(this.updateProgress(95,"Packaging results..."),1===a.length)return this.updateProgress(100,"Complete!"),this.createSuccessOutput(a[0].blob,a[0].filename,{pageCount:c,originalSize:o,linearizedSize:n,filesProcessed:1});let{default:d}=await Promise.resolve().then(t.t.bind(t,7496,23)),u=new d;for(let e of a)u.file(e.filename,e.blob);let m=await u.generateAsync({type:"blob"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(m,"linearized_pdfs.zip",{totalPages:c,originalSize:o,linearizedSize:n,filesProcessed:a.length})}linearizeWithWorker(e,r){return new Promise((t,s)=>{try{this.worker=new Worker("/workers/linearize.worker.js"),this.worker.onmessage=e=>{let r=e.data;if("progress"===r.status){let e=10+r.progress/100*85;this.updateProgress(e,"Linearizing PDF...")}else"success"===r.status?(this.terminateWorker(),t({pdfBytes:r.pdfBytes,linearizedSize:r.linearizedSize,pageCount:r.pageCount})):"error"===r.status&&(this.terminateWorker(),s(Error(r.message)))},this.worker.onerror=e=>{this.terminateWorker(),s(Error("Worker error: ".concat(e.message)))},this.worker.postMessage({command:"linearize",pdfData:e,options:{useObjectStreams:r.useObjectStreams}},[e])}catch(e){this.terminateWorker(),s(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null)}cancel(){super.cancel(),this.terminateWorker()}getAcceptedTypes(){return["application/pdf"]}constructor(...e){super(...e),this.worker=null}}function i(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_linearized.pdf")}async function n(e,r,t){return new o().process({files:[e],options:r||{}},t)}async function c(e,r,t){return new o().process({files:e,options:r||{}},t)}},56326:(e,r,t)=>{"use strict";t.d(r,{ToolPage:()=>x});var s=t(95155),a=t(18955),l=t(47972),o=t(31378),i=t(35723),n=t(83665),c=t(41244),d=t(7067),u=t(52619),m=t.n(u),h=t(65993),p=t(27937);let g={"edit-annotate":"editAnnotate","convert-to-pdf":"convertToPdf","convert-from-pdf":"convertFromPdf","organize-manage":"organizeManage","optimize-repair":"optimizeRepair","secure-pdf":"securePdf"};function x(e){let{tool:r,content:t,locale:l,children:d,localizedRelatedTools:u={}}=e,x=r.relatedTools.map(e=>(0,o.Tp)(e)).filter(e=>void 0!==e),P=(0,a.c)(),N=t.title||r.id.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,s.jsx)(c.o,{toolSlug:r.slug,toolName:N,children:(0,s.jsxs)("div",{className:"min-h-screen flex flex-col","data-testid":"tool-page",children:[(0,s.jsx)(i.Y,{locale:l}),(0,s.jsx)("main",{id:"main-content",className:"flex-1",tabIndex:-1,children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pt-24 pb-8",children:[(0,s.jsxs)("nav",{"aria-label":"Breadcrumb",className:"mb-4 flex items-center text-sm text-[hsl(var(--color-muted-foreground))] animate-in fade-in slide-in-from-top-4 duration-500 delay-100",children:[(0,s.jsx)(m(),{href:"/".concat(l),className:"flex items-center hover:text-[hsl(var(--color-primary))] transition-colors",title:P("common.navigation.home"),children:(0,s.jsx)(h.A,{className:"w-4 h-4"})}),(0,s.jsx)(p.A,{className:"w-4 h-4 mx-2 text-[hsl(var(--color-border))]"}),(0,s.jsx)(m(),{href:"/".concat(l,"/tools"),className:"hover:text-[hsl(var(--color-primary))] transition-colors",children:P("common.navigation.tools")}),(0,s.jsx)(p.A,{className:"w-4 h-4 mx-2 text-[hsl(var(--color-border))]"}),(0,s.jsx)(m(),{href:"/".concat(l,"/tools/category/").concat(r.category),className:"hover:text-[hsl(var(--color-primary))] transition-colors",children:P("home.categories.".concat(g[r.category]))}),(0,s.jsx)(p.A,{className:"w-4 h-4 mx-2 text-[hsl(var(--color-border))]"}),(0,s.jsx)("span",{className:"font-medium text-[hsl(var(--color-foreground))] truncate max-w-[200px] sm:max-w-md","aria-current":"page",children:t.title||N})]}),(0,s.jsx)(f,{tool:r,content:t}),(0,s.jsx)("section",{className:"mt-6","data-testid":"tool-page-interface","aria-label":"Tool interface",children:d}),(0,s.jsx)(v,{description:t.description}),(0,s.jsx)(b,{steps:t.howToUse}),(0,s.jsx)(w,{useCases:t.useCases}),(0,s.jsx)(j,{faq:t.faq}),(0,s.jsx)(y,{tools:x,locale:l,localizedRelatedTools:u})]})}),(0,s.jsx)(n.w,{locale:l})]})})}function f(e){let{tool:r,content:t}=e,a=r.id.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),l=(0,d.S)(r.icon);return(0,s.jsxs)("header",{className:"text-center","data-testid":"tool-page-header",itemScope:!0,itemType:"https://schema.org/SoftwareApplication",children:[(0,s.jsx)("meta",{itemProp:"applicationCategory",content:"UtilitiesApplication"}),(0,s.jsx)("meta",{itemProp:"operatingSystem",content:"Web Browser"}),(0,s.jsx)("meta",{itemProp:"offers",itemScope:!0,itemType:"https://schema.org/Offer",content:""}),(0,s.jsx)("meta",{itemProp:"price",content:"0"}),(0,s.jsx)("meta",{itemProp:"priceCurrency",content:"USD"}),(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-[hsl(var(--color-primary)/0.1)] to-[hsl(var(--color-accent)/0.1)] mb-4 shadow-inner","aria-hidden":"true",children:(0,s.jsx)(l,{className:"w-8 h-8 text-[hsl(var(--color-primary))]"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-[hsl(var(--color-foreground))] mb-2","data-testid":"tool-page-title",itemProp:"name",children:t.title||a}),(0,s.jsx)("p",{className:"text-lg text-[hsl(var(--color-muted-foreground))] max-w-2xl mx-auto leading-relaxed","data-testid":"tool-page-subtitle",itemProp:"description",children:t.metaDescription})]})}function v(e){let{description:r}=e,t=(0,a.c)();return r?(0,s.jsxs)("section",{className:"mt-10","data-testid":"tool-page-description","aria-labelledby":"description-heading",children:[(0,s.jsx)("h2",{id:"description-heading",className:"text-2xl font-bold text-[hsl(var(--color-foreground))] mb-6",children:t("tools.about")}),(0,s.jsx)(l.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsx)("div",{className:"prose prose-sm max-w-none text-[hsl(var(--color-foreground))/0.8]",dangerouslySetInnerHTML:{__html:r}})})]}):null}function b(e){let{steps:r}=e,t=(0,a.c)();return r&&0!==r.length?(0,s.jsxs)("section",{className:"mt-10","data-testid":"tool-page-how-to-use","aria-labelledby":"how-to-use-heading",itemScope:!0,itemType:"https://schema.org/HowTo",children:[(0,s.jsx)("h2",{id:"how-to-use-heading",className:"text-2xl font-bold text-[hsl(var(--color-foreground))] mb-6",itemProp:"name",children:t("tools.howToUse")}),(0,s.jsx)("ol",{className:"grid gap-6 md:grid-cols-3","data-testid":"how-to-use-steps",children:r.map(e=>(0,s.jsxs)("li",{className:"flex flex-col h-full","data-testid":"how-to-step-".concat(e.step),id:"step-".concat(e.step),itemScope:!0,itemProp:"step",itemType:"https://schema.org/HowToStep",children:[(0,s.jsx)("meta",{itemProp:"position",content:String(e.step)}),(0,s.jsxs)(l.Zp,{className:"flex-1 h-full glass-card border-[hsl(var(--color-border))/0.6] hover:border-[hsl(var(--color-primary)/0.3)] transition-colors",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-[hsl(var(--color-primary)/0.1)] text-[hsl(var(--color-primary))] flex items-center justify-center font-bold text-lg mb-4","aria-hidden":"true",children:e.step}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-[hsl(var(--color-foreground))] mb-2",itemProp:"name",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",itemProp:"text",children:e.description})]})]},e.step))})]}):null}function w(e){let{useCases:r}=e,t=(0,a.c)();return r&&0!==r.length?(0,s.jsxs)("section",{className:"mt-10","data-testid":"tool-page-use-cases","aria-labelledby":"use-cases-heading",children:[(0,s.jsx)("h2",{id:"use-cases-heading",className:"text-2xl font-bold text-[hsl(var(--color-foreground))] mb-6",children:t("tools.useCases")}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6","data-testid":"use-cases-grid",children:r.map((e,r)=>(0,s.jsx)(l.Zp,{variant:"default",className:"glass-card hover:shadow-lg transition-all duration-300","data-testid":"use-case-".concat(r),children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-[hsl(var(--color-secondary)/0.5)] flex items-center justify-center","aria-hidden":"true",children:(0,s.jsx)("div",{className:"w-6 h-6 text-[hsl(var(--color-secondary-foreground))] flex items-center justify-center",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full",children:[(0,s.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,s.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-[hsl(var(--color-foreground))] mb-1",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:e.description})]})]})},r))})]}):null}function j(e){let{faq:r}=e,t=(0,a.c)();return r&&0!==r.length?(0,s.jsxs)("section",{className:"mt-10","data-testid":"tool-page-faq","aria-labelledby":"faq-heading",itemScope:!0,itemType:"https://schema.org/FAQPage",children:[(0,s.jsx)("h2",{id:"faq-heading",className:"text-2xl font-bold text-[hsl(var(--color-foreground))] mb-6",children:t("tools.faq")}),(0,s.jsx)("div",{className:"space-y-4","data-testid":"faq-list",children:r.map((e,r)=>(0,s.jsxs)(l.Zp,{variant:"outlined",className:"glass-card","data-testid":"faq-item-".concat(r),itemScope:!0,itemProp:"mainEntity",itemType:"https://schema.org/Question",children:[(0,s.jsx)("h3",{className:"font-semibold text-[hsl(var(--color-foreground))]",itemProp:"name",children:e.question}),(0,s.jsx)("div",{itemScope:!0,itemProp:"acceptedAnswer",itemType:"https://schema.org/Answer",children:(0,s.jsx)("p",{className:"mt-2 text-sm text-[hsl(var(--color-muted-foreground))]",itemProp:"text",children:e.answer})})]},r))})]}):null}function y(e){let{tools:r,locale:t,localizedRelatedTools:o}=e,i=(0,a.c)();return r&&0!==r.length?(0,s.jsxs)("section",{className:"mt-10","data-testid":"tool-page-related-tools","aria-labelledby":"related-tools-heading",children:[(0,s.jsx)("h2",{id:"related-tools-heading",className:"text-2xl font-bold text-[hsl(var(--color-foreground))] mb-6",children:i("tools.relatedTools")}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6","data-testid":"related-tools-grid",children:r.map(e=>{let r=o[e.id],a=(null==r?void 0:r.title)||e.id.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),n=(0,d.S)(e.icon),c=i("home.categories.".concat(g[e.category]));return(0,s.jsx)("a",{href:"/".concat(t,"/tools/").concat(e.slug),className:"block group",children:(0,s.jsx)(l.Zp,{hover:!0,clickable:!0,className:"h-full glass-card transition-all duration-300 group-hover:-translate-y-1",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center group-hover:bg-[hsl(var(--color-primary))] transition-colors duration-300","aria-hidden":"true",children:(0,s.jsx)(n,{className:"w-6 h-6 text-[hsl(var(--color-primary))] group-hover:text-white transition-colors duration-300"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold text-[hsl(var(--color-foreground))] block mb-1",children:a}),(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:c})]})]})})},e.id)})})]}):null}},56772:(e,r,t)=>{"use strict";t.d(r,{Qb:()=>m});var s=t(78752),a=t(18365);let l={printing:!0,modifying:!0,copying:!0,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0},o={userPassword:"",ownerPassword:"",permissions:l},i=null,n=null;async function c(){return i||n||(n=new Promise((e,r)=>{if(window.Module&&"function"==typeof window.Module)return void d(e,r);let t=document.createElement("script");t.src="/qpdf.js",t.async=!0,t.onload=()=>{d(e,r)},t.onerror=()=>{n=null,r(Error("Failed to load QPDF script"))},document.head.appendChild(t)}))}function d(e,r){try{let t=window.Module;if(!t||"function"!=typeof t)return void r(Error("QPDF module not found after script load"));t({locateFile:e=>e.endsWith(".wasm")?"/qpdf.wasm":e}).then(r=>{i=r,e(r)}).catch(e=>{n=null,r(e)})}catch(e){n=null,r(e)}}class u extends a.A{async process(e,r){let t;this.reset(),this.onProgress=r;let{files:a,options:i}=e,n={...o,...i,permissions:{...l,...(null==i?void 0:i.permissions)||{}}};if(1!==a.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to encrypt.","Received ".concat(a.length," file(s)."));if(!n.userPassword&&!n.ownerPassword)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide at least one password.","Either user password or owner password is required.");let d=a[0],u="/input.pdf",m="/output.pdf";try{if(this.updateProgress(5,"Initializing encryption engine..."),t=await c(),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(15,"Reading PDF file...");let e=await d.arrayBuffer(),r=e.byteLength,a=new Uint8Array(e);if(t.FS.writeFile(u,a),this.updateProgress(30,"Preparing encryption..."),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50,"Encrypting PDF with 256-bit AES...");let l=n.userPassword||"",o=n.ownerPassword||l,i=!!n.ownerPassword&&n.ownerPassword!==n.userPassword,h=[u,"--encrypt",l,o,"256"];if(i){let e=n.permissions;e.modifying||h.push("--modify=none"),e.copying||h.push("--extract=n"),e.printing||h.push("--print=none"),e.contentAccessibility||h.push("--accessibility=n"),e.annotating||h.push("--annotate=n"),e.documentAssembly||h.push("--assemble=n"),e.fillingForms||h.push("--form=n")}h.push("--",m);try{t.callMain(h)}catch(e){throw console.error("qpdf execution error:",e),Error("Encryption failed: "+(e.message||"Unknown error"))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Preparing encrypted file...");let p=t.FS.readFile(m,{encoding:"binary"});if(!p||0===p.length)throw Error("Encryption resulted in an empty file.");let g=new Blob([p],{type:"application/pdf"}),x=p.length;try{t.FS.unlink(u)}catch(e){console.warn("Failed to unlink input file:",e)}try{t.FS.unlink(m)}catch(e){console.warn("Failed to unlink output file:",e)}this.updateProgress(100,"Complete!");let f=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_encrypted.pdf")}(d.name);return this.createSuccessOutput(g,f,{originalSize:r,newSize:x,hasUserPassword:!!n.userPassword,hasOwnerPassword:!!n.ownerPassword,permissions:n.permissions,encryptionMethod:"256-bit AES"})}catch(e){if(null==t?void 0:t.FS){try{t.FS.unlink(u)}catch(e){}try{t.FS.unlink(m)}catch(e){}}return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to encrypt PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function m(e,r,t){return new u().process({files:[e],options:r||{}},t)}},59724:(e,r,t)=>{"use strict";t.d(r,{Dc:()=>n,Gt:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={pages:[]};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required for deletion.","Received ".concat(t.length," file(s)."));if(!i.pages||0===i.pages.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least one page is required for deletion.","Please specify pages to delete.");try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!1})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before deleting pages.");throw e}let n=e.getPageCount();this.updateProgress(20,"Source PDF has ".concat(n," pages."));let c=function(e,r){if(0===e.length)return"No pages specified for deletion.";for(let t=0;t<e.length;t++){let s=e[t];if(!Number.isInteger(s))return"Invalid page number: ".concat(s);if(s<1)return"Page number must be at least 1. Found ".concat(s,".");if(s>r)return"Page ".concat(s," exceeds total pages (").concat(r,").")}return null}(i.pages,n);if(c)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,c,"The PDF has ".concat(n," pages."));let d=[...new Set(i.pages)].sort((e,r)=>r-e);if(d.length>=n)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Cannot delete all pages from the PDF.","At least one page must remain in the document.");if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Deleting pages...");let u=60/d.length;for(let r=0;r<d.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=d[r],a=t-1;this.updateProgress(30+r*u,"Deleting page ".concat(t,"...")),e.removePage(a)}this.updateProgress(90,"Saving modified PDF...");let m=await e.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let p=function(e,r){let t=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(t,"_").concat(r,"_pages_deleted.pdf")}(a.name,d.length);return this.createSuccessOutput(h,p,{deletedPageCount:d.length,originalPageCount:n,remainingPageCount:n-d.length,deletedPages:d.sort((e,r)=>e-r)})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to delete pages from PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}function n(e,r){let t=[];for(let s of e.split(",").map(e=>e.trim()).filter(e=>e.length>0))if(s.includes("-")){let[e,a]=s.split("-").map(e=>e.trim()),l=parseInt(e,10),o=parseInt(a,10);if(!isNaN(l)&&!isNaN(o)&&l<=o)for(let e=l;e<=Math.min(o,r);e++)e>=1&&t.push(e)}else{let e=parseInt(s,10);!isNaN(e)&&e>=1&&e<=r&&t.push(e)}return[...new Set(t)].sort((e,r)=>e-r)}async function c(e,r,t){return new i().process({files:[e],options:{pages:r}},t)}},59814:(e,r,t)=>{"use strict";t.r(r),t.d(r,{FlattenPDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(47431);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)([]),[F,E]=(0,a.useState)({flattenForms:!0,flattenAnnotations:!0,flattenLayers:!0}),D=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),k(null),P(null),C([]))},[]),O=(0,a.useCallback)(e=>{k(e)},[]),L=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0),C([])},[]),I=(0,a.useCallback)(e=>{E(r=>({...r,[e]:!r[e]}))},[]),R=(0,a.useCallback)(async()=>{if(!p)return void k("Please select a PDF file to flatten.");D.current=!1,f("processing"),b(0),k(null),P(null),C([]);try{var e,r;let t=await (0,u.T5)(p,F,(e,r)=>{D.current||(b(e),j(r||""))});if(D.current)return void f("idle");t.success&&t.result?(P(t.result),f("complete"),(null==(e=t.metadata)?void 0:e.flattenedItems)&&C(t.metadata.flattenedItems)):(k((null==(r=t.error)?void 0:r.message)||"Failed to flatten PDF file."),f("error"))}catch(e){D.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,F]),z=(0,a.useCallback)(()=>{D.current=!0,f("idle"),b(0)},[]),T="processing"===x,M=p&&!T;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:A,onError:O,disabled:T,label:h("flattenPdf.uploadLabel")||"Upload PDF File",description:h("flattenPdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=p.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:L,disabled:T,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("flattenPdf.optionsTitle")||"Flatten Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:h("flattenPdf.info")||"Flattening converts interactive elements (forms, annotations) into static page content. This makes the PDF non-editable but ensures consistent appearance across all viewers."})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.flattenForms,onChange:()=>I("flattenForms"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("flattenPdf.flattenForms")||"Flatten Form Fields"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:h("flattenPdf.flattenFormsDesc")||"Convert fillable form fields to static text"})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.flattenAnnotations,onChange:()=>I("flattenAnnotations"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("flattenPdf.flattenAnnotations")||"Flatten Annotations"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:h("flattenPdf.flattenAnnotationsDesc")||"Merge comments, highlights, and stamps into page content"})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.flattenLayers,onChange:()=>I("flattenLayers"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("flattenPdf.flattenLayers")||"Flatten Layers"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:h("flattenPdf.flattenLayersDesc")||"Merge all visible layers into a single layer"})]})]})]})]})]}),T&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,children:T?m("status.processing")||"Processing...":h("flattenPdf.flattenButton")||"Flatten PDF"}),y&&(0,s.jsx)(n.f,{file:y,filename:p?"".concat(p.name.replace(".pdf",""),"_flattened.pdf"):"flattened.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:h("flattenPdf.successMessage")||"PDF flattened successfully!"}),S.length>0&&(0,s.jsxs)("p",{className:"text-xs mt-1 text-green-600",children:[h("flattenPdf.flattenedItems")||"Flattened:"," ",S.join(", ")]})]})]})}let h=m},60112:(e,r,t)=>{"use strict";t.r(r),t.d(r,{DividePagesTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(25278),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)("vertical"),O=(0,a.useRef)(!1),L=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages)}catch(e){console.error("Failed to load PDF info:",e),E("Failed to load PDF. The file may be corrupted or encrypted.")}},[]),I=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),L(r)}},[L]),R=(0,a.useCallback)(e=>{E(e)},[]),z=(0,a.useCallback)(()=>{f(null),b(0),C(null),E(null),j("idle"),P(0)},[]),T=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");O.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await (0,u.cH)(x,{divisionType:D},(e,r)=>{O.current||(P(e),k(r||""))});if(O.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to divide PDF pages."),j("error")}}catch(e){O.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,D]),M=(0,a.useCallback)(()=>{O.current=!0,j("idle"),P(0)},[]),_="processing"===w||"uploading"===w,G=x&&v>0&&!_,B=(e=>{switch(e){case"vertical":case"horizontal":default:return 2;case"grid-2x2":return 4;case"grid-3x3":return 9}})(D),U=v*B;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:I,onError:R,disabled:_,label:g("dividePages.uploadLabel")||"Upload PDF File",description:g("dividePages.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:z,disabled:_,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("dividePages.optionsTitle")||"Division Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"divisionType",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:g("dividePages.divisionType")||"Division Type"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>A("vertical"),disabled:_,className:"p-4 rounded-[var(--radius-md)] border-2 transition-all ".concat("vertical"===D?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.1)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsxs)("div",{className:"w-12 h-16 border-2 border-current rounded flex",children:[(0,s.jsx)("div",{className:"flex-1 border-r border-current"}),(0,s.jsx)("div",{className:"flex-1"})]}),(0,s.jsx)("span",{className:"text-xs font-medium",children:g("dividePages.vertical")||"Vertical"}),(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:"2 parts"})]})}),(0,s.jsx)("button",{type:"button",onClick:()=>A("horizontal"),disabled:_,className:"p-4 rounded-[var(--radius-md)] border-2 transition-all ".concat("horizontal"===D?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.1)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsxs)("div",{className:"w-12 h-16 border-2 border-current rounded flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 border-b border-current"}),(0,s.jsx)("div",{className:"flex-1"})]}),(0,s.jsx)("span",{className:"text-xs font-medium",children:g("dividePages.horizontal")||"Horizontal"}),(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:"2 parts"})]})}),(0,s.jsx)("button",{type:"button",onClick:()=>A("grid-2x2"),disabled:_,className:"p-4 rounded-[var(--radius-md)] border-2 transition-all ".concat("grid-2x2"===D?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.1)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsxs)("div",{className:"w-12 h-16 border-2 border-current rounded grid grid-cols-2 grid-rows-2",children:[(0,s.jsx)("div",{className:"border-r border-b border-current"}),(0,s.jsx)("div",{className:"border-b border-current"}),(0,s.jsx)("div",{className:"border-r border-current"}),(0,s.jsx)("div",{})]}),(0,s.jsx)("span",{className:"text-xs font-medium",children:g("dividePages.grid2x2")||"2\xd72 Grid"}),(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:"4 parts"})]})}),(0,s.jsx)("button",{type:"button",onClick:()=>A("grid-3x3"),disabled:_,className:"p-4 rounded-[var(--radius-md)] border-2 transition-all ".concat("grid-3x3"===D?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.1)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:"w-12 h-16 border-2 border-current rounded grid grid-cols-3 grid-rows-3",children:[...Array(9)].map((e,r)=>(0,s.jsx)("div",{className:"".concat(r%3!=2?"border-r":""," ").concat(r<6?"border-b":""," border-current")},r))}),(0,s.jsx)("span",{className:"text-xs font-medium",children:g("dividePages.grid3x3")||"3\xd73 Grid"}),(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:"9 parts"})]})})]})]}),(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted))]",children:(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:g("dividePages.previewInfo")||"Each of the ".concat(v," page").concat(1!==v?"s":""," will be divided into ").concat(B," parts, resulting in ").concat(U," output page").concat(1!==U?"s":"",".")})})]})]}),_&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:M,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:T,disabled:!G,loading:_,children:_?p("status.processing")||"Processing...":g("dividePages.divideButton")||"Divide Pages"}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_divided_".concat(D,".pdf")),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("dividePages.successMessage")||"Pages divided successfully! Click the download button to save your file."})})]})}let p=h},60162:(e,r,t)=>{"use strict";t.r(r),t.d(r,{SanitizePDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(87888);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)([]),[F,E]=(0,a.useState)({removeJavaScript:!0,removeAttachments:!0,removeLinks:!0,flattenForms:!0,removeMetadata:!0,removeAnnotations:!1}),D=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),k(null),P(null),C([]))},[]),O=(0,a.useCallback)(e=>{k(e)},[]),L=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0),C([])},[]),I=(0,a.useCallback)(e=>{E(r=>({...r,[e]:!r[e]}))},[]),R=(0,a.useCallback)(async()=>{if(!p)return void k("Please select a PDF file to sanitize.");D.current=!1,f("processing"),b(0),k(null),P(null),C([]);try{var e,r;let t=await (0,u.OS)(p,F,(e,r)=>{D.current||(b(e),j(r||""))});if(D.current)return void f("idle");t.success&&t.result?(P(t.result),f("complete"),(null==(e=t.metadata)?void 0:e.removedItems)&&C(t.metadata.removedItems)):(k((null==(r=t.error)?void 0:r.message)||"Failed to sanitize PDF file."),f("error"))}catch(e){D.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,F]),z=(0,a.useCallback)(()=>{D.current=!0,f("idle"),b(0)},[]),T="processing"===x,M=p&&!T;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:A,onError:O,disabled:T,label:h("sanitizePdf.uploadLabel")||"Upload PDF File",description:h("sanitizePdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=p.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:L,disabled:T,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("sanitizePdf.optionsTitle")||"Sanitization Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:h("sanitizePdf.info")||"Sanitization removes potentially harmful content from PDFs, making them safer to open and share."})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.removeJavaScript,onChange:()=>I("removeJavaScript"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("sanitizePdf.removeJavaScript")||"Remove JavaScript"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.removeAttachments,onChange:()=>I("removeAttachments"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("sanitizePdf.removeAttachments")||"Remove Attachments"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.removeLinks,onChange:()=>I("removeLinks"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("sanitizePdf.removeLinks")||"Remove External Links"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.flattenForms,onChange:()=>I("flattenForms"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("sanitizePdf.flattenForms")||"Flatten Forms"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.removeMetadata,onChange:()=>I("removeMetadata"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("sanitizePdf.removeMetadata")||"Remove Metadata"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F.removeAnnotations,onChange:()=>I("removeAnnotations"),disabled:T,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("sanitizePdf.removeAnnotations")||"Remove Annotations"})]})]})]})]}),T&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,children:T?m("status.processing")||"Processing...":h("sanitizePdf.sanitizeButton")||"Sanitize PDF"}),y&&(0,s.jsx)(n.f,{file:y,filename:p?"".concat(p.name.replace(".pdf",""),"_sanitized.pdf"):"sanitized.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:h("sanitizePdf.successMessage")||"PDF sanitized successfully!"}),S.length>0&&(0,s.jsxs)("p",{className:"text-xs mt-1 text-green-600",children:[h("sanitizePdf.removedItems")||"Removed:"," ",S.join(", ")]})]})]})}let h=m},60174:(e,r,t)=>{"use strict";t.d(r,{SplitPDFTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(62618),m=t(32096);function h(e){let{className:r=""}=e,h=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)("idle"),[j,y]=(0,a.useState)(0),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)([]),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)("ranges"),[A,O]=(0,a.useState)(""),[L,I]=(0,a.useState)(1),[R,z]=(0,a.useState)([]),[T,M]=(0,a.useState)(new Set),[_,G]=(0,a.useState)(!1),B=(0,a.useRef)(!1),U=(0,a.useRef)(null),W=(0,a.useCallback)(async e=>{G(!0),z([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;U.current=a,v(a.numPages);let l=[],o=Math.min(a.numPages,50);for(let e=1;e<=o;e++){let r=await a.getPage(e),t=r.getViewport({scale:.2}),s=document.createElement("canvas"),o=s.getContext("2d");o&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:o,viewport:t}).promise,l.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.7)}))}for(let e=o+1;e<=a.numPages;e++)l.push({pageNumber:e});z(l)}catch(e){console.error("Failed to load PDF previews:",e),F("Failed to load PDF preview. The file may be corrupted or encrypted.")}finally{G(!1)}},[]),V=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];x(r),F(null),S([]),M(new Set),O(""),W(r)}},[W]),$=(0,a.useCallback)(e=>{F(e)},[]),H=(0,a.useCallback)(()=>{x(null),v(0),z([]),M(new Set),S([]),F(null),w("idle"),y(0),O(""),U.current=null},[]),Z=(0,a.useCallback)(e=>{M(r=>{let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t})},[]),q=(0,a.useCallback)(()=>{M(new Set(R.map(e=>e.pageNumber)))},[R]),K=(0,a.useCallback)(()=>{M(new Set)},[]),Y=(0,a.useCallback)(()=>{switch(E){case"ranges":if(A.trim())return(0,u.rP)(A);if(T.size>0){let e=Array.from(T).sort((e,r)=>e-r),r=[],t=e[0],s=e[0];for(let a=1;a<e.length;a++)e[a]===s+1||(r.push({start:t,end:s}),t=e[a]),s=e[a];return r.push({start:t,end:s}),r}return[];case"every-page":return(0,u.fh)(f);case"every-n-pages":return(0,u.Mt)(f,L);default:return[]}},[E,A,T,f,L]),J=(0,a.useCallback)(async()=>{if(!g)return void F("Please upload a PDF file first.");let e=Y();if(0===e.length)return void F("Please specify page ranges or select pages to extract.");B.current=!1,w("processing"),y(0),F(null),S([]);try{var r,t;let s=await (0,u.$U)(g,{ranges:e,outputFormat:"multiple"},(e,r)=>{B.current||(y(e),N(r||""))});if(B.current)return void w("idle");if(s.success&&s.result){let e=Array.isArray(s.result)?s.result:[s.result],t=(null==(r=s.metadata)?void 0:r.outputFiles)||e.map((e,r)=>"split_".concat(r+1,".pdf")),a=e.map((e,r)=>({blob:e,filename:t[r]||"split_".concat(r+1,".pdf")}));S(a),w("complete")}else F((null==(t=s.error)?void 0:t.message)||"Failed to split PDF file."),w("error")}catch(e){B.current||(F(e instanceof Error?e.message:"An unexpected error occurred."),w("error"))}},[g,Y]),X=(0,a.useCallback)(()=>{B.current=!0,w("idle"),y(0)},[]),Q=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),ee="processing"===b||"uploading"===b,er=g&&f>0&&!ee&&("ranges"===E&&(A.trim()||T.size>0)||"every-page"===E||"every-n-pages"===E);return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!g&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:V,onError:$,disabled:ee,label:p("splitPdf.uploadLabel")||"Upload PDF File",description:p("splitPdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),C&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:C})}),g&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:g.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[Q(g.size)," • ",f," ",1===f?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:H,disabled:ee,children:h("buttons.remove")||"Remove"})]})}),g&&f>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:p("splitPdf.splitModeTitle")||"Split Method"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",role:"radiogroup","aria-label":"Split method selection",children:[(0,s.jsx)("button",{type:"button",role:"radio","aria-checked":"ranges"===E,onClick:()=>D("ranges"),disabled:ee,className:"px-4 py-2 rounded-[var(--radius-md)] text-sm font-medium transition-colors ".concat("ranges"===E?"bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]"),children:p("splitPdf.modeRanges")||"By Page Ranges"}),(0,s.jsx)("button",{type:"button",role:"radio","aria-checked":"every-page"===E,onClick:()=>D("every-page"),disabled:ee,className:"px-4 py-2 rounded-[var(--radius-md)] text-sm font-medium transition-colors ".concat("every-page"===E?"bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]"),children:p("splitPdf.modeEveryPage")||"Split Every Page"}),(0,s.jsx)("button",{type:"button",role:"radio","aria-checked":"every-n-pages"===E,onClick:()=>D("every-n-pages"),disabled:ee,className:"px-4 py-2 rounded-[var(--radius-md)] text-sm font-medium transition-colors ".concat("every-n-pages"===E?"bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]"),children:p("splitPdf.modeEveryN")||"Split Every N Pages"})]}),"ranges"===E&&(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"page-ranges",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:p("splitPdf.rangeInputLabel")||"Page Ranges"}),(0,s.jsx)("input",{id:"page-ranges",type:"text",value:A,onChange:e=>O(e.target.value),placeholder:"e.g., 1-5, 8, 10-15",disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] placeholder:text-[hsl(var(--color-muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:p("splitPdf.rangeInputHint")||"Enter page numbers or ranges separated by commas. Or click pages below to select."})]})}),"every-n-pages"===E&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pages-per-split",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:p("splitPdf.pagesPerSplitLabel")||"Pages per file"}),(0,s.jsx)("input",{id:"pages-per-split",type:"number",min:1,max:f,value:L,onChange:e=>I(Math.max(1,parseInt(e.target.value)||1)),disabled:ee,className:"w-24 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:p("splitPdf.pagesPerSplitHint",{count:Math.ceil(f/L)})||"Will create ".concat(Math.ceil(f/L)," files")})]})]})]}),g&&R.length>0&&"ranges"===E&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[p("splitPdf.pagePreviewTitle")||"Select Pages",T.size>0&&" (".concat(T.size," selected)")]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:q,disabled:ee,children:h("buttons.selectAll")||"Select All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:K,disabled:ee,children:h("buttons.deselectAll")||"Deselect All"})]})]}),_?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:h("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-3 max-h-[400px] overflow-y-auto p-1",children:R.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>Z(e.pageNumber),disabled:ee,className:"relative aspect-[3/4] rounded-[var(--radius-md)] border-2 overflow-hidden transition-all ".concat(T.has(e.pageNumber)?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.3)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]"),"aria-label":"Page ".concat(e.pageNumber).concat(T.has(e.pageNumber)?" (selected)":""),children:[e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full bg-[hsl(var(--color-muted))] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:e.pageNumber})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs py-0.5 text-center",children:e.pageNumber}),T.has(e.pageNumber)&&(0,s.jsx)("div",{className:"absolute top-1 right-1 w-5 h-5 bg-[hsl(var(--color-primary))] rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.pageNumber))})]}),ee&&(0,s.jsx)(i.r,{progress:j,status:b,message:P,onCancel:X,showPercentage:!0}),g&&(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:J,disabled:!er,loading:ee,children:ee?h("status.processing")||"Processing...":p("splitPdf.splitButton")||"Split PDF"})}),"complete"===b&&k.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:[p("splitPdf.resultsTitle")||"Split Results"," (",k.length," ",1===k.length?"file":"files",")"]}),(0,s.jsx)("div",{className:"space-y-2",children:k.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:e.filename}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:Q(e.blob.size)})]})]}),(0,s.jsx)(n.f,{file:e.blob,filename:e.filename,variant:"secondary",size:"sm"})]},r))})]}),"complete"===b&&k.length>0&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p("splitPdf.successMessage")||"PDF split successfully into ".concat(k.length," file(s)! Click the download buttons to save your files.")})})]})}},61701:(e,r,t)=>{"use strict";t.d(r,{RemoveAnnotationsTool:()=>u});var s=t(95155),a=t(12115),l=t(5113),o=t(64537),i=t(35437),n=t(31166),c=t(47972),d=t(34744);function u(e){let{className:r=""}=e,[t,u]=(0,a.useState)(null),[m,h]=(0,a.useState)("idle"),[p,g]=(0,a.useState)(0),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[w,j]=(0,a.useState)(!0),y=(0,a.useRef)(!1),P=(0,a.useCallback)(async()=>{if(t){y.current=!1,h("processing"),g(0),b(null),f(null);try{let r=await (0,d.LX)(t,{removeAll:w,pages:"all"},e=>{y.current||g(e)});if(r.success&&r.result)f(r.result),h("complete");else{var e;b((null==(e=r.error)?void 0:e.message)||"Failed."),h("error")}}catch(e){b(e instanceof Error?e.message:"Error"),h("error")}}},[t,w]),N="processing"===m;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!t&&(0,s.jsx)(l.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:e=>{e.length>0&&(u(e[0]),b(null),f(null))},onError:b,disabled:N,label:"Upload PDF File",description:"Drag and drop a PDF file here."}),v&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:v})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{u(null),f(null)},disabled:N,children:"Remove"})]})}),(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Options"}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:w,onChange:e=>j(e.target.checked),disabled:N,className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Remove all annotations (comments, highlights, links, etc.)"})]})]})]}),N&&(0,s.jsx)(o.r,{progress:p,status:m,onCancel:()=>{y.current=!0,h("idle")},showPercentage:!0}),t&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(n.$,{variant:"primary",size:"lg",onClick:P,disabled:!t||N,loading:N,children:N?"Processing...":"Remove Annotations"}),x&&(0,s.jsx)(i.f,{file:x,filename:t.name.replace(".pdf","_no_annotations.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===m&&x&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:"Annotations removed successfully!"})})]})}},61792:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PDFToSVGTool:()=>p,default:()=>g});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(90208),m=t(7496),h=t.n(m);function p(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)([]),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),[A,O]=(0,a.useState)(2),[L,I]=(0,a.useState)(""),R=(0,a.useRef)(!1),z=(0,a.useCallback)(e=>{e.length>0&&(x({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),F(null),N(null),S([]),D(null))},[]),T=(0,a.useCallback)(e=>{F(e)},[]),M=(0,a.useCallback)(()=>{x(null),N(null),S([]),F(null),v("idle"),w(0),D(null)},[]),_=(0,a.useCallback)(async()=>{if(!g)return void F("Please upload a PDF file.");R.current=!1,v("processing"),w(0),F(null),N(null),S([]),D(null);let e={scale:A,pages:(e=>{if(!e.trim())return[];let r=[];for(let t of e.split(",")){let e=t.trim();if(e.includes("-")){let[t,s]=e.split("-").map(e=>parseInt(e.trim(),10));if(!isNaN(t)&&!isNaN(s))for(let e=t;e<=s;e++)r.includes(e)||r.push(e)}else{let t=parseInt(e,10);isNaN(t)||r.includes(t)||r.push(t)}}return r.sort((e,r)=>e-r)})(L)};try{var r,t;let s=await (0,u.Sd)(g.file,e,(e,r)=>{R.current||(w(e),y(r||""))});if(R.current)return void v("idle");s.success&&s.result?(N(s.result),(null==(r=s.metadata)?void 0:r.svgResults)&&S(s.metadata.svgResults),v("complete")):(F((null==(t=s.error)?void 0:t.message)||"Failed to convert PDF to SVG."),v("error"))}catch(e){R.current||(F(e instanceof Error?e.message:"An unexpected error occurred."),v("error"))}},[g,A,L]),G=(0,a.useCallback)(()=>{R.current=!0,v("idle"),w(0)},[]),B=(0,a.useCallback)(async()=>{if(!P||!Array.isArray(P)||!g)return;let e=new(h()),r=g.file.name.replace(/\.pdf$/i,"");P.forEach((t,s)=>{e.file("".concat(r,"_page_").concat(s+1,".svg"),t)});let t=await e.generateAsync({type:"blob"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="".concat(r,"_svg.zip"),a.click(),URL.revokeObjectURL(s)},[P,g]),U=e=>{D(e)},W=()=>{D(null)},V="processing"===f||"uploading"===f,$=g&&!V,H=Array.isArray(P)&&P.length>1;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:z,onError:T,disabled:V,label:p("pdfToSvg.uploadLabel")||"Upload PDF",description:p("pdfToSvg.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),C&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:C})}),g&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[var(--radius-md)] bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-5 h-5 text-[hsl(var(--color-primary))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:g.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=g.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:M,disabled:V,children:m("buttons.remove")||"Remove"})]})}),g&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:p("pdfToSvg.optionsTitle")||"Conversion Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:p("pdfToSvg.resolution")||"Resolution"}),(0,s.jsxs)("select",{value:A,onChange:e=>O(parseFloat(e.target.value)),disabled:V,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"1",children:"72 DPI (Low)"}),(0,s.jsx)("option",{value:"2",children:"144 DPI (Medium)"}),(0,s.jsx)("option",{value:"3",children:"216 DPI (High)"}),(0,s.jsx)("option",{value:"4",children:"288 DPI (Very High)"})]}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:p("pdfToSvg.resolutionHint")||"Higher resolution produces larger, more detailed SVG files."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:p("pdfToSvg.pageRange")||"Page Range"}),(0,s.jsx)("input",{type:"text",value:L,onChange:e=>I(e.target.value),placeholder:p("pdfToSvg.pageRangePlaceholder")||"e.g., 1-3, 5, 7",disabled:V,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:p("pdfToSvg.pageRangeHint")||"Leave empty for all pages"})]})]})]}),V&&(0,s.jsx)(i.r,{progress:b,status:f,message:j,onCancel:G,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:_,disabled:!$,loading:V,children:V?m("status.processing")||"Processing...":p("pdfToSvg.convertButton")||"Convert to SVG"}),P&&!H&&(0,s.jsx)(n.f,{file:P,filename:"".concat(null==g?void 0:g.file.name.replace(/\.pdf$/i,""),".svg"),variant:"secondary",size:"lg",showFileSize:!0}),H&&(0,s.jsx)(c.$,{variant:"secondary",size:"lg",onClick:B,children:p("pdfToSvg.downloadZip")||"Download All (".concat(P.length," SVGs)")})]}),k.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:[p("pdfToSvg.previewTitle")||"Converted SVGs"," (",k.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:k.map((e,r)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"aspect-[3/4] rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] overflow-hidden bg-[hsl(var(--color-muted)/0.3)] cursor-pointer hover:border-[hsl(var(--color-primary))] transition-colors",onClick:()=>U(r),children:(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",dangerouslySetInnerHTML:{__html:e.svg.replace(/<\?xml[^>]*\?>/,"").replace(/width="[^"]*"/,'width="100%"').replace(/height="[^"]*"/,'height="100%"')}})}),(0,s.jsx)("span",{className:"absolute top-2 left-2 px-2 py-1 rounded bg-black/50 text-white text-xs",children:e.pageNumber}),(0,s.jsxs)("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),U(r)},className:"bg-black/50 text-white hover:bg-black/70",children:"\uD83D\uDC41"}),(0,s.jsx)(n.f,{file:e.blob,filename:"".concat(null==g?void 0:g.file.name.replace(/\.pdf$/i,""),"_page_").concat(e.pageNumber,".svg"),variant:"ghost",size:"sm",className:"bg-black/50 text-white hover:bg-black/70"})]})]},r))})]}),null!==E&&k[E]&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:W,children:(0,s.jsxs)("div",{className:"relative max-w-[90vw] max-h-[90vh] bg-white rounded-lg overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,s.jsxs)("h4",{className:"font-medium",children:[p("pdfToSvg.previewPage")||"Page"," ",k[E].pageNumber]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.f,{file:k[E].blob,filename:"".concat(null==g?void 0:g.file.name.replace(/\.pdf$/i,""),"_page_").concat(k[E].pageNumber,".svg"),variant:"secondary",size:"sm"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:W,children:"✕"})]})]}),(0,s.jsx)("div",{className:"p-4",dangerouslySetInnerHTML:{__html:k[E].svg.replace(/<\?xml[^>]*\?>/,"")}})]})}),"complete"===f&&P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p("pdfToSvg.successMessage")||"PDF converted to SVG successfully! Click on thumbnails to preview or download individual files."})})]})}let g=p},61795:(e,r,t)=>{"use strict";t.d(r,{RH:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(15,"Loading PDF...");let o=t[0],i=await o.arrayBuffer();try{e=await r.PDFDocument.load(i,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.");throw e}if(this.updateProgress(30,"Processing bookmarks..."),"extract"===a.action){let r=await this.extractBookmarks(e),t=new Blob([JSON.stringify(r,null,2)],{type:"application/json"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(t,o.name.replace(".pdf","_bookmarks.json"),{bookmarkCount:r.length})}"add"===a.action&&a.bookmarks?await this.addBookmarks(e,r,a.bookmarks):"delete"===a.action&&a.deleteIds?this.updateProgress(50,"Removing bookmarks..."):"import"===a.action&&a.bookmarks&&await this.addBookmarks(e,r,a.bookmarks),this.updateProgress(80,"Saving PDF...");let n=await e.save({useObjectStreams:!0}),c=new Blob([new Uint8Array(n)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(c,o.name.replace(".pdf","_bookmarked.pdf"),{})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to process bookmarks.",e instanceof Error?e.message:"Unknown error")}}async extractBookmarks(e){return[]}async addBookmarks(e,r,t){let s=e.context,a=e.catalog;if(a.delete(r.PDFName.of("Outlines")),0===t.length)return;let l=s.obj({Type:"Outlines",Count:this.countBookmarks(t)}),o=s.register(l),{first:i,last:n}=await this.buildOutlineTree(e,r,s,t,o);i&&n&&(l.set(r.PDFName.of("First"),i),l.set(r.PDFName.of("Last"),n)),a.set(r.PDFName.of("Outlines"),o)}countBookmarks(e){let r=0;for(let t of e)r++,t.children&&t.children.length>0&&(r+=this.countBookmarks(t.children));return r}async buildOutlineTree(e,r,t,s,a){var l,o;if(0===s.length)return{first:null,last:null};let i=e.getPages(),n=[];for(let l of s){let s=Math.max(0,Math.min(l.pageNumber-1,i.length-1)),o=i[s],c=e.getPage(s).ref,{height:d}=o.getSize(),u=t.obj([c,"XYZ",0,d,null]),m=t.obj({Title:r.PDFHexString.fromText(l.title),Parent:a,Dest:u}),h=t.register(m);if(l.children&&l.children.length>0){let s=this.countBookmarks(l.children);m.set(r.PDFName.of("Count"),r.PDFNumber.of(s));let{first:a,last:o}=await this.buildOutlineTree(e,r,t,l.children,h);a&&o&&(m.set(r.PDFName.of("First"),a),m.set(r.PDFName.of("Last"),o))}n.push({dict:m,ref:h})}for(let e=0;e<n.length;e++){let t=n[e];e>0&&t.dict.set(r.PDFName.of("Prev"),n[e-1].ref),e<n.length-1&&t.dict.set(r.PDFName.of("Next"),n[e+1].ref)}return{first:(null==(l=n[0])?void 0:l.ref)||null,last:(null==(o=n[n.length-1])?void 0:o.ref)||null}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},62392:(e,r,t)=>{"use strict";t.r(r),t.d(r,{FixPageSizeTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(79624);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)("a4"),[F,E]=(0,a.useState)(595.28),[D,A]=(0,a.useState)(841.89),[O,L]=(0,a.useState)("fit"),[I,R]=(0,a.useState)(!0),[z,T]=(0,a.useState)("auto"),M=(0,a.useRef)(!1),_=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),k(null),P(null))},[]),G=(0,a.useCallback)(e=>{k(e)},[]),B=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0)},[]),U=(0,a.useCallback)(async()=>{if(!p)return void k("Please select a PDF file.");M.current=!1,f("processing"),b(0),k(null),P(null);try{let r=await (0,u.sM)(p,{sizePreset:S,customWidth:"custom"===S?F:void 0,customHeight:"custom"===S?D:void 0,scaleMode:O,maintainAspectRatio:I,orientation:z},(e,r)=>{M.current||(b(e),j(r||""))});if(M.current)return void f("idle");if(r.success&&r.result)P(r.result),f("complete");else{var e;k((null==(e=r.error)?void 0:e.message)||"Failed to fix page sizes."),f("error")}}catch(e){M.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,S,F,D,O,I,z]),W=(0,a.useCallback)(()=>{M.current=!0,f("idle"),b(0)},[]),V="processing"===x,$=p&&!V;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:_,onError:G,disabled:V,label:h("fixPageSize.uploadLabel")||"Upload PDF File",description:h("fixPageSize.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=p.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:B,disabled:V,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("fixPageSize.optionsTitle")||"Page Size Options"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("fixPageSize.targetSize")||"Target Page Size"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.keys(u.tn).map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>C(e),disabled:V,className:"\n                      px-3 py-2 rounded-[var(--radius-md)] border text-sm font-medium\n                      transition-colors duration-200\n                      ".concat(S===e?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.5)]","\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                    "),children:"custom"===e?h("fixPageSize.custom")||"Custom":e.toUpperCase()},e))}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:u.tn[S].label})]}),"custom"===S&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("fixPageSize.width")||"Width (points)"}),(0,s.jsx)("input",{type:"number",value:F,onChange:e=>E(Number(e.target.value)),disabled:V,min:72,max:3e3,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:h("fixPageSize.height")||"Height (points)"}),(0,s.jsx)("input",{type:"number",value:D,onChange:e=>A(Number(e.target.value)),disabled:V,min:72,max:3e3,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("fixPageSize.scaleMode")||"Content Scaling"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["fit","fill","stretch","center"].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>L(e),disabled:V,className:"\n                      px-3 py-2 rounded-[var(--radius-md)] border text-sm font-medium\n                      transition-colors duration-200\n                      ".concat(O===e?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.5)]","\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                    "),children:["fit"===e&&(h("fixPageSize.scaleFit")||"Fit"),"fill"===e&&(h("fixPageSize.scaleFill")||"Fill"),"stretch"===e&&(h("fixPageSize.scaleStretch")||"Stretch"),"center"===e&&(h("fixPageSize.scaleCenter")||"Center")]},e))}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:["fit"===O&&(h("fixPageSize.scaleFitDesc")||"Scale content to fit within page, maintaining aspect ratio"),"fill"===O&&(h("fixPageSize.scaleFillDesc")||"Scale content to fill page, may crop edges"),"stretch"===O&&(h("fixPageSize.scaleStretchDesc")||"Stretch content to fill page exactly"),"center"===O&&(h("fixPageSize.scaleCenterDesc")||"Center content without scaling")]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("fixPageSize.orientation")||"Page Orientation"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["auto","portrait","landscape"].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>T(e),disabled:V,className:"\n                      px-3 py-2 rounded-[var(--radius-md)] border text-sm font-medium\n                      transition-colors duration-200\n                      ".concat(z===e?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.5)]","\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                    "),children:["auto"===e&&(h("fixPageSize.orientAuto")||"Auto"),"portrait"===e&&(h("fixPageSize.orientPortrait")||"Portrait"),"landscape"===e&&(h("fixPageSize.orientLandscape")||"Landscape")]},e))})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:I,onChange:e=>R(e.target.checked),disabled:V||"stretch"===O||"center"===O,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("fixPageSize.maintainAspectRatio")||"Maintain aspect ratio"})]})]})]}),V&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:W,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:U,disabled:!$,loading:V,children:V?m("status.processing")||"Processing...":h("fixPageSize.applyButton")||"Fix Page Sizes"}),y&&(0,s.jsx)(n.f,{file:y,filename:p?"".concat(p.name.replace(".pdf",""),"_fixed.pdf"):"fixed.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("fixPageSize.successMessage")||"Page sizes fixed successfully!"})})]})}let h=m},62618:(e,r,t)=>{"use strict";t.d(r,{me:()=>w,Mt:()=>p,fh:()=>g,Oo:()=>d,rP:()=>h,$U:()=>x});var s=t(18365);t(17668);var a=t(78752);a.GS.FILE_TOO_LARGE,a.GS.FILE_TYPE_INVALID,a.GS.FILE_CORRUPTED,a.GS.FILE_EMPTY,a.GS.FILE_NOT_PDF,a.GS.PDF_ENCRYPTED,a.GS.PDF_MALFORMED,a.GS.PROCESSING_TIMEOUT,a.GS.PROCESSING_CANCELLED,a.GS.PROCESSING_FAILED,a.GS.INVALID_PASSWORD,a.GS.MEMORY_EXCEEDED,a.GS.WORKER_FAILED,a.GS.BROWSER_NOT_SUPPORTED,a.GS.INVALID_PAGE_RANGE,a.GS.INVALID_OPTIONS,a.GS.UNKNOWN,a.GS.FILE_TOO_LARGE,a.GS.FILE_TYPE_INVALID,a.GS.FILE_CORRUPTED,a.GS.FILE_EMPTY,a.GS.FILE_NOT_PDF,a.GS.PDF_ENCRYPTED,a.GS.PDF_MALFORMED,a.GS.PROCESSING_TIMEOUT,a.GS.PROCESSING_CANCELLED,a.GS.PROCESSING_FAILED,a.GS.INVALID_PASSWORD,a.GS.MEMORY_EXCEEDED,a.GS.WORKER_FAILED,a.GS.BROWSER_NOT_SUPPORTED,a.GS.INVALID_PAGE_RANGE,a.GS.INVALID_OPTIONS,a.GS.UNKNOWN,a.GS.FILE_TOO_LARGE,a.GS.FILE_TYPE_INVALID,a.GS.FILE_CORRUPTED,a.GS.FILE_EMPTY,a.GS.FILE_NOT_PDF,a.GS.PDF_ENCRYPTED,a.GS.PDF_MALFORMED,a.GS.PROCESSING_TIMEOUT,a.GS.PROCESSING_CANCELLED,a.GS.PROCESSING_FAILED,a.GS.INVALID_PASSWORD,a.GS.MEMORY_EXCEEDED,a.GS.WORKER_FAILED,a.GS.BROWSER_NOT_SUPPORTED,a.GS.INVALID_PAGE_RANGE,a.GS.INVALID_OPTIONS,a.GS.UNKNOWN;var l=t(32096);let o={preserveBookmarks:!0,pageOrder:"sequential"};class i extends s.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:s}=e,i={...o,...s};if(t.length<2)return this.createErrorOutput(a.GS.INVALID_OPTIONS,"At least 2 PDF files are required for merging.","Received ".concat(t.length," file(s)."));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Creating merged document...");let r=await e.PDFDocument.create(),s=[],o=0,d=80/t.length;for(let l=0;l<t.length;l++){if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let n=t[l],u=10+l*d;this.updateProgress(u,"Processing file ".concat(l+1," of ").concat(t.length,": ").concat(n.name));try{let t=await n.arrayBuffer(),a=await e.PDFDocument.load(t,{ignoreEncryption:!1}),l=a.getPageCount();for(let e of(await r.copyPages(a,a.getPageIndices())))r.addPage(e);i.preserveBookmarks&&s.push({title:c(n.name),pageIndex:o,pageCount:l}),o+=l}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(a.GS.PDF_ENCRYPTED,'File "'.concat(n.name,'" is encrypted.'),"Please decrypt the file before merging.");return this.createErrorOutput(a.GS.PROCESSING_FAILED,'Failed to process file "'.concat(n.name,'".'),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(90,"Adding bookmarks..."),i.preserveBookmarks&&s.length>0&&await n(r,s),this.updateProgress(95,"Saving merged PDF...");let u=await r.save({useObjectStreams:!0}),m=new Blob([new Uint8Array(u)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let h=function(e){if(0===e.length)return"merged.pdf";let r=c(e[0].name);if(2===e.length){let t=c(e[1].name);return"".concat(r,"_").concat(t,"_merged.pdf")}return"".concat(r,"_and_").concat(e.length-1,"_more_merged.pdf")}(t);return this.createSuccessOutput(m,h,{pageCount:o,fileCount:t.length,bookmarkCount:s.length})}catch(e){return this.createErrorOutput(a.GS.PROCESSING_FAILED,"Failed to merge PDF files.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r){let t=await (0,l.Ck)(),s=e.context,a=e.catalog,o=[];for(let a=0;a<r.length;a++){let l=r[a],i=e.getPage(l.pageIndex).ref,n=t.PDFArray.withContext(s);n.push(i),n.push(t.PDFName.of("XYZ")),n.push(t.PDFNull),n.push(t.PDFNull),n.push(t.PDFNull);let c=t.PDFDict.withContext(s);c.set(t.PDFName.of("Title"),t.PDFHexString.fromText(l.title)),c.set(t.PDFName.of("Dest"),n);let d=s.register(c);o.push(d)}let i=t.PDFDict.withContext(s);i.set(t.PDFName.of("Type"),t.PDFName.of("Outlines")),i.set(t.PDFName.of("Count"),t.PDFNumber.of(r.length));let n=s.register(i);for(let e=0;e<o.length;e++){let r=o[e],a=s.lookup(r);a.set(t.PDFName.of("Parent"),n),e>0&&a.set(t.PDFName.of("Prev"),o[e-1]),e<o.length-1&&a.set(t.PDFName.of("Next"),o[e+1])}o.length>0&&(i.set(t.PDFName.of("First"),o[0]),i.set(t.PDFName.of("Last"),o[o.length-1])),a.set(t.PDFName.of("Outlines"),n)}function c(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}async function d(e,r,t){return new i().process({files:e,options:r||{}},t)}let u={ranges:[],outputFormat:"multiple"};class m extends s.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:s}=e,o={...u,...s};if(1!==t.length)return this.createErrorOutput(a.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required for splitting.","Received ".concat(t.length," file(s)."));if(!o.ranges||0===o.ranges.length)return this.createErrorOutput(a.GS.INVALID_OPTIONS,"At least one page range is required for splitting.","Please specify page ranges to extract.");try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let s=t[0],i=await s.arrayBuffer();try{e=await r.PDFDocument.load(i,{ignoreEncryption:!1})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(a.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before splitting.");throw e}let n=e.getPageCount();this.updateProgress(15,"Source PDF has ".concat(n," pages."));let c=function(e,r){for(let t=0;t<e.length;t++){let s=e[t];if(s.start<1)return"Range ".concat(t+1,": Start page must be at least 1.");if(s.end<s.start)return"Range ".concat(t+1,": End page (").concat(s.end,") cannot be less than start page (").concat(s.start,").");if(s.end>r)return"Range ".concat(t+1,": End page (").concat(s.end,") exceeds total pages (").concat(r,").");if(s.start>r)return"Range ".concat(t+1,": Start page (").concat(s.start,") exceeds total pages (").concat(r,").")}return null}(o.ranges,n);if(c)return this.createErrorOutput(a.GS.INVALID_PAGE_RANGE,c,"The PDF has ".concat(n," pages."));if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let d=[],u=[],m=75/o.ranges.length;for(let t=0;t<o.ranges.length;t++){if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let l=o.ranges[t],i=15+t*m;this.updateProgress(i,"Extracting pages ".concat(l.start,"-").concat(l.end,"..."));let n=await r.PDFDocument.create(),c=[];for(let e=l.start;e<=l.end;e++)c.push(e-1);for(let r of(await n.copyPages(e,c)))n.addPage(r);let h=await n.save({useObjectStreams:!0}),p=new Blob([new Uint8Array(h)],{type:"application/pdf"});d.push(p);let g=function(e,r,t,s){let a=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return 1===s?r.start===r.end?"".concat(a,"_page_").concat(r.start,".pdf"):"".concat(a,"_pages_").concat(r.start,"-").concat(r.end,".pdf"):r.start===r.end?"".concat(a,"_part").concat(t,"_page_").concat(r.start,".pdf"):"".concat(a,"_part").concat(t,"_pages_").concat(r.start,"-").concat(r.end,".pdf")}(s.name,l,t+1,o.ranges.length);u.push(g)}if(this.updateProgress(95,"Finalizing..."),"single"===o.outputFormat&&1===d.length)return this.updateProgress(100,"Complete!"),this.createSuccessOutput(d[0],u[0],{pageCount:o.ranges[0].end-o.ranges[0].start+1,rangeCount:1,sourcePageCount:n});return this.updateProgress(100,"Complete!"),{success:!0,result:d,filename:u.join(", "),metadata:{rangeCount:o.ranges.length,sourcePageCount:n,outputFiles:u}}}catch(e){return this.createErrorOutput(a.GS.PROCESSING_FAILED,"Failed to split PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}function h(e){let r=[];for(let t of e.split(",").map(e=>e.trim()).filter(e=>e.length>0))if(t.includes("-")){let[e,s]=t.split("-").map(e=>e.trim()),a=parseInt(e,10),l=parseInt(s,10);isNaN(a)||isNaN(l)||r.push({start:a,end:l})}else{let e=parseInt(t,10);isNaN(e)||r.push({start:e,end:e})}return r}function p(e,r){let t=[];for(let s=1;s<=e;s+=r){let a=Math.min(s+r-1,e);t.push({start:s,end:a})}return t}function g(e){return p(e,1)}async function x(e,r,t){return new m().process({files:[e],options:r||{}},t)}t(11922),t(6268),t(59724);let f={reverseSecond:!1,preserveBookmarks:!1};class v extends s.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:s}=e,o={...f,...s};if(t.length<2)return this.createErrorOutput(a.GS.INVALID_OPTIONS,"At least 2 PDF files are required for alternate merging.","Received ".concat(t.length," file(s)."));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading PDF documents...");let r=[],s=30/t.length;for(let l=0;l<t.length;l++){if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let o=t[l],i=10+l*s;this.updateProgress(i,"Loading file ".concat(l+1," of ").concat(t.length,": ").concat(o.name));try{let t=await o.arrayBuffer(),s=await e.PDFDocument.load(t,{ignoreEncryption:!1}),a=s.getPageCount();r.push({doc:s,pageCount:a,name:o.name})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(a.GS.PDF_ENCRYPTED,'File "'.concat(o.name,'" is encrypted.'),"Please decrypt the file before merging.");return this.createErrorOutput(a.GS.PROCESSING_FAILED,'Failed to load file "'.concat(o.name,'".'),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(40,"Creating merged document...");let i=await e.PDFDocument.create(),n=Math.max(...r.map(e=>e.pageCount)),c=r.map((e,r)=>{let t=Array.from({length:e.pageCount},(e,r)=>r);return 1===r&&o.reverseSecond?t.reverse():t});this.updateProgress(50,"Interleaving pages...");let d=40/n,u=0;for(let e=0;e<n;e++){if(this.checkCancelled())return this.createErrorOutput(a.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=50+e*d;this.updateProgress(t,"Processing page ".concat(e+1," of ").concat(n,"..."));for(let t=0;t<r.length;t++){let s=r[t],l=c[t][e];if(void 0!==l&&l<s.pageCount)try{let[e]=await i.copyPages(s.doc,[l]);i.addPage(e),u++}catch(e){return this.createErrorOutput(a.GS.PROCESSING_FAILED,"Failed to copy page ".concat(l+1,' from "').concat(s.name,'".'),e instanceof Error?e.message:"Unknown error")}}}this.updateProgress(95,"Saving merged PDF...");let m=await i.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let p=function(e){if(0===e.length)return"alternate-merged.pdf";let r=b(e[0].name);if(2===e.length){let t=b(e[1].name);return"".concat(r,"_").concat(t,"_interleaved.pdf")}return"".concat(r,"_and_").concat(e.length-1,"_more_interleaved.pdf")}(t);return this.createSuccessOutput(h,p,{pageCount:u,fileCount:t.length,interleaved:!0})}catch(e){return this.createErrorOutput(a.GS.PROCESSING_FAILED,"Failed to alternate merge PDF files.",e instanceof Error?e.message:"Unknown error")}}getMaxFileSize(){return 524288e3}getAcceptedTypes(){return["application/pdf"]}}function b(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}async function w(e,r,t){return new v().process({files:e,options:r||{}},t)}t(25278),t(5691),t(57814),t(95100),t(37447),t(27467),t(8519),t(30037),t(94188),t(72151),t(61795),t(81554),t(16459),t(85311),t(30782),t(72398),t(14781),t(20334),t(34744),t(6757),t(92386),t(68544),t(23341),t(91257),t(5421),t(19362),t(73391),t(90208),t(14169),t(33164),t(33737),t(79624),t(55092),t(81314),t(15781),t(80571),t(13206),t(56772),t(76480),t(87888),t(47431),t(34263),t(8202),t(19089),t(27082),t(90636),t(78491),t(83820),t(71538),t(73468),t(14239),t(28735),t(29553)},63826:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PDFToGreyscaleTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(14169);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)("luminosity"),[F,E]=(0,a.useState)(2),[D,A]=(0,a.useState)(""),O=(0,a.useRef)(!1),L=(0,a.useCallback)(e=>{e.length>0&&(g({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),k(null),P(null))},[]),I=(0,a.useCallback)(e=>{k(e)},[]),R=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0)},[]),z=(0,a.useCallback)(async()=>{if(!p)return void k("Please upload a PDF file.");O.current=!1,f("processing"),b(0),k(null),P(null);let e={method:S,scale:F,pages:(e=>{if(!e.trim())return[];let r=[];for(let t of e.split(",")){let e=t.trim();if(e.includes("-")){let[t,s]=e.split("-").map(e=>parseInt(e.trim(),10));if(!isNaN(t)&&!isNaN(s))for(let e=t;e<=s;e++)r.includes(e)||r.push(e)}else{let t=parseInt(e,10);isNaN(t)||r.includes(t)||r.push(t)}}return r.sort((e,r)=>e-r)})(D)};try{let t=await (0,u.bs)(p.file,e,(e,r)=>{O.current||(b(e),j(r||""))});if(O.current)return void f("idle");if(t.success&&t.result)P(t.result),f("complete");else{var r;k((null==(r=t.error)?void 0:r.message)||"Failed to convert PDF to greyscale."),f("error")}}catch(e){O.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,S,F,D]),T=(0,a.useCallback)(()=>{O.current=!0,f("idle"),b(0)},[]),M="processing"===x||"uploading"===x,_=p&&!M;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:L,onError:I,disabled:M,label:h("pdfToGreyscale.uploadLabel")||"Upload PDF",description:h("pdfToGreyscale.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[var(--radius-md)] bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-5 h-5 text-[hsl(var(--color-primary))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:p.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=p.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:R,disabled:M,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pdfToGreyscale.optionsTitle")||"Greyscale Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("pdfToGreyscale.method")||"Conversion Method"}),(0,s.jsxs)("select",{value:S,onChange:e=>C(e.target.value),disabled:M,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"luminosity",children:h("pdfToGreyscale.methodLuminosity")||"Luminosity (Recommended)"}),(0,s.jsx)("option",{value:"average",children:h("pdfToGreyscale.methodAverage")||"Average"}),(0,s.jsx)("option",{value:"lightness",children:h("pdfToGreyscale.methodLightness")||"Lightness"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("pdfToGreyscale.quality")||"Quality"}),(0,s.jsxs)("select",{value:F,onChange:e=>E(parseFloat(e.target.value)),disabled:M,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"1",children:h("pdfToGreyscale.qualityLow")||"Low (Faster)"}),(0,s.jsx)("option",{value:"2",children:h("pdfToGreyscale.qualityMedium")||"Medium (Recommended)"}),(0,s.jsx)("option",{value:"3",children:h("pdfToGreyscale.qualityHigh")||"High (Slower)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("pdfToGreyscale.pageRange")||"Page Range"}),(0,s.jsx)("input",{type:"text",value:D,onChange:e=>A(e.target.value),placeholder:h("pdfToGreyscale.pageRangePlaceholder")||"e.g., 1-3, 5, 7",disabled:M,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:h("pdfToGreyscale.pageRangeHint")||"Leave empty for all pages"})]})]})]}),M&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:T,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:z,disabled:!_,loading:M,children:M?m("status.processing")||"Processing...":h("pdfToGreyscale.convertButton")||"Convert to Greyscale"}),y&&(0,s.jsx)(n.f,{file:y,filename:"".concat(null==p?void 0:p.file.name.replace(/\.pdf$/i,""),"_greyscale.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("pdfToGreyscale.successMessage")||"PDF converted to greyscale successfully! Click the download button to save your file."})})]})}let h=m},64537:(e,r,t)=>{"use strict";t.d(r,{r:()=>o});var s=t(95155),a=t(12115),l=t(18955);let o=e=>{let{progress:r,status:t,message:o,estimatedTime:i,className:n="",showPercentage:c=!0,showEstimatedTime:d=!0,onCancel:u}=e,m=(0,l.c)("common"),h=Math.max(0,Math.min(100,r)),p=(0,a.useMemo)(()=>{if(!i||i<=0)return null;if(i<60)return"".concat(Math.ceil(i),"s remaining");let e=Math.floor(i/60),r=Math.ceil(i%60);if(e<60)return"".concat(e,"m ").concat(r,"s remaining");let t=Math.floor(e/60);return"".concat(t,"h ").concat(e%60,"m remaining")},[i]),g=(0,a.useMemo)(()=>{switch(t){case"idle":return m("status.idle");case"uploading":return m("status.uploading");case"processing":return m("status.processing");case"complete":return m("status.complete");case"error":return m("status.error");default:return""}},[t,m]),x=(0,a.useMemo)(()=>{switch(t){case"complete":return"bg-green-500";case"error":return"bg-red-500";case"uploading":case"processing":return"bg-[hsl(var(--color-primary))]";default:return"bg-[hsl(var(--color-muted))]"}},[t]),f=u&&("uploading"===t||"processing"===t),v=(0,a.useRef)(t),b=(0,a.useRef)("");return((0,a.useEffect)(()=>{v.current!==t&&("complete"===t||"error"===t?b.current="".concat(g,". ").concat(o||""):("processing"===t||"uploading"===t)&&(b.current=g),v.current=t)},[t,g,o]),"idle"===t)?null:(0,s.jsxs)("div",{className:"w-full ".concat(n).trim(),role:"progressbar","aria-valuenow":h,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"".concat(g,": ").concat(h,"%"),children:[(0,s.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only",children:b.current}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[("uploading"===t||"processing"===t)&&(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full bg-[hsl(var(--color-primary)/0.3)]"}),(0,s.jsx)("div",{className:"absolute inset-0 w-4 h-4 rounded-full bg-[hsl(var(--color-primary))] animate-ping opacity-75"})]}),"complete"===t&&(0,s.jsx)("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===t&&(0,s.jsx)("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:g})]}),c&&(0,s.jsxs)("span",{className:"text-sm font-medium text-[hsl(var(--color-muted-foreground))]",children:[Math.round(h),"%"]})]}),(0,s.jsxs)("div",{className:"relative w-full h-2 bg-[hsl(var(--color-muted))] rounded-full overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 h-full transition-all duration-300 ease-out rounded-full ".concat(x),style:{width:"".concat(h,"%")}}),("uploading"===t||"processing"===t)&&h<100&&(0,s.jsx)("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer",style:{width:"".concat(h,"%")}})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] truncate flex-1",children:o||""}),d&&p&&("uploading"===t||"processing"===t)&&(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))] ml-4 whitespace-nowrap",children:p})]}),f&&(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("button",{type:"button",onClick:u,className:"text-sm text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))] transition-colors","aria-label":m("buttons.cancel"),children:m("buttons.cancel")})})]})}},64650:(e,r,t)=>{"use strict";t.r(r),t.d(r,{OCRPDFTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(33737);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(["eng"]),[D,A]=(0,a.useState)("text"),[O,L]=(0,a.useState)(2),[I,R]=(0,a.useState)(""),z=(0,a.useRef)(!1),T=(0,a.useCallback)(e=>{e.length>0&&(g({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),C(null),P(null),k(null))},[]),M=(0,a.useCallback)(e=>{C(e)},[]),_=(0,a.useCallback)(()=>{g(null),P(null),k(null),C(null),f("idle"),b(0)},[]),G=(0,a.useCallback)(e=>{E(r=>r.includes(e)?1===r.length?r:r.filter(r=>r!==e):[...r,e])},[]),B=(0,a.useCallback)(async()=>{if(!p)return void C("Please upload a PDF file.");z.current=!1,f("processing"),b(0),C(null),P(null),k(null);let e={languages:F,outputFormat:D,scale:O,pages:(e=>{if(!e.trim())return[];let r=[];for(let t of e.split(",")){let e=t.trim();if(e.includes("-")){let[t,s]=e.split("-").map(e=>parseInt(e.trim(),10));if(!isNaN(t)&&!isNaN(s))for(let e=t;e<=s;e++)r.includes(e)||r.push(e)}else{let t=parseInt(e,10);isNaN(t)||r.includes(t)||r.push(t)}}return r.sort((e,r)=>e-r)})(I)};try{let t=await (0,u.j6)(p.file,e,(e,r)=>{z.current||(b(e),j(r||""))});if(z.current)return void f("idle");if(t.success&&t.result){let e=t.result;if(P(e),"text"===D){let r=await e.text();k(r.length>5e3?r.substring(0,5e3)+"\n...(truncated)":r)}f("complete")}else{var r;C((null==(r=t.error)?void 0:r.message)||"Failed to perform OCR on PDF."),f("error")}}catch(e){z.current||(C(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,F,D,O,I]),U=(0,a.useCallback)(()=>{z.current=!0,f("idle"),b(0)},[]),W="processing"===x||"uploading"===x,V=p&&!W;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:T,onError:M,disabled:W,label:h("ocrPdf.uploadLabel")||"Upload PDF",description:h("ocrPdf.uploadDescription")||"Drag and drop a scanned PDF file here, or click to browse."}),S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:S})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[var(--radius-md)] bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-5 h-5 text-[hsl(var(--color-primary))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:p.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=p.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:_,disabled:W,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("ocrPdf.optionsTitle")||"OCR Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("ocrPdf.languages")||"Languages"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["eng","chi_sim","chi_tra","jpn","kor","spa","fra","deu","por","ara"].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>G(e),disabled:W,className:"\n                      px-3 py-1.5 rounded-full text-sm font-medium transition-colors\n                      ".concat(F.includes(e)?"bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"bg-[hsl(var(--color-muted)/0.5)] text-[hsl(var(--color-foreground))] hover:bg-[hsl(var(--color-muted))]","\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                    "),children:u.lI[e]},e))}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-2",children:h("ocrPdf.languagesHint")||"Select one or more languages for better accuracy"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("ocrPdf.outputFormat")||"Output Format"}),(0,s.jsxs)("select",{value:D,onChange:e=>A(e.target.value),disabled:W,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"text",children:h("ocrPdf.formatText")||"Text File (.txt)"}),(0,s.jsx)("option",{value:"searchable-pdf",children:h("ocrPdf.formatPdf")||"Searchable PDF"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("ocrPdf.quality")||"Quality"}),(0,s.jsxs)("select",{value:O,onChange:e=>L(parseFloat(e.target.value)),disabled:W,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"1",children:h("ocrPdf.qualityLow")||"Low (Faster)"}),(0,s.jsx)("option",{value:"2",children:h("ocrPdf.qualityMedium")||"Medium (Recommended)"}),(0,s.jsx)("option",{value:"3",children:h("ocrPdf.qualityHigh")||"High (Slower)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("ocrPdf.pageRange")||"Page Range"}),(0,s.jsx)("input",{type:"text",value:I,onChange:e=>R(e.target.value),placeholder:h("ocrPdf.pageRangePlaceholder")||"e.g., 1-3, 5, 7",disabled:W,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:h("ocrPdf.pageRangeHint")||"Leave empty for all pages"})]})]})]})]}),W&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:U,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:B,disabled:!V,loading:W,children:W?m("status.processing")||"Processing...":h("ocrPdf.processButton")||"Start OCR"}),y&&(0,s.jsx)(n.f,{file:y,filename:"".concat(null==p?void 0:p.file.name.replace(/\.pdf$/i,""),"_ocr.").concat("text"===D?"txt":"pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),N&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("ocrPdf.previewTitle")||"Extracted Text Preview"}),(0,s.jsx)("pre",{className:"p-4 bg-[hsl(var(--color-muted)/0.3)] rounded-[var(--radius-md)] overflow-auto max-h-96 text-sm font-mono text-[hsl(var(--color-foreground))] whitespace-pre-wrap",children:N})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("ocrPdf.successMessage")||"OCR completed successfully! Click the download button to save your file."})}),(0,s.jsx)(d.Zp,{variant:"outlined",className:"bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("path",{d:"M12 16v-4M12 8h.01"})]}),(0,s.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:h("ocrPdf.infoTitle")||"About OCR"}),(0,s.jsx)("p",{children:h("ocrPdf.infoText")||"OCR (Optical Character Recognition) extracts text from scanned documents and images. For best results, use high-quality scans and select the correct language(s)."})]})]})})]})}let h=m},67725:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PDFToDocxTool:()=>w,default:()=>j});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(89715),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(78752),f=t(18365);class v extends f.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/pdf-to-docx.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(x.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let s=t[0];if(!s.type.includes("pdf")&&!s.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(x.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(s.type||"unknown"));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(x.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(x.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting PDF to DOCX...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),a=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",a),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",a),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:s}})});if(this.checkCancelled())return this.createErrorOutput(x.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=s.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(e,"".concat(r,".docx"),{format:"docx"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(x.GS.PROCESSING_FAILED,"Failed to convert PDF to DOCX.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function b(e,r,t){return new v().process({files:[e],options:r||{}},t)}function w(e){var r;let{className:t=""}=e,x=(0,l.c)("common"),f=(0,l.c)("tools"),[v,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!v)return void D(x("errors.uploadFile")||"Please upload a PDF file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await b(v.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||x("errors.conversionFailed")||"Failed to convert PDF to DOCX."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:x("errors.unexpectedError")||"An unexpected error occurred."),y("error"))}},[v,x,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=v&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:f("pdfToDocx.uploadLabel")||"Upload PDF",description:f("pdfToDocx.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),v&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:v.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=v.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:[(0,s.jsx)(n.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"sr-only",children:x("buttons.remove")||"Remove"})]})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?x("status.processing")||"Converting...":f("pdfToDocx.convertButton")||"Convert to DOCX"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==v?void 0:v.file.name.replace(/\.pdf$/i,""),".docx"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:f("pdfToDocx.successMessage")||"Your PDF has been converted to DOCX. You can now download the editable Word document."})]})]})}let j=w},68014:(e,r,t)=>{"use strict";t.d(r,{PSDToPDFTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(3248),i=t(5113),n=t(64537),c=t(35437),d=t(31166),u=t(47972),m=t(91257);function h(e){let{className:r=""}=e,t=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)([]),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)("A4"),[F,E]=(0,a.useState)("auto"),[D,A]=(0,a.useState)(36),[O,L]=(0,a.useState)(!0),[I,R]=(0,a.useState)(!0),[z,T]=(0,a.useState)(null),[M,_]=(0,a.useState)(null),G=(0,a.useRef)(!1),B=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending",preview:void 0}));g(e=>[...e,...r]),k(null),P(null)},[]),U=(0,a.useCallback)(e=>{k(e)},[]),W=(0,a.useCallback)(e=>{g(r=>{let t=r.find(r=>r.id===e);return(null==t?void 0:t.preview)&&URL.revokeObjectURL(t.preview),r.filter(r=>r.id!==e)}),P(null)},[]),V=(0,a.useCallback)(()=>{p.forEach(e=>{e.preview&&URL.revokeObjectURL(e.preview)}),g([]),P(null),k(null),f("idle"),b(0)},[p]),$=(0,a.useCallback)(e=>{T(e)},[]),H=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==z&&z!==r&&_(r)},[z]),Z=(0,a.useCallback)(()=>{null!==z&&null!==M&&z!==M&&g(e=>{let r=[...e],[t]=r.splice(z,1);return r.splice(M,0,t),r}),T(null),_(null)},[z,M]),q=async e=>{let r=await e.arrayBuffer(),t=(0,o.readPsd)(r,{skipLayerImageData:!1,skipThumbnail:!0}).canvas;if(!t)throw Error("Could not render PSD: ".concat(e.name,". No canvas generated."));return new Promise((r,s)=>{t.toBlob(t=>{t?r(new File([t],e.name.replace(/\.(psd|psb)$/i,".png"),{type:"image/png"})):s(Error("Failed to convert PSD to PNG: ".concat(e.name)))},"image/png")})},K=(0,a.useCallback)(async()=>{if(p.length<1)return void k("Please add at least 1 PSD file.");G.current=!1,f("processing"),b(0),k(null),P(null);try{j("Parsing and rendering PSD files...");let r=[],t=p.length;for(let e=0;e<t;e++){if(G.current)return;b(Math.round(e/t*50)),j("Rendering ".concat(p[e].file.name,"..."));try{let t=await q(p[e].file);r.push(t)}catch(r){throw console.error(r),Error("Failed to process ".concat(p[e].file.name,": ").concat(r instanceof Error?r.message:"Unknown error"))}}if(G.current)return;b(50),j("Generating PDF...");let s=await (0,m.IJ)(r,{pageSize:S,orientation:F,margin:D,centerImage:O,scaleToFit:I,svgScale:2},(e,r)=>{G.current||(b(50+Math.round(e/2)),j(r||"Creating PDF..."))});if(G.current)return void f("idle");if(s.success&&s.result)P(s.result),f("complete");else{var e;k((null==(e=s.error)?void 0:e.message)||"Failed to convert to PDF."),f("error")}}catch(e){G.current||(k(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,S,F,D,O,I]),Y=(0,a.useCallback)(()=>{G.current=!0,f("idle"),b(0)},[]),J="processing"===x||"uploading"===x,X=p.length>=1&&!J;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(i.l,{accept:[".psd",".psb","image/vnd.adobe.photoshop"],multiple:!0,maxFiles:100,onFilesSelected:B,onError:U,disabled:J,label:"Upload PSD/PSB Files",description:"Drag and drop PSD/PSB files here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p.length>0&&(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:["Files (",p.length,")"]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:V,disabled:J,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:"Drag and drop to reorder files."}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:p.map((e,r)=>{var t;return(0,s.jsxs)("div",{draggable:!J,onDragStart:()=>$(r),onDragOver:e=>H(e,r),onDragEnd:Z,className:"\n                  relative group rounded-[var(--radius-md)] border overflow-hidden\n                  transition-all duration-200\n                  ".concat(z===r?"opacity-50 border-dashed":"","\n                  ").concat(M===r?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.2)]":"border-[hsl(var(--color-border))]","\n                  ").concat(J?"":"cursor-grab hover:border-[hsl(var(--color-primary)/0.5)]","\n                "),children:[(0,s.jsx)("div",{className:"aspect-square bg-[hsl(var(--color-muted)/0.3)] flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-[hsl(var(--color-muted-foreground))]",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,s.jsx)("path",{d:"M10 13v-1.5a1.5 1.5 0 0 0-3 0V13"})]}),(0,s.jsx)("span",{className:"text-xs font-bold mt-1",children:"PSD"})]})}),(0,s.jsx)("span",{className:"absolute top-2 left-2 w-6 h-6 rounded-full bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))] text-xs font-medium flex items-center justify-center",children:r+1}),(0,s.jsx)("button",{type:"button",onClick:()=>W(e.id),disabled:J,className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-30","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),(0,s.jsxs)("div",{className:"p-2 bg-white",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(t=e.file.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")})]})]},e.id)})})]}),p.length>=1&&(0,s.jsxs)(u.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:"PDF Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.pageSize")||"Page Size"}),(0,s.jsxs)("select",{value:S,onChange:e=>C(e.target.value),disabled:J,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"LETTER",children:"Letter"}),(0,s.jsx)("option",{value:"LEGAL",children:"Legal"}),(0,s.jsx)("option",{value:"A3",children:"A3"}),(0,s.jsx)("option",{value:"A5",children:"A5"}),(0,s.jsx)("option",{value:"FIT",children:"Fit to Image"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.orientation")||"Orientation"}),(0,s.jsxs)("select",{value:F,onChange:e=>E(e.target.value),disabled:J,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"auto",children:h("imageToPdf.orientationAuto")||"Auto (match image)"}),(0,s.jsx)("option",{value:"portrait",children:h("imageToPdf.orientationPortrait")||"Portrait"}),(0,s.jsx)("option",{value:"landscape",children:h("imageToPdf.orientationLandscape")||"Landscape"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("imageToPdf.margin")||"Margin"}),(0,s.jsxs)("select",{value:D,onChange:e=>A(Number(e.target.value)),disabled:J,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"0",children:h("imageToPdf.marginNone")||"None"}),(0,s.jsx)("option",{value:"18",children:h("imageToPdf.marginSmall")||'Small (0.25")'}),(0,s.jsx)("option",{value:"36",children:h("imageToPdf.marginMedium")||'Medium (0.5")'}),(0,s.jsx)("option",{value:"72",children:h("imageToPdf.marginLarge")||'Large (1")'})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:O,onChange:e=>L(e.target.checked),disabled:J,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("imageToPdf.centerImage")||"Center images on page"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:I,onChange:e=>R(e.target.checked),disabled:J,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("imageToPdf.scaleToFit")||"Scale images to fit page"})]})]})]}),J&&(0,s.jsx)(n.r,{progress:v,status:x,message:w,onCancel:Y,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(d.$,{variant:"primary",size:"lg",onClick:K,disabled:!X,loading:J,children:J?t("status.processing")||"Processing...":h("imageToPdf.convertButton")||"Convert to PDF"}),y&&(0,s.jsx)(c.f,{file:y,filename:1===p.length?"".concat(p[0].file.name.replace(/\.(psd|psb)$/i,""),".pdf"):"psd_bundle.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("imageToPdf.successMessage")||"PDF created successfully! Click the download button to save your file."})})]})}},68088:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PPTXToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(92603),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(83820);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload a PowerPoint file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.qR)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||"Failed to convert PowerPoint to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".pptx",".ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("pptxToPdf.uploadLabel")||"Upload PowerPoint File",description:v("pptxToPdf.uploadDescription")||"Drag and drop a PowerPoint file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("pptxToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.pptx?$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("pptxToPdf.successMessage")||"Your PowerPoint file has been converted to PDF."})]})]})}let v=f},68344:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PDFToJSONTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(33164);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(!0),[D,A]=(0,a.useState)(!0),[O,L]=(0,a.useState)(!0),[I,R]=(0,a.useState)(!0),[z,T]=(0,a.useState)(!0),[M,_]=(0,a.useState)(""),G=(0,a.useRef)(!1),B=(0,a.useCallback)(e=>{e.length>0&&(g({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),C(null),P(null),k(null))},[]),U=(0,a.useCallback)(e=>{C(e)},[]),W=(0,a.useCallback)(()=>{g(null),P(null),k(null),C(null),f("idle"),b(0)},[]),V=(0,a.useCallback)(async()=>{if(!p)return void C("Please upload a PDF file.");G.current=!1,f("processing"),b(0),C(null),P(null),k(null);let e={includeText:F,includeMetadata:D,includePageInfo:O,includeOutline:I,prettyPrint:z,pages:(e=>{if(!e.trim())return[];let r=[];for(let t of e.split(",")){let e=t.trim();if(e.includes("-")){let[t,s]=e.split("-").map(e=>parseInt(e.trim(),10));if(!isNaN(t)&&!isNaN(s))for(let e=t;e<=s;e++)r.includes(e)||r.push(e)}else{let t=parseInt(e,10);isNaN(t)||r.includes(t)||r.push(t)}}return r.sort((e,r)=>e-r)})(M)};try{let t=await (0,u.oU)(p.file,e,(e,r)=>{G.current||(b(e),j(r||""))});if(G.current)return void f("idle");if(t.success&&t.result){let e=t.result;P(e);let r=await e.text();k(r.length>5e3?r.substring(0,5e3)+"\n...(truncated)":r),f("complete")}else{var r;C((null==(r=t.error)?void 0:r.message)||"Failed to convert PDF to JSON."),f("error")}}catch(e){G.current||(C(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,F,D,O,I,z,M]),$=(0,a.useCallback)(()=>{G.current=!0,f("idle"),b(0)},[]),H="processing"===x||"uploading"===x,Z=p&&!H;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:B,onError:U,disabled:H,label:h("pdfToJson.uploadLabel")||"Upload PDF",description:h("pdfToJson.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:S})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-[var(--radius-md)] bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-5 h-5 text-[hsl(var(--color-primary))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,s.jsx)("polyline",{points:"14 2 14 8 20 8"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:p.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=p.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:W,disabled:H,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pdfToJson.optionsTitle")||"Extraction Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:F,onChange:e=>E(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("pdfToJson.includeText")||"Include Text"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:D,onChange:e=>A(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("pdfToJson.includeMetadata")||"Include Metadata"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:O,onChange:e=>L(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("pdfToJson.includePageInfo")||"Include Page Info"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:I,onChange:e=>R(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("pdfToJson.includeOutline")||"Include Outline"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:z,onChange:e=>T(e.target.checked),disabled:H,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:h("pdfToJson.prettyPrint")||"Pretty Print"})]})]}),(0,s.jsxs)("div",{className:"max-w-xs",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("pdfToJson.pageRange")||"Page Range"}),(0,s.jsx)("input",{type:"text",value:M,onChange:e=>_(e.target.value),placeholder:h("pdfToJson.pageRangePlaceholder")||"e.g., 1-3, 5, 7",disabled:H,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:h("pdfToJson.pageRangeHint")||"Leave empty for all pages"})]})]})]}),H&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:$,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:V,disabled:!Z,loading:H,children:H?m("status.processing")||"Processing...":h("pdfToJson.convertButton")||"Extract to JSON"}),y&&(0,s.jsx)(n.f,{file:y,filename:"".concat(null==p?void 0:p.file.name.replace(/\.pdf$/i,""),".json"),variant:"secondary",size:"lg",showFileSize:!0})]}),N&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pdfToJson.previewTitle")||"JSON Preview"}),(0,s.jsx)("pre",{className:"p-4 bg-[hsl(var(--color-muted)/0.3)] rounded-[var(--radius-md)] overflow-auto max-h-96 text-xs font-mono text-[hsl(var(--color-foreground))]",children:N})]}),"complete"===x&&y&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("pdfToJson.successMessage")||"PDF extracted to JSON successfully! Click the download button to save your file."})})]})}let h=m},68544:(e,r,t)=>{"use strict";t.d(r,{DG:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");if(!a.fields||0===a.fields.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least one form field is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=t[0],o=await r.arrayBuffer(),i=await e.PDFDocument.load(o,{ignoreEncryption:!0}),n=i.getForm(),c=i.getPageCount();this.updateProgress(30,"Creating form fields...");let d=0;for(let e=0;e<a.fields.length;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=a.fields[e],t=r.pageNumber-1;if(t<0||t>=c)continue;let l=i.getPage(t);try{switch(r.type){case"text":{let e=n.createTextField(r.name);e.addToPage(l,{x:r.x,y:r.y,width:r.width,height:r.height}),r.defaultValue&&e.setText(String(r.defaultValue)),r.multiline&&e.enableMultiline(),d++;break}case"checkbox":{let e=n.createCheckBox(r.name);e.addToPage(l,{x:r.x,y:r.y,width:r.width,height:r.height}),r.defaultValue&&e.check(),d++;break}case"dropdown":{let e=n.createDropdown(r.name);e.addToPage(l,{x:r.x,y:r.y,width:r.width,height:r.height}),r.options&&(e.addOptions(r.options),r.defaultValue&&e.select(String(r.defaultValue))),d++;break}case"radio":{let e=n.createRadioGroup(r.name);r.options&&(r.options.forEach((t,s)=>{e.addOptionToPage(t,l,{x:r.x,y:r.y-s*(r.height+5),width:r.width,height:r.height})}),r.defaultValue&&e.select(String(r.defaultValue))),d++}}}catch(e){console.warn("Failed to create field ".concat(r.name,":"),e)}this.updateProgress(30+60*(e+1)/a.fields.length,"Creating field ".concat(e+1,"..."))}this.updateProgress(95,"Saving PDF...");let u=await i.save({useObjectStreams:!0}),m=new Blob([new Uint8Array(u)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(m,r.name.replace(".pdf","_form.pdf"),{fieldsCreated:d})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to create form.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},69124:(e,r,t)=>{"use strict";t.d(r,{TableOfContentsTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(81554);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools.tableOfContents"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)("Table of Contents"),[k,S]=(0,a.useState)(12),[C,F]=(0,a.useState)("helv"),[E]=(0,a.useState)([{label:"Times Roman",value:"times"},{label:"Times Bold",value:"tibo"},{label:"Times Italic",value:"tiit"},{label:"Times Bold Italic",value:"tibi"},{label:"Helvetica",value:"helv"},{label:"Helvetica Bold",value:"hebo"},{label:"Helvetica Oblique",value:"heit"},{label:"Helvetica Bold Oblique",value:"hebi"},{label:"Courier",value:"cour"},{label:"Courier Bold",value:"cobo"},{label:"Courier Oblique",value:"coit"},{label:"Courier Bold Oblique",value:"cobi"}]),[D,A]=(0,a.useState)(!0),O=(0,a.useRef)(!1),L=(0,a.useCallback)(e=>{e.length>0&&(p(e[0]),y(null),w(null))},[]),I=(0,a.useCallback)(async()=>{if(h){O.current=!1,x("processing"),v(0),y(null),w(null);try{let r=await (0,u.Fk)(h,{title:P,fontSize:k,fontFamily:C,addBookmark:D},e=>{O.current||v(e)});if(r.success&&r.result)w(r.result),x("complete");else{var e;y((null==(e=r.error)?void 0:e.message)||"Failed to generate table of contents."),x("error")}}catch(e){y(e instanceof Error?e.message:"An error occurred"),x("error")}}},[h,P,k,C,D]),R="processing"===g;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!h&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:L,onError:y,disabled:R,label:m("uploadLabel"),description:m("uploadDescription")}),j&&(0,s.jsx)("div",{className:"p-4 rounded bg-red-50 border border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:(0,s.jsx)("p",{className:"text-sm",children:j})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.name}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{p(null),w(null),y(null)},disabled:R,children:t("buttons.remove")})]})}),(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:m("options")}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("tocTitle")}),(0,s.jsx)("input",{type:"text",value:P,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",disabled:R,placeholder:"Table of Contents"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("fontSize")}),(0,s.jsxs)("select",{value:k,onChange:e=>S(parseInt(e.target.value,10)),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",disabled:R,children:[(0,s.jsx)("option",{value:8,children:"8pt"}),(0,s.jsx)("option",{value:10,children:"10pt"}),(0,s.jsx)("option",{value:12,children:"12pt"}),(0,s.jsx)("option",{value:14,children:"14pt"}),(0,s.jsx)("option",{value:16,children:"16pt"}),(0,s.jsx)("option",{value:18,children:"18pt"}),(0,s.jsx)("option",{value:24,children:"24pt"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:m("fontFamily")}),(0,s.jsx)("select",{value:C,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100",disabled:R,children:E.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"addBookmark",checked:D,onChange:e=>A(e.target.checked),className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600",disabled:R}),(0,s.jsx)("label",{htmlFor:"addBookmark",className:"text-sm text-gray-700 dark:text-gray-300",children:m("addBookmark")})]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:(0,s.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:m("bookmarkRequired")})})]})]}),R&&(0,s.jsx)(i.r,{progress:f,status:g,onCancel:()=>{O.current=!0,x("idle")},showPercentage:!0}),h&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:I,disabled:!h||R,loading:R,children:R?t("status.processing"):m("generate")}),b&&(0,s.jsx)(n.f,{file:b,filename:h.name.replace(".pdf","_with_toc.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&b&&(0,s.jsx)("div",{className:"p-4 rounded bg-green-50 border border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("success")})})]})}},71538:(e,r,t)=>{"use strict";t.d(r,{WG:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/epub-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one EPUB file.","Received ".concat(t.length," file(s)."));let a=t[0];if(!a.name.toLowerCase().endsWith(".epub"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload an EPUB file.","Received: ".concat(a.type||a.name));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting EPUB to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.epub$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert EPUB to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},72151:(e,r,t)=>{"use strict";t.d(r,{GU:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={updateModificationDate:!0};class i extends a.A{async process(e,r){var t,a;this.reset(),this.onProgress=r;let{files:i,options:n}=e;if(!n.metadata)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Metadata object is required.","Please provide metadata fields to update.");let c={metadata:n.metadata,updateModificationDate:null==(a=null!=(t=n.updateModificationDate)?t:o.updateModificationDate)||a};if(1!==i.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required for editing metadata.","Received ".concat(i.length," file(s)."));let d=i[0];try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(20,"Reading PDF file...");let r=await d.arrayBuffer();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(40,"Loading PDF document...");let t=await e.PDFDocument.load(r,{ignoreEncryption:!1,updateMetadata:!0});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(60,"Updating metadata...");let{metadata:a}=c;if(void 0!==a.title&&t.setTitle(a.title),void 0!==a.author&&t.setAuthor(a.author),void 0!==a.subject&&t.setSubject(a.subject),void 0!==a.keywords&&t.setKeywords(a.keywords),void 0!==a.creator&&t.setCreator(a.creator),void 0!==a.producer&&t.setProducer(a.producer),c.updateModificationDate&&t.setModificationDate(new Date),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Saving PDF...");let o=await t.save({useObjectStreams:!0}),i=new Blob([new Uint8Array(o)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let n=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_edited.pdf")}(d.name);return this.createSuccessOutput(i,n,{updatedFields:Object.keys(a).filter(e=>void 0!==a[e])})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"This PDF is encrypted.","Please decrypt the file before editing metadata.");return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to edit PDF metadata.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t,s){return new i().process({files:[e],options:{metadata:r,...t}},s)}},72398:(e,r,t)=>{"use strict";t.d(r,{Nu:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={pages:"all",scale:3,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(5,"Loading PDF libraries...");let[e,r]=await Promise.all([(0,l.Ck)(),(0,l.Iy)()]);this.updateProgress(10,"Loading PDF...");let a=t[0],i=await a.arrayBuffer(),n=await r.getDocument({data:i}).promise,c=n.numPages,d="all"===o.pages?Array.from({length:c},(e,r)=>r+1):o.pages,u=await e.PDFDocument.create();this.updateProgress(15,"Inverting colors...");for(let e=0;e<d.length;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=d[e],t=15+75*(e/d.length);this.updateProgress(t,"Processing page ".concat(r," of ").concat(c,"..."));let a=await n.getPage(r),l=a.getViewport({scale:1}),i=l.width,m=l.height,h=o.scale||3,p=a.getViewport({scale:h}),g=document.createElement("canvas");g.width=p.width,g.height=p.height;let x=g.getContext("2d");await a.render({canvasContext:x,viewport:p}).promise;let f=x.getImageData(0,0,g.width,g.height),v=f.data;for(let e=0;e<v.length;e+=4)v[e]=255-v[e],v[e+1]=255-v[e+1],v[e+2]=255-v[e+2];x.putImageData(f,0,0);let b=await this.canvasToPngBytes(g),w=await u.embedPng(b);u.addPage([i,m]).drawImage(w,{x:0,y:0,width:i,height:m})}this.updateProgress(95,"Saving PDF...");let m=await u.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(h,a.name.replace(".pdf","_inverted.pdf"),{pageCount:d.length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to invert colors.",e instanceof Error?e.message:"Unknown error")}}canvasToPngBytes(e){return new Promise((r,t)=>{e.toBlob(e=>{if(!e)return void t(Error("Failed to convert canvas to blob"));let s=new FileReader;s.onload=()=>r(new Uint8Array(s.result)),s.onerror=()=>t(Error("Failed to read blob")),s.readAsArrayBuffer(e)},"image/png")})}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},73391:(e,r,t)=>{"use strict";t.d(r,{Cr:()=>d});var s=t(78752),a=t(18365),l=t(32096);let o={format:"png",quality:.92,scale:2,pages:[],backgroundColor:"#ffffff"},i={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",webp:"image/webp",bmp:"image/bmp",tiff:"image/tiff"},n={png:".png",jpg:".jpg",jpeg:".jpg",webp:".webp",bmp:".bmp",tiff:".tiff"};class c extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let c=t[0];if(!c.type.includes("pdf")&&!c.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(c.type||"unknown"));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Iy)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading PDF document...");let r=await c.arrayBuffer(),t=await e.getDocument({data:r}).promise,a=t.numPages,o=i.pages.length>0?i.pages.filter(e=>e>=1&&e<=a):Array.from({length:a},(e,r)=>r+1);if(0===o.length)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,"No valid pages to convert.","PDF has ".concat(a," pages."));this.updateProgress(15,"Converting ".concat(o.length," page(s)..."));let d=[],u=80/o.length;for(let e=0;e<o.length;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=o[e],l=15+e*u;this.updateProgress(l,"Converting page ".concat(r," of ").concat(a,"..."));try{let e=await this.renderPageToImage(t,r,i);d.push(e)}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert page ".concat(r,"."),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(95,"Finalizing...");let m=c.name.replace(/\.pdf$/i,""),h=n[i.format];if(1===d.length)return this.updateProgress(100,"Complete!"),this.createSuccessOutput(d[0],"".concat(m).concat(h),{pageCount:1,format:i.format});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(d,"".concat(m,"_pages").concat(h),{pageCount:d.length,format:i.format})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert PDF to images.",e instanceof Error?e.message:"Unknown error")}}async renderPageToImage(e,r,t){let s=await e.getPage(r),a=s.getViewport({scale:t.scale}),l=document.createElement("canvas");l.width=a.width,l.height=a.height;let o=l.getContext("2d");if(!o)throw Error("Failed to get canvas context");o.fillStyle=t.backgroundColor,o.fillRect(0,0,l.width,l.height),await s.render({canvasContext:o,viewport:a}).promise;let n=i[t.format],c=["jpg","jpeg","webp"].includes(t.format)?t.quality:void 0;return new Promise((e,r)=>{l.toBlob(t=>{t?e(t):r(Error("Failed to create image blob"))},n,c)})}}async function d(e,r,t){return new c().process({files:[e],options:r||{}},t)}},73468:(e,r,t)=>{"use strict";t.d(r,{ci:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/fb2-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(0===t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide at least one FB2 file.","No files received.");for(let e of t)if(!e.name.toLowerCase().endsWith(".fb2")&&!e.name.toLowerCase().endsWith(".fb2.zip"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload FB2 files (.fb2, .fb2.zip).","Received: ".concat(e.type||e.name));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");if(1===t.length)return await this.processSingleFile(t[0]);return await this.processMultipleFiles(t)}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert FB2 to PDF.",e instanceof Error?e.message:"Unknown error")}}async processSingleFile(e){this.updateProgress(30,"Converting FB2 to PDF...");let r=await this.convertFile(e);if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let t=e.name.replace(/\.fb2(\.zip)?$/i,"");return this.createSuccessOutput(r,"".concat(t,".pdf"),{format:"pdf"})}async processMultipleFiles(e){let r=[],t=e.length;for(let a=0;a<t;a++){let l=e[a],o=30+60*a/t;this.updateProgress(o,"Converting ".concat(a+1,"/").concat(t,": ").concat(l.name,"..."));let i=await this.convertFile(l);if(r.push(i),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.")}return this.updateProgress(100,"All conversions complete!"),this.createSuccessOutput(r,"fb2-converted.pdf",{format:"pdf"})}async convertFile(e){return new Promise((r,t)=>{if(!this.worker)return void t(Error("Worker not initialized"));let s="convert-"+Date.now()+"-"+Math.random(),a=e=>{let{type:a,id:l,result:i,error:n}=e.data;"status"!==a&&l===s&&("convert-complete"===a?(o(),r(i)):"error"===a&&(o(),t(Error(n||"Conversion failed"))))},l=e=>{o(),t(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",a),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",a),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:s,data:{file:e}})})}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){let s=new l,a=Array.isArray(e)?e:[e];return s.process({files:a,options:r||{}},t)}},74476:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CompressPDFTool:()=>v,default:()=>b});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(80571),m=t(35299),h=t(5917),p=t(6132),g=t(71360),x=t(65229),f=t(73366);function v(e){let{className:r=""}=e,v=(0,l.c)("common"),b=(0,l.c)("tools"),[w,j]=(0,a.useState)("medium"),[y,P]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!0),[S,C]=(0,a.useState)(null),{files:F,isProcessing:E,overallProgress:D,completedCount:A,errorCount:O,addFiles:L,removeFile:I,clearFiles:R,startProcessing:z,cancelProcessing:T,downloadAsZip:M}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxConcurrent:r=2,onFileComplete:s,onAllComplete:l,onError:o}=e,[i,n]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(!1),m=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"batch_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending",progress:0}));n(e=>[...e,...r])},[]),h=(0,a.useCallback)(e=>{n(r=>r.filter(r=>r.id!==e))},[]),p=(0,a.useCallback)(()=>{n([])},[]),g=(0,a.useCallback)((e,r)=>{n(t=>t.map(t=>t.id===e?{...t,...r}:t))},[]),x=(0,a.useCallback)(async e=>{if(c)return;d(!0),u.current=!1;let t=[...i.filter(e=>"pending"===e.status)],a=[],m=async r=>{if(!u.current){g(r.id,{status:"processing",progress:0});try{let t=await e(r.file,e=>{g(r.id,{progress:e})}),a={...r,status:"completed",progress:100,result:t};g(r.id,{status:"completed",progress:100,result:t}),null==s||s(a)}catch(t){let e=t instanceof Error?t:Error("Processing failed");g(r.id,{status:"error",error:e.message}),null==o||o({...r,status:"error",error:e.message},e)}}},h=async()=>{for(;t.length>0&&!u.current;){for(;a.length>=r;)await Promise.race(a);let e=t.shift();if(!e)break;let s=m(e).finally(()=>{let e=a.indexOf(s);e>-1&&a.splice(e,1)});a.push(s)}await Promise.all(a)};await h(),d(!1),n(e=>(null==l||l(e),e))},[i,c,r,g,s,l,o]),f=(0,a.useCallback)(()=>{u.current=!0,d(!1)},[]),v=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"processed";i.filter(e=>"completed"===e.status&&e.result).forEach((r,t)=>{if(!r.result)return;let s=URL.createObjectURL(r.result),a=document.createElement("a");a.href=s;let l=r.file.name.replace(/\.[^/.]+$/,"");a.download="".concat(e,"_").concat(l,"_").concat(t+1,".pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)})},[i]),b=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"batch_processed.zip",r=i.filter(e=>"completed"===e.status&&e.result);if(0===r.length)return;let s=new(await Promise.resolve().then(t.t.bind(t,7496,23))).default;r.forEach((e,r)=>{if(!e.result)return;let t=e.file.name.replace(/\.[^/.]+$/,""),a="".concat(t,"_processed_").concat(r+1,".pdf");s.file(a,e.result)});let a=await s.generateAsync({type:"blob"}),l=URL.createObjectURL(a),o=document.createElement("a");o.href=l,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(l)},[i]),w=i.filter(e=>"completed"===e.status).length,j=i.filter(e=>"error"===e.status).length,y=i.reduce((e,r)=>e+r.progress,0),P=i.length>0?Math.round(y/i.length):0;return{files:i,isProcessing:c,overallProgress:P,completedCount:w,errorCount:j,addFiles:m,removeFile:h,clearFiles:p,startProcessing:x,cancelProcessing:f,downloadAll:v,downloadAsZip:b}}({maxConcurrent:2}),_=(0,a.useCallback)(e=>{e.length>0&&(L(e),C(null))},[L]),G=(0,a.useCallback)(e=>{C(e)},[]),B=(0,a.useCallback)(async(e,r)=>{var t;let s=await (0,u.dM)(e,{quality:w,removeMetadata:y,optimizeImages:N,removeUnusedObjects:!0},e=>r(e));if(s.success&&s.result)return s.result;throw Error((null==(t=s.error)?void 0:t.message)||"Failed to compress PDF file.")},[w,y,N]),U=(0,a.useCallback)(async()=>{if(0===F.length)return void C("Please select PDF files to compress.");C(null),await z(B)},[F.length,z,B]),W=(0,a.useCallback)(async()=>{await M("compressed-pdfs.zip")},[M]),V=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),$=F.length>0,H=$&&!E,Z=$&&A===F.length;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:10,onFilesSelected:_,onError:G,disabled:E,label:b("compressPdf.uploadLabel")||"Upload PDF Files",description:b("compressPdf.batchUploadDescription")||"Drag and drop PDF files here. You can compress up to 10 files at once."}),S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:S})}),$&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[b("compressPdf.filesTitle")||"Files to Compress"," (",F.length,")"]}),(0,s.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:R,disabled:E,children:[(0,s.jsx)(g.A,{className:"w-4 h-4 mr-1"}),v("buttons.clearAll")||"Clear All"]})]}),(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:F.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[hsl(var(--color-muted)/0.3)] rounded-[var(--radius-md)]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(e=>{switch(e){case"pending":return(0,s.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-300"});case"processing":return(0,s.jsx)(m.A,{className:"w-4 h-4 animate-spin text-blue-500"});case"completed":return(0,s.jsx)(h.A,{className:"w-4 h-4 text-green-500"});case"error":return(0,s.jsx)(p.A,{className:"w-4 h-4 text-red-500"})}})(e.status),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:V(e.file.size)}),"processing"===e.status&&(0,s.jsxs)("span",{className:"text-xs text-blue-500",children:[e.progress,"%"]}),"completed"===e.status&&e.result&&(0,s.jsxs)("span",{className:"text-xs text-green-500",children:["→ ",V(e.result.size)]}),"error"===e.status&&(0,s.jsx)("span",{className:"text-xs text-red-500",children:e.error})]})]})]}),"completed"===e.status&&e.result&&(0,s.jsx)(n.f,{file:e.result,filename:"".concat(e.file.name.replace(".pdf",""),"_compressed.pdf"),variant:"ghost",size:"sm"}),"pending"===e.status&&!E&&(0,s.jsx)("button",{onClick:()=>I(e.id),className:"p-1 text-[hsl(var(--color-muted-foreground))] hover:text-red-500 transition-colors","aria-label":"Remove file",children:(0,s.jsx)(x.A,{className:"w-4 h-4"})})]},e.id))})]}),$&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:b("compressPdf.optionsTitle")||"Compression Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:b("compressPdf.qualityLabel")||"Compression Quality"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["low","medium","high","maximum"].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>j(e),disabled:E,className:"\n                      px-4 py-2 rounded-[var(--radius-md)] border text-sm font-medium\n                      transition-colors duration-200\n                      ".concat(w===e?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.5)]","\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                    "),children:["low"===e&&(b("compressPdf.qualityLow")||"Low"),"medium"===e&&(b("compressPdf.qualityMedium")||"Medium"),"high"===e&&(b("compressPdf.qualityHigh")||"High"),"maximum"===e&&(b("compressPdf.qualityMaximum")||"Maximum")]},e))}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:["low"===w&&(b("compressPdf.qualityLowDesc")||"Smallest file size, lower quality"),"medium"===w&&(b("compressPdf.qualityMediumDesc")||"Balanced compression and quality"),"high"===w&&(b("compressPdf.qualityHighDesc")||"Better quality, moderate compression"),"maximum"===w&&(b("compressPdf.qualityMaximumDesc")||"Best quality, minimal compression")]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:N,onChange:e=>k(e.target.checked),disabled:E,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:b("compressPdf.optimizeImages")||"Optimize embedded images"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:y,onChange:e=>P(e.target.checked),disabled:E,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:b("compressPdf.removeMetadata")||"Remove metadata (title, author, etc.)"})]})]})]})]}),E&&(0,s.jsx)(i.r,{progress:D,status:"processing",message:"Compressing ".concat(A+1,"/").concat(F.length,"..."),onCancel:T,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:U,disabled:!H,loading:E,children:E?v("status.processing")||"Processing...":b("compressPdf.compressButton")||"Compress PDFs"}),A>0&&(0,s.jsxs)(c.$,{variant:"secondary",size:"lg",onClick:W,disabled:E,children:[(0,s.jsx)(f.A,{className:"w-4 h-4 mr-2"}),b("compressPdf.downloadAllZip")||"Download All as ZIP"]})]}),Z&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:b("compressPdf.batchSuccessMessage")||"Successfully compressed ".concat(A," PDF file(s)!")}),O>0&&(0,s.jsxs)("p",{className:"text-sm text-red-600 mt-1",children:[O," file(s) failed to compress."]})]})]})}let b=v},74632:(e,r,t)=>{"use strict";t.r(r),t.d(r,{EPUBToPDFTool:()=>f,default:()=>v});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(28446),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(71538);function f(e){var r;let{className:t=""}=e,f=(0,l.c)("common"),v=(0,l.c)("tools"),[b,w]=(0,a.useState)(null),[j,y]=(0,a.useState)("idle"),[P,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{e.length>0&&(w({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),D(null),F(null),y("idle"),N(0))},[]),L=(0,a.useCallback)(e=>{D(e)},[]),I=(0,a.useCallback)(()=>{w(null),F(null),D(null),y("idle"),N(0)},[]),R=(0,a.useCallback)(async()=>{if(!b)return void D(f("errors.uploadFile")||"Please upload an EPUB file.");A.current=!1,y("processing"),N(0),D(null),F(null);try{let r=await (0,x.WG)(b.file,{},(e,r)=>{A.current||(N(e),S(r||""))});if(A.current)return void y("idle");if(r.success&&r.result)F(r.result),y("complete");else{var e;D((null==(e=r.error)?void 0:e.message)||"Failed to convert EPUB to PDF."),y("error")}}catch(e){A.current||(D(e instanceof Error?e.message:"An unexpected error occurred."),y("error"))}},[b,f]),z=(0,a.useCallback)(()=>{A.current=!0,y("idle"),N(0)},[]),T="processing"===j||"uploading"===j,M=b&&!T;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:[".epub","application/epub+zip"],multiple:!1,maxFiles:1,onFilesSelected:O,onError:L,disabled:T,label:v("epubToPdf.uploadLabel")||"Upload EPUB File",description:v("epubToPdf.uploadDescription")||"Drag and drop an EPUB file here, or click to browse."}),E&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:E})]}),b&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:b.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=b.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsx)(p.$,{variant:"ghost",size:"sm",onClick:I,disabled:T,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:(0,s.jsx)(n.A,{className:"w-5 h-5"})})]})}),T&&(0,s.jsx)(m.r,{progress:P,status:j,message:k,onCancel:z,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:R,disabled:!M,loading:T,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!T&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),T?f("status.processing")||"Converting...":v("epubToPdf.convertButton")||"Convert to PDF"]}),C&&!Array.isArray(C)&&(0,s.jsx)(h.f,{file:C,filename:"".concat(null==b?void 0:b.file.name.replace(/\.epub$/i,""),".pdf"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===j&&C&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:v("epubToPdf.successMessage")||"Your EPUB file has been converted to PDF."})]})]})}let v=f},75192:(e,r,t)=>{"use strict";t.d(r,{PDFMultiTool:()=>m});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(32096);function m(e){var r;let{className:m=""}=e,h=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)("idle"),[j,y]=(0,a.useState)(0),[P,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)([]),[A,O]=(0,a.useState)(!1),[L,I]=(0,a.useState)("organize"),[R,z]=(0,a.useState)(null),[T,M]=(0,a.useState)(null),[_,G]=(0,a.useState)(0),[B,U]=(0,a.useState)(1),[W,V]=(0,a.useState)(1),$=(0,a.useRef)(!1),H=(0,a.useCallback)(async e=>{O(!0),D([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,u.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;v(a.numPages);let l=[],o=Math.min(a.numPages,100);for(let e=1;e<=o;e++){let r=await a.getPage(e),t=r.getViewport({scale:.15}),s=document.createElement("canvas"),o=s.getContext("2d");o&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:o,viewport:t}).promise,l.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.6),rotation:0,selected:!1,markedForDelete:!1}))}for(let e=o+1;e<=a.numPages;e++)l.push({pageNumber:e,rotation:0,selected:!1,markedForDelete:!1});D(l)}catch(e){console.error("Failed to load PDF previews:",e),F("Failed to load PDF preview. The file may be corrupted or encrypted.")}finally{O(!1)}},[]),Z=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];x(r),F(null),S(null),H(r)}},[H]),q=(0,a.useCallback)(e=>{F(e)},[]),K=(0,a.useCallback)(()=>{x(null),v(0),D([]),S(null),F(null),w("idle"),y(0)},[]),Y=(0,a.useCallback)(e=>{z(e)},[]),J=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==R&&R!==r&&M(r)},[R]),X=(0,a.useCallback)(()=>{null!==R&&null!==T&&R!==T&&D(e=>{let r=[...e],[t]=r.splice(R,1);return r.splice(T,0,t),r}),z(null),M(null)},[R,T]),Q=(0,a.useCallback)((e,r)=>{r<0||r>=E.length||D(t=>{let s=[...t],[a]=s.splice(e,1);return s.splice(r,0,a),s})},[E.length]),ee=(0,a.useCallback)(e=>{D(r=>r.map((r,t)=>t===e?{...r,selected:!r.selected}:r))},[]),er=(0,a.useCallback)(()=>{D(e=>e.map(e=>({...e,selected:!0})))},[]),et=(0,a.useCallback)(()=>{D(e=>e.map(e=>({...e,selected:!1})))},[]),es=(0,a.useCallback)(e=>{D(r=>r.map((r,t)=>t===e?{...r,markedForDelete:!r.markedForDelete}:r))},[]),ea=(0,a.useCallback)(()=>{D(e=>e.map(e=>e.selected?{...e,markedForDelete:!0,selected:!1}:e))},[]),el=(0,a.useCallback)((e,r)=>{D(t=>t.map((t,s)=>s===e?{...t,rotation:(t.rotation+r)%360}:t))},[]),eo=(0,a.useCallback)(e=>{D(r=>r.map(r=>r.selected?{...r,rotation:(r.rotation+e)%360}:r))},[]),ei=(0,a.useCallback)(e=>{G(r=>(r+e)%360),D(r=>r.map(r=>({...r,rotation:(r.rotation+e)%360})))},[]),en=(0,a.useCallback)(e=>{D(r=>{let t=[...r],s={...r[e]};return t.splice(e+1,0,s),t})},[]),ec=(0,a.useCallback)(()=>{D(e=>{let r=[];return e.forEach(e=>{r.push(e),e.selected&&r.push({...e,selected:!1})}),r})},[]),ed=(0,a.useCallback)(()=>{let e=Math.max(0,Math.min(B-1,E.length)),r=[];for(let e=0;e<W;e++)r.push({pageNumber:-1,rotation:0,selected:!1,markedForDelete:!1});D(t=>{let s=[...t];return s.splice(e,0,...r),s})},[B,W,E.length]),eu=(0,a.useCallback)(()=>{g&&H(g),S(null),G(0)},[g,H]),em=(0,a.useCallback)(async()=>{if(!g||0===E.length)return void F("Please upload a PDF file first.");let e=E.filter(e=>!e.markedForDelete);if(0===e.length)return void F("Cannot create a PDF with no pages.");$.current=!1,w("processing"),y(0),F(null),S(null);try{y(5),N("Loading PDF library...");let r=await Promise.resolve().then(t.bind(t,57814));if($.current)return void w("idle");y(10),N("Loading source PDF...");let s=await g.arrayBuffer(),a=await r.PDFDocument.load(s,{ignoreEncryption:!1});y(20),N("Creating new document...");let l=await r.PDFDocument.create(),o=70/e.length;for(let t=0;t<e.length;t++){if($.current)return void w("idle");let s=e[t];if(y(20+t*o),N("Processing page ".concat(t+1," of ").concat(e.length,"...")),-1===s.pageNumber){let{width:e,height:r}=a.getPage(0).getSize();l.addPage([e,r])}else{let e=s.pageNumber-1,[t]=await l.copyPages(a,[e]);0!==s.rotation&&t.setRotation(r.degrees(s.rotation)),l.addPage(t)}}y(90),N("Saving PDF...");let i=await l.save(),n=new Blob([new Uint8Array(i)],{type:"application/pdf"});y(100),N("Complete!"),S(n),w("complete")}catch(e){$.current||(F(e instanceof Error?e.message:"An unexpected error occurred."),w("error"))}},[g,E]),eh=(0,a.useCallback)(()=>{$.current=!0,w("idle"),y(0)},[]),ep="processing"===b||"uploading"===b,eg=g&&E.length>0&&!ep,ex=E.filter(e=>e.selected).length,ef=E.filter(e=>e.markedForDelete).length,ev=[{id:"organize",label:p("pdfMultiTool.organize")||"Organize",content:null},{id:"delete",label:p("pdfMultiTool.delete")||"Delete",content:null},{id:"rotate",label:p("pdfMultiTool.rotate")||"Rotate",content:null},{id:"duplicate",label:p("pdfMultiTool.duplicate")||"Duplicate",content:null},{id:"add-blank",label:p("pdfMultiTool.addBlank")||"Add Blank",content:null}];return(0,s.jsxs)("div",{className:"space-y-6 ".concat(m).trim(),children:[!g&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:Z,onError:q,disabled:ep,label:p("pdfMultiTool.uploadLabel")||"Upload PDF File",description:p("pdfMultiTool.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),C&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:C})}),g&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:g.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=g.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",f," ",1===f?"page":"pages",ef>0&&" • ".concat(ef," marked for deletion")]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:K,disabled:ep,children:h("buttons.remove")||"Remove"})]})}),g&&E.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("div",{className:"mb-4 border-b border-[hsl(var(--color-border))] pb-4",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:ev.map(e=>(0,s.jsx)("button",{onClick:()=>I(e.id),className:"px-4 py-2 rounded-[var(--radius-md)] text-sm font-medium transition-colors\n                    ".concat(L===e.id?"bg-[hsl(var(--color-primary))] text-white":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]"),disabled:ep,children:e.label},e.id))})}),(0,s.jsxs)("div",{className:"mb-4",children:["organize"===L&&(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("pdfMultiTool.organizeHint")||"Drag and drop pages to reorder them."}),"delete"===L&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("pdfMultiTool.deleteHint")||"Click pages to mark them for deletion."}),ex>0&&(0,s.jsxs)(c.$,{variant:"outline",size:"sm",onClick:ea,children:["Delete Selected (",ex,")"]})]}),"rotate"===L&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mr-2",children:p("pdfMultiTool.rotateHint")||"Click rotation buttons on pages, or rotate all:"}),(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>ei(90),children:"Rotate All 90\xb0"}),(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>ei(180),children:"Rotate All 180\xb0"}),ex>0&&(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>eo(90),children:"Rotate Selected 90\xb0"})]}),"duplicate"===L&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("pdfMultiTool.duplicateHint")||"Click the duplicate button on pages to copy them."}),ex>0&&(0,s.jsxs)(c.$,{variant:"outline",size:"sm",onClick:ec,children:["Duplicate Selected (",ex,")"]})]}),"add-blank"===L&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,s.jsxs)("label",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:["Insert",(0,s.jsx)("input",{type:"number",min:"1",max:"10",value:W,onChange:e=>V(Math.max(1,Math.min(10,parseInt(e.target.value)||1))),className:"mx-2 w-16 px-2 py-1 border rounded text-center",disabled:ep}),"blank page(s) at position",(0,s.jsx)("input",{type:"number",min:"1",max:E.length+1,value:B,onChange:e=>U(Math.max(1,parseInt(e.target.value)||1)),className:"mx-2 w-16 px-2 py-1 border rounded text-center",disabled:ep})]}),(0,s.jsx)(c.$,{variant:"outline",size:"sm",onClick:ed,disabled:ep,children:"Add Blank Page(s)"})]})]}),("delete"===L||"rotate"===L||"duplicate"===L)&&(0,s.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:er,disabled:ep,children:"Select All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:et,disabled:ep||0===ex,children:"Deselect All"})]}),A?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:h("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-3 max-h-[500px] overflow-y-auto p-1",children:E.map((e,r)=>(0,s.jsxs)("div",{draggable:"organize"===L&&!ep,onDragStart:()=>"organize"===L&&Y(r),onDragOver:e=>"organize"===L&&J(e,r),onDragEnd:X,onClick:()=>{"delete"===L&&es(r),["rotate","duplicate","delete"].includes(L)&&ee(r)},className:"\n                    relative aspect-[3/4] rounded-[var(--radius-md)] border-2 overflow-hidden transition-all\n                    ".concat(R===r?"opacity-50 border-dashed scale-95":"","\n                    ").concat(T===r?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.3)]":"border-[hsl(var(--color-border))]","\n                    ").concat(e.selected?"ring-2 ring-blue-500 border-blue-500":"","\n                    ").concat(e.markedForDelete?"opacity-40 border-red-500":"","\n                    ").concat("organize"===L&&!ep?"cursor-grab hover:border-[hsl(var(--color-primary)/0.5)]":"","\n                    ").concat(["delete","rotate","duplicate"].includes(L)?"cursor-pointer":"","\n                  "),children:[e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"w-full h-full object-cover",style:{transform:"rotate(".concat(e.rotation,"deg)")},draggable:!1}):(0,s.jsx)("div",{className:"w-full h-full bg-[hsl(var(--color-muted))] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg font-medium text-[hsl(var(--color-muted-foreground))]",children:-1===e.pageNumber?"Blank":e.pageNumber})}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs py-1 text-center font-medium",children:[-1===e.pageNumber?"Blank":e.pageNumber,0!==e.rotation&&" (".concat(e.rotation,"\xb0)")]}),(0,s.jsx)("div",{className:"absolute top-1 left-1 w-5 h-5 bg-[hsl(var(--color-primary))] rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:r+1}),e.markedForDelete&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500/30",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-red-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})}),"organize"===L&&(0,s.jsxs)("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),Q(r,r-1)},disabled:0===r||ep,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white disabled:opacity-30","aria-label":"Move up",children:(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,s.jsx)("path",{d:"M18 15l-6-6-6 6"})})}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),Q(r,r+1)},disabled:r===E.length-1||ep,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white disabled:opacity-30","aria-label":"Move down",children:(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,s.jsx)("path",{d:"M6 9l6 6 6-6"})})})]}),"rotate"===L&&(0,s.jsxs)("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),el(r,-90)},disabled:ep,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white","aria-label":"Rotate left",children:(0,s.jsxs)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,s.jsx)("path",{d:"M3 3v5h5"})]})}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),el(r,90)},disabled:ep,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white","aria-label":"Rotate right",children:(0,s.jsxs)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("path",{d:"M21 12a9 9 0 1 1-9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),(0,s.jsx)("path",{d:"M21 3v5h-5"})]})})]}),"duplicate"===L&&(0,s.jsx)("div",{className:"absolute top-1 right-1",children:(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),en(r)},disabled:ep,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white","aria-label":"Duplicate page",children:(0,s.jsxs)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,s.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})})]},"".concat(e.pageNumber,"-").concat(r)))}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-[hsl(var(--color-border))]",children:(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:eu,disabled:ep,children:p("pdfMultiTool.reset")||"Reset to Original"})})]}),ep&&(0,s.jsx)(i.r,{progress:j,status:b,message:P,onCancel:eh,showPercentage:!0}),g&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:em,disabled:!eg,loading:ep,children:ep?h("status.processing")||"Processing...":p("pdfMultiTool.processButton")||"Apply Changes"}),k&&(0,s.jsx)(n.f,{file:k,filename:g.name.replace(".pdf","_edited.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===b&&k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p("pdfMultiTool.successMessage")||"PDF processed successfully! Click the download button to save your file."})})]})}},76480:(e,r,t)=>{"use strict";t.d(r,{WS:()=>m});var s=t(78752),a=t(18365);let l={password:""},o=null,i=null,n=[];async function c(){return o||i||(i=new Promise((e,r)=>{if(window.Module&&"function"==typeof window.Module)return void d(e,r);let t=document.createElement("script");t.src="/qpdf.js",t.async=!0,t.onload=()=>{d(e,r)},t.onerror=()=>{i=null,r(Error("Failed to load QPDF script"))},document.head.appendChild(t)}))}function d(e,r){try{let t=window.Module;if(!t||"function"!=typeof t)return void r(Error("QPDF module not found after script load"));t({locateFile:e=>e.endsWith(".wasm")?"/qpdf.wasm":e}).then(r=>{o=r,e(r)}).catch(e=>{i=null,r(e)})}catch(e){i=null,r(e)}}class u extends a.A{async process(e,r){let t;this.reset(),this.onProgress=r;let{files:a,options:o}=e,i={...l,...o};if(1!==a.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to decrypt.","Received ".concat(a.length," file(s)."));if(!i.password)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide the PDF password.","A password is required to decrypt the PDF.");let d=a[0],u="/input.pdf",m="/output.pdf";try{if(this.updateProgress(5,"Initializing decryption engine..."),t=await c(),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(15,"Reading encrypted PDF...");let e=await d.arrayBuffer(),r=e.byteLength,a=new Uint8Array(e);if(t.FS.writeFile(u,a),this.updateProgress(30,"Preparing decryption..."),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(50,"Decrypting PDF...");let l=[u,"--password="+i.password,"--decrypt",m];n=[];let o=console.error;console.error=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];let s=r.map(e=>String(e)).join(" ");n.push(s),o.apply(console,r)};let h=null;try{t.callMain(l)}catch(e){h=e}finally{console.error=o}let p=!1,g=null;try{p=!!((g=t.FS.readFile(m,{encoding:"binary"}))&&g.length>0)}catch(e){p=!1}if(!p){let e=n.join(" ").toLowerCase(),r=e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password");if(r||h){let e=h?String(h.message||h||"").toLowerCase():"";if(r||e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password")||e.includes("password"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"INVALID_PASSWORD","The password you entered is incorrect. Please check and try again.");throw h||Error("Decryption failed")}return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"INVALID_PASSWORD","The password you entered is incorrect. Please check and try again.")}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(80,"Preparing decrypted file...");let x=new Blob([new Uint8Array(g)],{type:"application/pdf"}),f=g.length;try{t.FS.unlink(u)}catch(e){console.warn("Failed to unlink input file:",e)}try{t.FS.unlink(m)}catch(e){console.warn("Failed to unlink output file:",e)}this.updateProgress(100,"Complete!");let v=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_decrypted.pdf")}(d.name);return this.createSuccessOutput(x,v,{originalSize:r,newSize:f,decrypted:!0})}catch(r){if(null==t?void 0:t.FS){try{t.FS.unlink(u)}catch(e){}try{t.FS.unlink(m)}catch(e){}}let e=String(r instanceof Error?r.message:r||"").toLowerCase();if(e.includes("invalid password")||e.includes("incorrect password")||e.includes("wrong password")||e.includes("password")&&e.includes("invalid"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"INVALID_PASSWORD","The password you entered is incorrect. Please check and try again.");return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to decrypt PDF file.",r instanceof Error?r.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function m(e,r,t){return new u().process({files:[e],options:r||{}},t)}},77960:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ExtractPagesTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(6268),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)([]),[O,L]=(0,a.useState)(new Set),[I,R]=(0,a.useState)(""),[z,T]=(0,a.useState)(!1),M=(0,a.useRef)(!1),_=(0,a.useCallback)(async e=>{T(!0),A([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages);let l=[],o=Math.min(a.numPages,50);for(let e=1;e<=o;e++){let r=await a.getPage(e),t=r.getViewport({scale:.15}),s=document.createElement("canvas"),o=s.getContext("2d");o&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:o,viewport:t}).promise,l.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.6)}))}for(let e=o+1;e<=a.numPages;e++)l.push({pageNumber:e});A(l)}catch(e){console.error("Failed to load PDF previews:",e),E("Failed to load PDF preview. The file may be corrupted or encrypted.")}finally{T(!1)}},[]),G=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),L(new Set),R(""),_(r)}},[_]),B=(0,a.useCallback)(e=>{E(e)},[]),U=(0,a.useCallback)(()=>{f(null),b(0),A([]),L(new Set),R(""),C(null),E(null),j("idle"),P(0)},[]),W=(0,a.useCallback)(e=>{L(r=>{let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t}),C(null)},[]),V=(0,a.useCallback)(()=>{L(new Set(D.map(e=>e.pageNumber))),C(null)},[D]),$=(0,a.useCallback)(()=>{L(new Set),C(null)},[]),H=(0,a.useCallback)(()=>{I.trim()&&v>0&&(L(new Set((0,u.Dc)(I,v))),C(null))},[I,v]),Z=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");if(0===O.size)return void E("Please select at least one page to extract.");M.current=!1,j("processing"),P(0),E(null),C(null);let e=Array.from(O).sort((e,r)=>e-r);try{let t=await (0,u.ut)(x,e,(e,r)=>{M.current||(P(e),k(r||""))});if(M.current)return void j("idle");if(t.success&&t.result)C(t.result),j("complete");else{var r;E((null==(r=t.error)?void 0:r.message)||"Failed to extract pages."),j("error")}}catch(e){M.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,O]),q=(0,a.useCallback)(()=>{M.current=!0,j("idle"),P(0)},[]),K="processing"===w||"uploading"===w,Y=x&&v>0&&O.size>0&&!K;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:G,onError:B,disabled:K,label:g("extractPages.uploadLabel")||"Upload PDF File",description:g("extractPages.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:U,disabled:K,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[g("extractPages.selectTitle")||"Select Pages to Extract",O.size>0&&" (".concat(O.size," selected)")]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:V,disabled:K,children:p("buttons.selectAll")||"Select All"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:$,disabled:K,children:p("buttons.deselectAll")||"Deselect All"})]})]}),(0,s.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:I,onChange:e=>R(e.target.value),placeholder:"e.g., 1-5, 8, 10-15",disabled:K,className:"flex-1 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] placeholder:text-[hsl(var(--color-muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsx)(c.$,{variant:"secondary",size:"md",onClick:H,disabled:K||!I.trim(),children:p("buttons.apply")||"Apply"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:g("extractPages.selectHint")||"Click pages to select them, or enter page numbers/ranges above."}),z?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-3 max-h-[400px] overflow-y-auto p-1",children:D.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>W(e.pageNumber),disabled:K,className:"relative aspect-[3/4] rounded-[var(--radius-md)] border-2 overflow-hidden transition-all ".concat(O.has(e.pageNumber)?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.3)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]"),"aria-label":"Page ".concat(e.pageNumber).concat(O.has(e.pageNumber)?" (selected)":""),children:[e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full bg-[hsl(var(--color-muted))] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:e.pageNumber})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs py-0.5 text-center",children:e.pageNumber}),O.has(e.pageNumber)&&(0,s.jsx)("div",{className:"absolute top-1 right-1 w-5 h-5 bg-[hsl(var(--color-primary))] rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.pageNumber))})]}),K&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:q,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:Z,disabled:!Y,loading:K,children:K?p("status.processing")||"Processing...":g("extractPages.extractButton")||"Extract ".concat(O.size," Page").concat(1!==O.size?"s":"")}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_extracted.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("extractPages.successMessage")||"Successfully extracted ".concat(O.size," page(s)! Click the download button to save your file.")})})]})}let p=h},78491:(e,r,t)=>{"use strict";t.d(r,{LT:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/excel-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one Excel spreadsheet.","Received ".concat(t.length," file(s)."));let a=t[0];if(!(a.name.toLowerCase().endsWith(".xlsx")||a.name.toLowerCase().endsWith(".xls")||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===a.type||"application/vnd.ms-excel"===a.type))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload an Excel spreadsheet (.xlsx or .xls).","Received: ".concat(a.type||a.name));if(a.name.toLowerCase().endsWith(".xls"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Legacy .xls format is not supported. Please convert to .xlsx first.","Use Microsoft Excel or LibreOffice to save as .xlsx");try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting Excel to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.xlsx?$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert Excel to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},78752:(e,r,t)=>{"use strict";t.d(r,{GS:()=>a,Q6:()=>o,SM:()=>l,cK:()=>i,h:()=>s});var s=function(e){return e.FILE_ERROR="FILE_ERROR",e.PROCESSING_ERROR="PROCESSING_ERROR",e.VALIDATION_ERROR="VALIDATION_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.BROWSER_ERROR="BROWSER_ERROR",e}({}),a=function(e){return e.FILE_TOO_LARGE="FILE_TOO_LARGE",e.FILE_TYPE_INVALID="FILE_TYPE_INVALID",e.FILE_CORRUPTED="FILE_CORRUPTED",e.FILE_EMPTY="FILE_EMPTY",e.FILE_NOT_PDF="FILE_NOT_PDF",e.PDF_ENCRYPTED="PDF_ENCRYPTED",e.PDF_MALFORMED="PDF_MALFORMED",e.PROCESSING_TIMEOUT="PROCESSING_TIMEOUT",e.PROCESSING_CANCELLED="PROCESSING_CANCELLED",e.PROCESSING_FAILED="PROCESSING_FAILED",e.INVALID_PASSWORD="INVALID_PASSWORD",e.MEMORY_EXCEEDED="MEMORY_EXCEEDED",e.WORKER_FAILED="WORKER_FAILED",e.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",e.INVALID_PAGE_RANGE="INVALID_PAGE_RANGE",e.INVALID_OPTIONS="INVALID_OPTIONS",e.UNKNOWN="UNKNOWN",e}({});let l={FILE_TOO_LARGE:"FILE_ERROR",FILE_TYPE_INVALID:"FILE_ERROR",FILE_CORRUPTED:"FILE_ERROR",FILE_EMPTY:"FILE_ERROR",FILE_NOT_PDF:"FILE_ERROR",PDF_ENCRYPTED:"PROCESSING_ERROR",PDF_MALFORMED:"PROCESSING_ERROR",PROCESSING_TIMEOUT:"PROCESSING_ERROR",PROCESSING_CANCELLED:"PROCESSING_ERROR",PROCESSING_FAILED:"PROCESSING_ERROR",INVALID_PASSWORD:"VALIDATION_ERROR",MEMORY_EXCEEDED:"BROWSER_ERROR",WORKER_FAILED:"BROWSER_ERROR",BROWSER_NOT_SUPPORTED:"BROWSER_ERROR",INVALID_PAGE_RANGE:"VALIDATION_ERROR",INVALID_OPTIONS:"VALIDATION_ERROR",UNKNOWN:"PROCESSING_ERROR"},o={DEFAULT_MAX_SIZE:1/0,LARGE_FILE_THRESHOLD:0x3200000,SMALL_FILE_THRESHOLD:5242880},i={PDF:["application/pdf"],IMAGES:["image/jpeg","image/png","image/webp","image/bmp","image/tiff","image/svg+xml"],TEXT:["text/plain"],JSON:["application/json"]};new Uint8Array([37,80,68,70])},78875:(e,r,t)=>{"use strict";t.d(r,{PDFToPptxTool:()=>w});var s=t(95155),a=t(12115),l=t(18955),o=t(6132),i=t(92603),n=t(71360),c=t(89559),d=t(61362),u=t(5113),m=t(64537),h=t(35437),p=t(31166),g=t(47972),x=t(78752),f=t(18365);class v extends f.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/pdf-to-pptx.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:s}=e;if(1!==t.length)return this.createErrorOutput(x.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let a=t[0];if(!a.type.includes("pdf")&&!a.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(x.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(a.type||"unknown"));try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(x.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(x.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting PDF to PowerPoint...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),l=s=>{let{type:a,id:l,result:o,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(i(),e(o)):"error"===a&&(i(),r(Error(n||"Conversion failed"))))},o=e=>{i(),r(Error("Worker error: "+e.message))},i=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",l),null==(r=this.worker)||r.removeEventListener("error",o)};this.worker.addEventListener("message",l),this.worker.addEventListener("error",o),this.worker.postMessage({type:"convert",id:t,data:{file:a,dpi:(null==s?void 0:s.dpi)||150}})});if(this.checkCancelled())return this.createErrorOutput(x.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.pdf$/i,"");return this.createSuccessOutput(e,"".concat(r,".pptx"),{format:"pptx"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(x.GS.PROCESSING_FAILED,"Failed to convert PDF to PowerPoint.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function b(e,r,t){return new v().process({files:[e],options:r||{}},t)}function w(e){var r;let{className:t=""}=e,x=(0,l.c)("common");(0,l.c)("tools");let[f,v]=(0,a.useState)(null),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)(150),O=(0,a.useRef)(!1),L=(0,a.useCallback)(e=>{e.length>0&&(v({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e[0],status:"pending"}),E(null),C(null),j("idle"),P(0))},[]),I=(0,a.useCallback)(e=>{E(e)},[]),R=(0,a.useCallback)(()=>{v(null),C(null),E(null),j("idle"),P(0)},[]),z=(0,a.useCallback)(async()=>{if(!f)return void E(x("errors.uploadFile")||"Please upload a PDF file.");O.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await b(f.file,{dpi:D},(e,r)=>{O.current||(P(e),k(r||""))});if(O.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to convert PDF to PowerPoint."),j("error")}}catch(e){O.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[f,D,x]),T=(0,a.useCallback)(()=>{O.current=!0,j("idle"),P(0)},[]),M="processing"===w||"uploading"===w,_=f&&!M;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(t).trim(),children:[(0,s.jsx)(u.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:L,onError:I,disabled:M,label:"Upload PDF",description:"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-red-50/50 border border-red-200 text-red-700 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",role:"alert",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:F})]}),f&&(0,s.jsx)(g.Zp,{variant:"outlined",size:"lg",className:"glass-card",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-[hsl(var(--color-primary)/0.1)] flex items-center justify-center text-[hsl(var(--color-primary))]",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-[hsl(var(--color-foreground))]",children:f.file.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:(r=f.file.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")})]})]}),(0,s.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:R,disabled:M,className:"text-[hsl(var(--color-muted-foreground))] hover:text-red-500 hover:bg-red-50",children:[(0,s.jsx)(n.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"sr-only",children:x("buttons.remove")||"Remove"})]})]})}),f&&(0,s.jsxs)(g.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:"Conversion Options"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:"Image Quality (DPI)"}),(0,s.jsxs)("select",{value:D,onChange:e=>A(Number(e.target.value)),disabled:M,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-white text-sm focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"72",children:"Low (72 DPI - smaller file)"}),(0,s.jsx)("option",{value:"150",children:"Medium (150 DPI - balanced)"}),(0,s.jsx)("option",{value:"200",children:"High (200 DPI - better quality)"}),(0,s.jsx)("option",{value:"300",children:"Very High (300 DPI - best quality)"})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:"Higher DPI produces better quality slides but larger file sizes."})]})})]}),M&&(0,s.jsx)(m.r,{progress:y,status:w,message:N,onCancel:T,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,s.jsxs)(p.$,{variant:"primary",size:"lg",onClick:z,disabled:!_,loading:M,className:"min-w-[200px] shadow-lg hover:shadow-primary/25 transition-all hover:-translate-y-0.5",children:[!M&&(0,s.jsx)(c.A,{className:"w-5 h-5 mr-2"}),M?x("status.processing")||"Converting...":"Convert to PowerPoint"]}),S&&!Array.isArray(S)&&(0,s.jsx)(h.f,{file:S,filename:"".concat(null==f?void 0:f.file.name.replace(/\.pdf$/i,""),".pptx"),variant:"secondary",size:"lg",showFileSize:!0,className:"min-w-[200px] shadow-lg transition-all hover:-translate-y-0.5"})]}),"complete"===w&&S&&(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-green-50/50 border border-green-200 text-green-700 text-center animate-in fade-in zoom-in-95 duration-300",role:"status",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-4",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Conversion Successful!"}),(0,s.jsx)("p",{className:"text-green-800/80 max-w-md mx-auto",children:"Your PDF has been converted to PowerPoint. Each page is now a slide with full-quality images."})]})]})}},79624:(e,r,t)=>{"use strict";t.d(r,{sM:()=>c,tn:()=>o});var s=t(78752),a=t(18365),l=t(32096);let o={a3:{width:841.89,height:1190.55,label:"A3 (297 \xd7 420 mm)"},a4:{width:595.28,height:841.89,label:"A4 (210 \xd7 297 mm)"},a5:{width:419.53,height:595.28,label:"A5 (148 \xd7 210 mm)"},letter:{width:612,height:792,label:"Letter (8.5 \xd7 11 in)"},legal:{width:612,height:1008,label:"Legal (8.5 \xd7 14 in)"},tabloid:{width:792,height:1224,label:"Tabloid (11 \xd7 17 in)"},executive:{width:522,height:756,label:"Executive (7.25 \xd7 10.5 in)"},custom:{width:0,height:0,label:"Custom"}},i={sizePreset:"a4",scaleMode:"fit",maintainAspectRatio:!0,orientation:"auto"};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...i,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let n=t[0];try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Reading PDF file...");let r=await n.arrayBuffer();this.updateProgress(20,"Loading PDF document...");let t=await e.PDFDocument.load(r,{ignoreEncryption:!0}),a=t.getPageCount();if(0===a)return this.createErrorOutput(s.GS.PDF_MALFORMED,"The PDF file contains no pages.","Please provide a valid PDF with at least one page.");this.updateProgress(30,"Creating new document...");let i=await e.PDFDocument.create(),c=this.getTargetDimensions(o);this.updateProgress(40,"Processing pages...");for(let e=0;e<a;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=40+Math.floor(e/a*50);this.updateProgress(r,"Processing page ".concat(e+1," of ").concat(a,"..."));let[l]=await i.embedPages([t.getPage(e)]),n=l.width,d=l.height,u=c.width,m=c.height;if("auto"===o.orientation){let e=n>d,r=u>m;e!==r&&([u,m]=[m,u])}else"landscape"===o.orientation?u<m&&([u,m]=[m,u]):"portrait"===o.orientation&&u>m&&([u,m]=[m,u]);let h=i.addPage([u,m]),{scale:p,x:g,y:x}=this.calculateTransform(n,d,u,m,o.scaleMode,o.maintainAspectRatio);h.drawPage(l,{x:g,y:x,xScale:p.x,yScale:p.y})}this.updateProgress(90,"Saving PDF...");let d=await i.save({useObjectStreams:!0}),u=new Blob([d],{type:"application/pdf"});this.updateProgress(100,"Complete!");let m=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_fixed.pdf")}(n.name);return this.createSuccessOutput(u,m,{pageCount:a,targetWidth:c.width,targetHeight:c.height,sizePreset:o.sizePreset})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to fix page sizes.",e instanceof Error?e.message:"Unknown error")}}getTargetDimensions(e){if("custom"===e.sizePreset)return{width:e.customWidth||595.28,height:e.customHeight||841.89};let r=o[e.sizePreset];return{width:r.width,height:r.height}}calculateTransform(e,r,t,s,a,l){let o=t/e,i=s/r,n=0,c=0;switch(a){case"fit":if(l){let e=Math.min(o,i);o=e,i=e}n=(t-e*o)/2,c=(s-r*i)/2;break;case"fill":if(l){let e=Math.max(o,i);o=e,i=e}n=(t-e*o)/2,c=(s-r*i)/2;break;case"stretch":n=0,c=0;break;case"center":o=1,i=1,n=(t-e)/2,c=(s-r)/2}return{scale:{x:o,y:i},x:n,y:c}}getAcceptedTypes(){return["application/pdf"]}}async function c(e,r,t){return new n().process({files:[e],options:r||{}},t)}},79726:(e,r,t)=>{"use strict";t.d(r,{RotatePDFTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(95100),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)([]),[O,L]=(0,a.useState)(!1),I=(0,a.useRef)(!1),R=(0,a.useCallback)(async e=>{L(!0),A([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages);let l=[],o=Math.min(a.numPages,50);for(let e=1;e<=o;e++){let r=await a.getPage(e),t=r.getViewport({scale:.15}),s=document.createElement("canvas"),o=s.getContext("2d");o&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:o,viewport:t}).promise,l.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.6),rotation:0}))}for(let e=o+1;e<=a.numPages;e++)l.push({pageNumber:e,rotation:0});A(l)}catch(e){console.error("Failed to load PDF previews:",e),E("Failed to load PDF preview. The file may be corrupted or encrypted.")}finally{L(!1)}},[]),z=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),R(r)}},[R]),T=(0,a.useCallback)(e=>{E(e)},[]),M=(0,a.useCallback)(()=>{f(null),b(0),A([]),C(null),E(null),j("idle"),P(0)},[]),_=(0,a.useCallback)((e,r)=>{A(t=>t.map(t=>t.pageNumber===e?{...t,rotation:(t.rotation+r+360)%360}:t)),C(null)},[]),G=(0,a.useCallback)(e=>{A(r=>r.map(r=>({...r,rotation:(r.rotation+e+360)%360}))),C(null)},[]),B=(0,a.useCallback)(()=>{A(e=>e.map(e=>({...e,rotation:0}))),C(null)},[]),U=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");if(!D.some(e=>0!==e.rotation))return void E("Please rotate at least one page before processing.");I.current=!1,j("processing"),P(0),E(null),C(null);let e={};D.forEach(r=>{0!==r.rotation&&(e[r.pageNumber]=r.rotation)});try{let t=await (0,u.qe)(x,{rotations:e},(e,r)=>{I.current||(P(e),k(r||""))});if(I.current)return void j("idle");if(t.success&&t.result)C(t.result),j("complete");else{var r;E((null==(r=t.error)?void 0:r.message)||"Failed to rotate PDF."),j("error")}}catch(e){I.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,D]),W=(0,a.useCallback)(()=>{I.current=!0,j("idle"),P(0)},[]),V="processing"===w||"uploading"===w,$=D.some(e=>0!==e.rotation),H=x&&v>0&&$&&!V,Z=D.filter(e=>0!==e.rotation).length;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:z,onError:T,disabled:V,label:g("rotatePdf.uploadLabel")||"Upload PDF File",description:g("rotatePdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:M,disabled:V,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[g("rotatePdf.rotateTitle")||"Rotate Pages",Z>0&&(0,s.jsxs)("span",{className:"ml-2 text-[hsl(var(--color-primary))]",children:["(",Z," page",1!==Z?"s":""," rotated)"]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>G(-90),disabled:V,children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),p("buttons.rotateAllLeft")||"Rotate All Left"]}),(0,s.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>G(90),disabled:V,children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H11a8 8 0 00-8 8v2m18-10l-6 6m6-6l-6-6"})}),p("buttons.rotateAllRight")||"Rotate All Right"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:B,disabled:V||!$,children:p("buttons.reset")||"Reset"})]})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:g("rotatePdf.hint")||"Click the rotation buttons on each page to rotate individually, or use the buttons above to rotate all pages."}),O?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 max-h-[500px] overflow-y-auto p-1",children:D.map(e=>(0,s.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"relative aspect-[3/4] w-full rounded-[var(--radius-md)] border-2 overflow-hidden bg-[hsl(var(--color-muted))] ".concat(0!==e.rotation?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.3)]":"border-[hsl(var(--color-border))]"),children:[(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center transition-transform duration-300",style:{transform:"rotate(".concat(e.rotation,"deg)")},children:e.thumbnail?(0,s.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"max-w-full max-h-full object-contain"}):(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:e.pageNumber})}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs py-0.5 text-center",children:[e.pageNumber,0!==e.rotation&&(0,s.jsxs)("span",{className:"ml-1 text-[hsl(var(--color-primary))]",children:["(",e.rotation,"\xb0)"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>_(e.pageNumber,-90),disabled:V,className:"w-7 h-7 flex items-center justify-center rounded bg-[hsl(var(--color-muted))] hover:bg-[hsl(var(--color-muted-foreground)/0.2)] text-[hsl(var(--color-foreground))] transition-colors disabled:opacity-50","aria-label":"Rotate page ".concat(e.pageNumber," left"),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>_(e.pageNumber,90),disabled:V,className:"w-7 h-7 flex items-center justify-center rounded bg-[hsl(var(--color-muted))] hover:bg-[hsl(var(--color-muted-foreground)/0.2)] text-[hsl(var(--color-foreground))] transition-colors disabled:opacity-50","aria-label":"Rotate page ".concat(e.pageNumber," right"),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H11a8 8 0 00-8 8v2m18-10l-6 6m6-6l-6-6"})})})]})]},e.pageNumber))})]}),V&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:W,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:U,disabled:!H,loading:V,children:V?p("status.processing")||"Processing...":g("rotatePdf.rotateButton")||"Rotate ".concat(Z," Page").concat(1!==Z?"s":"")}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_rotated.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("rotatePdf.successMessage")||"PDF pages rotated successfully! Click the download button to save your file."})})]})}},80571:(e,r,t)=>{"use strict";t.d(r,{dM:()=>i});var s=t(78752),a=t(18365);let l={quality:"medium",removeMetadata:!1,optimizeImages:!0,removeUnusedObjects:!0};class o extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...l,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to compress.","Received ".concat(t.length," file(s)."));let i=t[0];try{this.updateProgress(5,"Loading PDF file...");let e=await i.arrayBuffer(),r=e.byteLength;if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Starting compression...");let t=await this.compressWithWorker(e,o);if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let a=t.compressedSize,l=((r-a)/r*100).toFixed(1),n=new Blob([t.pdfBytes],{type:"application/pdf"});this.updateProgress(100,"Complete!");let c=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_compressed.pdf")}(i.name);return this.createSuccessOutput(n,c,{originalSize:r,compressedSize:a,compressionRatio:"".concat(l,"%"),quality:o.quality})}catch(e){if(this.terminateWorker(),e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before compressing.");return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to compress PDF file.",e instanceof Error?e.message:"Unknown error")}}compressWithWorker(e,r){return new Promise((t,s)=>{try{this.worker=new Worker("/workers/compress.worker.js"),this.worker.onmessage=e=>{let r=e.data;if("progress"===r.status){let e=10+r.progress/100*85;this.updateProgress(e,"Compressing PDF...")}else"success"===r.status?(this.terminateWorker(),t({pdfBytes:r.pdfBytes,compressedSize:r.compressedSize})):"error"===r.status&&(this.terminateWorker(),s(Error(r.message)))},this.worker.onerror=e=>{this.terminateWorker(),s(Error("Worker error: ".concat(e.message)))},this.worker.postMessage({command:"compress",pdfData:e,options:{quality:r.quality,removeMetadata:r.removeMetadata}},[e])}catch(e){this.terminateWorker(),s(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null)}cancel(){super.cancel(),this.terminateWorker()}getAcceptedTypes(){return["application/pdf"]}constructor(...e){super(...e),this.worker=null}}async function i(e,r,t){return new o().process({files:[e],options:r||{}},t)}},81314:(e,r,t)=>{"use strict";t.d(r,{bL:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={Letter:{width:612,height:792},Legal:{width:612,height:1008},Tabloid:{width:792,height:1224},A0:{width:2384,height:3370},A1:{width:1684,height:2384},A2:{width:1191,height:1684},A3:{width:842,height:1191},A4:{width:595,height:842},A5:{width:420,height:595},A6:{width:298,height:420},B4:{width:709,height:1001},B5:{width:499,height:709},Executive:{width:522,height:756}};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to analyze.","Received ".concat(t.length," file(s)."));let a=t[0];try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Reading PDF file...");let t=await a.arrayBuffer();this.updateProgress(20,"Loading PDF document...");try{e=await r.PDFDocument.load(t,{ignoreEncryption:!0,updateMetadata:!1})}catch(e){return this.createErrorOutput(s.GS.PDF_MALFORMED,"Unable to load the PDF file.",e instanceof Error?e.message:"The file may be corrupted.")}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(40,"Analyzing page dimensions...");let i=e.getPageCount();if(0===i)return this.createErrorOutput(s.GS.PDF_MALFORMED,"The PDF file contains no pages.","Cannot analyze dimensions of an empty PDF.");let n=[],c=new Map;for(let r=0;r<i;r++){let t,a=40+r/i*50;this.updateProgress(a,"Analyzing page ".concat(r+1," of ").concat(i,"..."));let{width:l,height:d}=e.getPage(r).getSize(),u=l/72,m=d/72,h=25.4*u,p=25.4*m;t=1>Math.abs(l-d)?"square":l>d?"landscape":"portrait";let g=function(e,r){for(let[t,s]of Object.entries(o)){if(2>=Math.abs(e-s.width)&&2>=Math.abs(r-s.height))return t;if(2>=Math.abs(e-s.height)&&2>=Math.abs(r-s.width))return"".concat(t," (Landscape)")}return null}(l,d),x={pageNumber:r+1,widthPt:Math.round(100*l)/100,heightPt:Math.round(100*d)/100,widthIn:Math.round(100*u)/100,heightIn:Math.round(100*m)/100,widthMm:Math.round(10*h)/10,heightMm:Math.round(10*p)/10,orientation:t,standardSize:g};n.push(x);let f="".concat(Math.round(l),"x").concat(Math.round(d)),v=c.get(f);if(v?(v.count++,v.pages.push(r+1)):c.set(f,{count:1,pages:[r+1]}),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.")}this.updateProgress(95,"Generating report...");let d=Array.from(c.entries()).map(e=>{let[r,t]=e;return{size:r,count:t.count,pages:t.pages}}),u=1===d.length,m={pageCount:i,pages:n,uniqueSizes:d,uniformSize:u},h=JSON.stringify(m,null,2),p=new Blob([h],{type:"application/json"});this.updateProgress(100,"Complete!");let g=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_dimensions.json")}(a.name);return this.createSuccessOutput(p,g,{pageCount:i,uniformSize:u,uniqueSizeCount:d.length,result:m})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to analyze PDF page dimensions.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},81554:(e,r,t)=>{"use strict";t.d(r,{Fk:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{var l,o;let e;this.updateProgress(10,"Loading PDF...");let r=t[0],i=await r.arrayBuffer();this.updateProgress(30,"Generating table of contents...");let n=await this.generateTOCWithWorker(i,a.title||"Table of Contents",a.fontSize||12,null!=(l=a.fontFamily)?l:"helv",null==(o=a.addBookmark)||o);if("error"===n.status)return this.createErrorOutput(s.GS.PROCESSING_FAILED,n.message||"Failed to generate table of contents.");let c=n.pdfBlob,d=n.pdfBytes;if(c instanceof Blob)e=c;else{if(!d||!(d.byteLength>0))return console.error("[TOC Processor] Critical: Received empty data from worker"),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Internal Error: Generated PDF data was empty.");e=new Blob([new Uint8Array(d)],{type:"application/pdf"})}return this.updateProgress(90,"Saving PDF..."),this.updateProgress(100,"Complete!"),this.createSuccessOutput(e,r.name.replace(".pdf","_with_toc.pdf"),{})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to generate table of contents.",e instanceof Error?e.message:"Unknown error")}finally{this.terminateWorker()}}generateTOCWithWorker(e,r,t,s,a){return new Promise(l=>{this.worker=new Worker("/workers/table-of-contents-v2.worker.js",{type:"module"}),this.worker.onmessage=e=>{let r=e.data;("success"===r.status||"error"===r.status)&&l(r)},this.worker.onerror=e=>{l({status:"error",message:e.message||"Worker error occurred"})},this.worker.postMessage({command:"generate-toc",pdfData:e,title:r,fontSize:t,fontFamily:s,addBookmark:a},[e])})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null)}getAcceptedTypes(){return["application/pdf"]}constructor(...e){super(...e),this.worker=null}}async function o(e,r,t){return new l().process({files:[e],options:r},t)}},81673:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ViewMetadataTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(31166),c=t(47972),d=t(32096);function u(e){if(!e)return"- Not Set -";if("object"==typeof e&&e instanceof Date)return e.toLocaleString();if("string"==typeof e&&e.startsWith("D:"))try{let r=e.substring(2,6),t=e.substring(6,8),s=e.substring(8,10),a=e.substring(10,12)||"00",l=e.substring(12,14)||"00",o=e.substring(14,16)||"00";return new Date("".concat(r,"-").concat(t,"-").concat(s,"T").concat(a,":").concat(l,":").concat(o,"Z")).toLocaleString()}catch(e){}return String(e)}function m(e){let{className:r=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),S=(0,a.useRef)(!1),C=(0,a.useCallback)(async e=>{S.current=!1,f("processing"),b(0),k(null),P(null);try{j("Loading PDF library..."),b(10);let r=await Promise.resolve().then(t.bind(t,98045));if((0,d.Ek)(r),S.current)return void f("idle");j("Reading PDF file..."),b(30);let s=await e.arrayBuffer();if(S.current)return void f("idle");j("Extracting metadata..."),b(50);let a=await r.getDocument({data:s}).promise;if(S.current)return void f("idle");b(70);let l=await a.getMetadata();if(S.current)return void f("idle");b(90);let o=l.info,i={title:(null==o?void 0:o.Title)||void 0,author:(null==o?void 0:o.Author)||void 0,subject:(null==o?void 0:o.Subject)||void 0,keywords:(null==o?void 0:o.Keywords)||void 0,creator:(null==o?void 0:o.Creator)||void 0,producer:(null==o?void 0:o.Producer)||void 0,creationDate:(null==o?void 0:o.CreationDate)?u(o.CreationDate):void 0,modificationDate:(null==o?void 0:o.ModDate)?u(o.ModDate):void 0,pageCount:a.numPages,pdfVersion:(null==o?void 0:o.PDFFormatVersion)||void 0,isEncrypted:!!(null==o?void 0:o.IsAcroFormPresent),isLinearized:(null==o?void 0:o.IsLinearized)||!1,fileSize:e.size,customMetadata:{}};if(o){let e=["Title","Author","Subject","Keywords","Creator","Producer","CreationDate","ModDate","PDFFormatVersion","IsAcroFormPresent","IsLinearized"];for(let r in o)e.includes(r)||null===o[r]||void 0===o[r]||(i.customMetadata[r]=String(o[r]))}P(i),b(100),f("complete")}catch(e){S.current||(console.error("Failed to extract metadata:",e),k(e instanceof Error?e.message:"Failed to extract metadata from PDF."),f("error"))}},[]),F=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];g(r),k(null),P(null),C(r)}},[C]),E=(0,a.useCallback)(e=>{k(e)},[]),D=(0,a.useCallback)(()=>{g(null),P(null),k(null),f("idle"),b(0)},[]),A=(0,a.useCallback)(()=>{S.current=!0,f("idle"),b(0)},[]),O=(0,a.useCallback)(()=>{if(!y||!p)return;let e=new Blob([JSON.stringify({filename:p.name,...y},null,2)],{type:"application/json"}),r=URL.createObjectURL(e),t=document.createElement("a");t.href=r,t.download=p.name.replace(".pdf","_metadata.json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(r)},[y,p]),L=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),I="processing"===x||"uploading"===x,R=e=>{let{label:r,value:t}=e,a=null==t||""===t?"- Not Set -":"boolean"==typeof t?t?"Yes":"No":String(t),l="- Not Set -"===a;return(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row py-2 border-b border-[hsl(var(--color-border)/0.5)] last:border-b-0",children:[(0,s.jsx)("span",{className:"w-full sm:w-48 flex-shrink-0 font-medium text-[hsl(var(--color-muted-foreground))]",children:r}),(0,s.jsx)("span",{className:"flex-grow ".concat(l?"text-[hsl(var(--color-muted-foreground))] italic":"text-[hsl(var(--color-foreground))]"," break-all"),children:a})]})};return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!p&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:F,onError:E,disabled:I,label:h("viewMetadata.uploadLabel")||"Upload PDF File",description:h("viewMetadata.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),N&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:N})}),p&&(0,s.jsx)(c.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:L(p.size)})]})]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:D,disabled:I,children:m("buttons.remove")||"Remove"})]})}),I&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:A,showPercentage:!0}),y&&"complete"===x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:h("viewMetadata.documentProperties")||"Document Properties"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(R,{label:h("viewMetadata.title")||"Title",value:y.title}),(0,s.jsx)(R,{label:h("viewMetadata.author")||"Author",value:y.author}),(0,s.jsx)(R,{label:h("viewMetadata.subject")||"Subject",value:y.subject}),(0,s.jsx)(R,{label:h("viewMetadata.keywords")||"Keywords",value:y.keywords}),(0,s.jsx)(R,{label:h("viewMetadata.creator")||"Creator",value:y.creator}),(0,s.jsx)(R,{label:h("viewMetadata.producer")||"Producer",value:y.producer})]})]}),(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("viewMetadata.dates")||"Dates"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(R,{label:h("viewMetadata.creationDate")||"Creation Date",value:y.creationDate}),(0,s.jsx)(R,{label:h("viewMetadata.modificationDate")||"Modification Date",value:y.modificationDate})]})]}),(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("viewMetadata.documentInfo")||"Document Information"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(R,{label:h("viewMetadata.pageCount")||"Page Count",value:y.pageCount}),(0,s.jsx)(R,{label:h("viewMetadata.fileSize")||"File Size",value:L(y.fileSize)}),(0,s.jsx)(R,{label:h("viewMetadata.pdfVersion")||"PDF Version",value:y.pdfVersion}),(0,s.jsx)(R,{label:h("viewMetadata.isLinearized")||"Linearized (Fast Web View)",value:y.isLinearized})]})]}),y.customMetadata&&Object.keys(y.customMetadata).length>0&&(0,s.jsxs)(c.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("viewMetadata.customMetadata")||"Additional Metadata"}),(0,s.jsx)("div",{className:"space-y-1",children:Object.entries(y.customMetadata).map(e=>{let[r,t]=e;return(0,s.jsx)(R,{label:r,value:t},r)})})]}),(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,s.jsx)(n.$,{variant:"secondary",size:"lg",onClick:O,children:h("viewMetadata.exportJson")||"Export as JSON"})}),(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("viewMetadata.successMessage")||"Metadata extracted successfully! You can export it as JSON if needed."})})]})]})}let h=m},82845:(e,r,t)=>{"use strict";t.d(r,{EditPDFTool:()=>c});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(31166),n=t(47972);function c(e){let{className:r=""}=e,t=(0,l.c)("common"),c=(0,l.c)("tools.editPdf"),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1),v=(0,a.useRef)(null),b=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];u(r),g(null),h(URL.createObjectURL(r))}},[]),w=(0,a.useCallback)(e=>{g(e)},[]);(0,a.useEffect)(()=>()=>{m&&URL.revokeObjectURL(m)},[m]);let j=(0,a.useCallback)(()=>{setTimeout(()=>{f(!0);try{let e=v.current;if(null==e?void 0:e.contentDocument){let r=e.contentDocument,t=r.getElementById("download"),s=r.getElementById("secondaryDownload");t&&(t.style.display="none"),s&&(s.style.display="none");let a=r.querySelector(".CustomToolbar");a&&a.querySelectorAll("li, button").forEach(e=>{var r;let t=null==(r=e.textContent)?void 0:r.trim();("保存"===t||"Save"===t)&&(e.style.display="none")})}}catch(e){console.warn("Could not access iframe content to hide save button")}},1e3)},[]),y=(0,a.useCallback)(()=>{m&&URL.revokeObjectURL(m),u(null),h(null),g(null),f(!1)},[m]);return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!d&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:b,onError:w,label:c("uploadLabel"),description:c("uploadDescription")}),p&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:p})}),d&&m&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(n.Zp,{variant:"outlined",size:"sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:d.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[(d.size/1048576).toFixed(2)," MB"]})]})]}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:y,children:t("buttons.clear")||"Clear"})]})}),(0,s.jsxs)("div",{className:"relative border border-[hsl(var(--color-border))] rounded-[var(--radius-md)] overflow-hidden bg-gray-100",children:[(0,s.jsx)("iframe",{ref:v,src:"/pdfjs-annotation-viewer/web/viewer.html?file=".concat(encodeURIComponent(m)),className:"w-full h-[700px] border-0",title:"PDF Editor",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-downloads",onLoad:j}),!x&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[hsl(var(--color-primary))] mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:t("status.loading")||"Loading..."})]})})]})]})]})}},83820:(e,r,t)=>{"use strict";t.d(r,{qR:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/pptx-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",e=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PowerPoint presentation.","Received ".concat(t.length," file(s)."));let a=t[0];if(!(a.name.toLowerCase().endsWith(".pptx")||a.name.toLowerCase().endsWith(".ppt")||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===a.type||"application/vnd.ms-powerpoint"===a.type))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PowerPoint presentation (.pptx or .ppt).","Received: ".concat(a.type||a.name));if(a.name.toLowerCase().endsWith(".ppt"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Legacy .ppt format is not supported. Please convert to .pptx first.","Use Microsoft PowerPoint or LibreOffice to save as .pptx");try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting PowerPoint to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.pptx?$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert PowerPoint to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},84454:(e,r,t)=>{"use strict";t.d(r,{BookmarkTool:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(98045),i=t(5113),n=t(64537),c=t(35437),d=t(31166),u=t(47972),m=t(61795),h=t(32096);function p(e){let{className:r=""}=e,t=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(1),[y,P]=(0,a.useState)([]),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)("idle"),[D,A]=(0,a.useState)(0),[O,L]=(0,a.useState)(null),[I,R]=(0,a.useState)(null),[z,T]=(0,a.useState)(!1),M=(0,a.useRef)(null),_=(0,a.useRef)(!1),G=(0,a.useCallback)(async e=>{try{let r=await e.arrayBuffer(),t=o.getDocument({data:r}),s=await t.promise;f(s),b(s.numPages),j(1),T(!0);try{let e=await s.getOutline();if(e&&e.length>0){let r=await B(e,s);P(r)}}catch(e){console.warn("Failed to extract bookmarks:",e)}T(!1)}catch(e){R("Failed to load PDF file."),console.error(e)}},[]),B=async(e,r)=>{let t=[];for(let s of e){let e=1;if(s.dest)try{let t="string"==typeof s.dest?await r.getDestination(s.dest):s.dest;if(t&&t[0]){let s=t[0];e=await r.getPageIndex(s)+1}}catch(e){console.warn("Failed to get destination for bookmark:",s.title)}let a={id:"bm-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),title:s.title||"Untitled",pageNumber:e,children:[],isExpanded:!0};s.items&&s.items.length>0&&(a.children=await B(s.items,r)),t.push(a)}return t},U=(0,a.useCallback)(async e=>{if(x&&M.current)try{let r=await x.getPage(e),t=M.current,s=t.getContext("2d");if(!s)return;let a=r.getViewport({scale:1}),l=Math.min(600/a.width,1.5),o=r.getViewport({scale:l});t.width=o.width,t.height=o.height,await r.render({canvasContext:s,viewport:o}).promise}catch(e){console.error("Failed to render page:",e)}},[x]);(0,a.useEffect)(()=>{x&&w>0&&U(w)},[x,w,U]);let W=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),R(null),L(null),P([]),G(e[0]))},[G]),V=(0,a.useCallback)(()=>{g(null),f(null),P([]),L(null),R(null),E("idle"),j(1),b(0)},[]),$=(0,a.useCallback)(e=>{k(e.id),j(e.pageNumber)},[]),H=(0,a.useCallback)(()=>{let e={id:"bm-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),title:"New Bookmark (Page ".concat(w,")"),pageNumber:w,children:[],isExpanded:!0};P(r=>[...r,e]),C(e),L(null)},[w]),Z=(0,a.useCallback)(e=>{let r={id:"bm-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),title:"New Bookmark (Page ".concat(w,")"),pageNumber:w,children:[],isExpanded:!0},t=s=>s.map(s=>s.id===e?{...s,children:[...s.children,r],isExpanded:!0}:{...s,children:t(s.children)});P(e=>t(e)),C(r),L(null)},[w]),q=(0,a.useCallback)(e=>{let r=t=>t.filter(r=>r.id!==e).map(e=>({...e,children:r(e.children)}));P(e=>r(e)),N===e&&k(null),L(null)},[N]),K=(0,a.useCallback)(e=>{let r=t=>t.map(t=>t.id===e.id?{...e,children:t.children}:{...t,children:r(t.children)});P(e=>r(e)),C(null),L(null)},[]),Y=(0,a.useCallback)(e=>{let r=t=>t.map(t=>t.id===e?{...t,isExpanded:!t.isExpanded}:{...t,children:r(t.children)});P(e=>r(e))},[]),J=e=>e.map(e=>({id:e.id,title:e.title,pageNumber:e.pageNumber,children:e.children.length>0?J(e.children):void 0})),X=(0,a.useCallback)(async()=>{if(p&&0!==y.length){_.current=!1,E("processing"),A(0),R(null),L(null);try{let r={action:"add",bookmarks:J(y)},t=await (0,m.RH)(p,r,e=>{_.current||A(e)});if(t.success&&t.result)L(t.result),E("complete");else{var e;R((null==(e=t.error)?void 0:e.message)||"Failed to process bookmarks."),E("error")}}catch(e){R(e instanceof Error?e.message:"An unexpected error occurred."),E("error")}}},[p,y]),Q="processing"===F,ee=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=N===e.id,a=(null==S?void 0:S.id)===e.id;return(0,s.jsxs)("div",{style:{marginLeft:16*r},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ".concat(t?"bg-blue-100 border border-blue-300":"hover:bg-gray-100"),onClick:()=>$(e),children:[e.children.length>0&&(0,s.jsx)("button",{onClick:r=>{r.stopPropagation(),Y(e.id)},className:"w-5 h-5 flex items-center justify-center text-gray-500 hover:text-gray-700",children:e.isExpanded?"▼":"▶"}),0===e.children.length&&(0,s.jsx)("span",{className:"w-5"}),a?(0,s.jsxs)("div",{className:"flex-1 flex gap-2",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("input",{type:"text",value:S.title,onChange:e=>C({...S,title:e.target.value}),className:"flex-1 px-2 py-1 border rounded text-sm",autoFocus:!0}),(0,s.jsx)("input",{type:"number",value:S.pageNumber,onChange:e=>C({...S,pageNumber:parseInt(e.target.value)||1}),min:1,max:v,className:"w-16 px-2 py-1 border rounded text-sm"}),(0,s.jsx)(d.$,{size:"sm",onClick:()=>K(S),children:"✓"}),(0,s.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>C(null),children:"✕"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"flex-1 text-sm truncate",children:e.title}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["p.",e.pageNumber]}),(0,s.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 hover:opacity-100",style:{opacity:t?1:void 0},children:[(0,s.jsx)("button",{onClick:r=>{r.stopPropagation(),C(e)},className:"p-1 text-gray-400 hover:text-blue-500",title:"Edit",children:"✎"}),(0,s.jsx)("button",{onClick:r=>{r.stopPropagation(),Z(e.id)},className:"p-1 text-gray-400 hover:text-green-500",title:"Add child",children:"+"}),(0,s.jsx)("button",{onClick:r=>{r.stopPropagation(),q(e.id)},className:"p-1 text-gray-400 hover:text-red-500",title:"Delete",children:"\xd7"})]})]})]}),e.isExpanded&&e.children.length>0&&(0,s.jsx)("div",{className:"border-l border-gray-200 ml-2",children:e.children.map(e=>ee(e,r+1))})]},e.id)};return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!p&&(0,s.jsx)(i.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:W,onError:R,disabled:Q,label:h("bookmark.uploadLabel")||"Upload PDF File",description:h("bookmark.uploadDescription")||"Drag and drop a PDF file to edit bookmarks."}),I&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:I})}),p&&x&&(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"font-medium",children:h("bookmark.pdfPreview")||"PDF Preview"}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:V,children:t("buttons.close")||"Close"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-4",children:[(0,s.jsxs)(d.$,{variant:"secondary",size:"sm",onClick:()=>j(e=>Math.max(1,e-1)),disabled:w<=1,children:["← ",t("buttons.back")||"Prev"]}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",w," / ",v]}),(0,s.jsxs)(d.$,{variant:"secondary",size:"sm",onClick:()=>j(e=>Math.min(v,e+1)),disabled:w>=v,children:[t("buttons.next")||"Next"," →"]})]}),(0,s.jsx)("div",{className:"flex justify-center bg-gray-100 rounded p-4 overflow-auto max-h-[600px]",children:(0,s.jsx)("canvas",{ref:M,className:"shadow-lg"})})]}),(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"font-medium",children:h("bookmark.bookmarksTitle")||"Bookmarks"}),(0,s.jsxs)(d.$,{variant:"primary",size:"sm",onClick:H,children:["+ ",h("bookmark.addBookmark")||"Add Bookmark"]})]}),z&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Extracting existing bookmarks..."}),(0,s.jsx)("div",{className:"border rounded max-h-[500px] overflow-y-auto",children:0===y.length?(0,s.jsx)("div",{className:"p-8 text-center text-gray-500",children:(0,s.jsx)("p",{children:h("bookmark.noBookmarks")||'No bookmarks yet. Click "Add Bookmark" to create one.'})}):(0,s.jsx)("div",{className:"p-2 space-y-1",children:y.map(e=>ee(e))})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:h("bookmark.hint")||"Click a bookmark to preview its page. Use +/✎/\xd7 to add child, edit, or delete."})]})]}),Q&&(0,s.jsx)(n.r,{progress:D,status:F,onCancel:()=>{_.current=!0,E("idle")},showPercentage:!0}),p&&y.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(d.$,{variant:"primary",size:"lg",onClick:X,disabled:Q,loading:Q,children:Q?t("status.processing")||"Processing...":h("bookmark.saveButton")||"Save Bookmarks"}),O&&(0,s.jsx)(c.f,{file:O,filename:p.name.replace(".pdf","_bookmarked.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===F&&O&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:h("bookmark.successMessage")||"Bookmarks saved successfully!"})})]})}o.GlobalWorkerOptions.workerSrc||(0,h.Ek)(o)},84679:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PDFsToZipTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972);class u{async process(e,r){let{files:s,options:a={}}=e;if(0===s.length)return{success:!1,error:{code:"FILE_EMPTY",message:"No PDF files provided",category:"VALIDATION_ERROR",recoverable:!0}};try{var l;let e=new(await Promise.resolve().then(t.t.bind(t,7496,23))).default,o=s.length;for(let t=0;t<s.length;t++){if(this.cancelled)return{success:!1,error:{code:"PROCESSING_CANCELLED",message:"Operation cancelled",category:"PROCESSING_ERROR",recoverable:!0}};let a=s[t],l=await a.arrayBuffer();e.file(a.name,l),this.progress=Math.round((t+1)/o*80),null==r||r(this.progress,"Adding ".concat(a.name," (").concat(t+1,"/").concat(o,")"))}null==r||r(85,"Compressing files...");let i=null!=(l=a.compressionLevel)?l:6,n=await e.generateAsync({type:"blob",compression:i>0?"DEFLATE":"STORE",compressionOptions:{level:i}},e=>{let t=85+Math.round(.15*e.percent);this.progress=t,null==r||r(t,"Compressing files...")});return this.progress=100,null==r||r(100,"Complete"),{success:!0,result:n,metadata:{fileCount:s.length,totalSize:n.size,filenames:s.map(e=>e.name)}}}catch(e){return{success:!1,error:{code:"PROCESSING_FAILED",message:e instanceof Error?e.message:"Failed to create ZIP archive",category:"PROCESSING_ERROR",recoverable:!0}}}}async validate(e){let r=[];for(let t of e)t.name.toLowerCase().endsWith(".pdf")||"application/pdf"===t.type||r.push({code:"FILE_TYPE_INVALID",message:'File "'.concat(t.name,'" must be a PDF'),category:"FILE_ERROR",recoverable:!0});return{valid:0===r.length,errors:r}}getProgress(){return this.progress}cancel(){this.cancelled=!0}constructor(){this.progress=0,this.cancelled=!1}}async function m(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return new u().process({files:e,options:r},t)}function h(e){let{className:r=""}=e,t=(0,l.c)("common"),u=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(6),C=(0,a.useRef)(!1),F=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending"}));p(e=>[...e,...r]),N(null),y(null)},[]),E=(0,a.useCallback)(e=>{N(e)},[]),D=(0,a.useCallback)(e=>{p(r=>r.filter(r=>r.id!==e)),y(null)},[]),A=(0,a.useCallback)(()=>{p([]),y(null),N(null),x("idle"),v(0)},[]),O=(0,a.useCallback)(async()=>{if(0===h.length)return void N("Please add at least one PDF file.");C.current=!1,x("processing"),v(0),N(null),y(null);try{let r=await m(h.map(e=>e.file),{compressionLevel:k},(e,r)=>{C.current||(v(e),w(r||""))});if(C.current)return void x("idle");if(r.success&&r.result)y(r.result),x("complete");else{var e;N((null==(e=r.error)?void 0:e.message)||"Failed to create ZIP archive."),x("error")}}catch(e){C.current||(N(e instanceof Error?e.message:"An unexpected error occurred."),x("error"))}},[h,k]),L=(0,a.useCallback)(()=>{C.current=!0,x("idle"),v(0)},[]),I=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"),R=h.reduce((e,r)=>e+r.file.size,0),z="processing"===g||"uploading"===g,T=h.length>0&&!z;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:100,onFilesSelected:F,onError:E,disabled:z,label:u("pdfToZip.uploadLabel")||"Upload PDF Files",description:u("pdfToZip.uploadDescription")||"Drag and drop PDF files here, or click to browse. You can add multiple files to package into a ZIP archive."}),P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[u("pdfToZip.filesTitle")||"Files to Package"," (",h.length,")"]}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[u("pdfToZip.totalSize")||"Total size",": ",I(R)]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:A,disabled:z,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("ul",{className:"space-y-2 max-h-80 overflow-y-auto",role:"list","aria-label":"Files to package",children:h.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-3 p-3 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:I(e.file.size)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>D(e.id),disabled:z,className:"flex-shrink-0 p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600 disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id))})]}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:u("pdfToZip.optionsTitle")||"ZIP Options"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"compression-level",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:u("pdfToZip.compressionLevel")||"Compression Level"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("input",{id:"compression-level",type:"range",min:"0",max:"9",value:k,onChange:e=>S(Number(e.target.value)),disabled:z,className:"flex-1 h-2 bg-[hsl(var(--color-muted))] rounded-lg appearance-none cursor-pointer"}),(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))] w-8 text-center",children:k})]}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:0===k?u("pdfToZip.noCompression")||"No compression (fastest)":k<=3?u("pdfToZip.lowCompression")||"Low compression (fast)":k<=6?u("pdfToZip.mediumCompression")||"Medium compression (balanced)":u("pdfToZip.highCompression")||"High compression (smaller file)"})]})})]}),z&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:L,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:O,disabled:!T,loading:z,children:z?t("status.processing")||"Processing...":u("pdfToZip.createButton")||"Create ZIP Archive"}),j&&(0,s.jsx)(n.f,{file:j,filename:"pdfs.zip",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&j&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:u("pdfToZip.successMessage")||"Successfully packaged ".concat(h.length," PDF file(s) into a ZIP archive. Click the download button to save your file.")})})]})}let p=h},85311:(e,r,t)=>{"use strict";t.d(r,{Qm:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){var t,a,o,i,n,c,d,u,m,h;this.reset(),this.onProgress=r;let{files:p,options:g}=e,x={type:null!=(t=g.type)?t:"text",text:g.text,imageData:g.imageData,position:null!=(a=g.position)?a:"center",opacity:null!=(o=g.opacity)?o:.3,rotation:null!=(i=g.rotation)?i:-45,fontSize:null!=(n=g.fontSize)?n:48,color:null!=(c=g.color)?c:{r:.5,g:.5,b:.5},pages:null!=(d=g.pages)?d:"all"};if(1!==p.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=p[0],t=await r.arrayBuffer(),a=await e.PDFDocument.load(t,{ignoreEncryption:!0}),o=await a.embedFont(e.StandardFonts.HelveticaBold),i=a.getPageCount();this.updateProgress(30,"Adding watermark...");let n=function(e,r){if(Array.isArray(e))return e.map(e=>e-1).filter(e=>e>=0&&e<r);switch(e){case"odd":return Array.from({length:r},(e,r)=>r).filter(e=>e%2==0);case"even":return Array.from({length:r},(e,r)=>r).filter(e=>e%2==1);default:return Array.from({length:r},(e,r)=>r)}}(x.pages,i);for(let r=0;r<n.length;r++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let t=n[r],l=a.getPage(t),{width:i,height:c}=l.getSize();if("text"===x.type&&x.text){let r=x.text,t=x.fontSize||48,s=o.widthOfTextAtSize(r,t),a=0,n=0,d="diagonal"===x.position?-45:x.rotation||0;switch(x.position){case"top-left":a=50,n=c-50;break;case"top-right":a=i-s-50,n=c-50;break;case"bottom-left":a=50,n=50;break;case"bottom-right":a=i-s-50,n=50;break;default:a=i/2,n=c/2}l.drawText(r,{x:a,y:n,size:t,font:o,color:e.rgb((null==(u=x.color)?void 0:u.r)||.5,(null==(m=x.color)?void 0:m.g)||.5,(null==(h=x.color)?void 0:h.b)||.5),opacity:x.opacity||.3,rotate:e.degrees(d)})}else if("image"===x.type&&x.imageData){let r;r="jpg"===x.imageType?await a.embedJpg(x.imageData):await a.embedPng(x.imageData);let t=.5*r.width,s=.5*r.height,o=(i-t)/2,n=(c-s)/2;l.drawImage(r,{x:o,y:n,width:t,height:s,opacity:x.opacity||.3,rotate:e.degrees(x.rotation||0)})}this.updateProgress(30+60*(r+1)/n.length,"Processing page ".concat(t+1,"..."))}this.updateProgress(95,"Saving PDF...");let c=await a.save({useObjectStreams:!0}),d=new Blob([new Uint8Array(c)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(d,r.name.replace(".pdf","_watermarked.pdf"),{pageCount:i})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to add watermark.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}},87457:(e,r,t)=>{"use strict";t.d(r,{HeaderFooterTool:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(98045),i=t(5113),n=t(64537),c=t(35437),d=t(31166),u=t(47972),m=t(30782),h=t(32096);function p(e){var r;let{className:t=""}=e,h=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)(""),[E,D]=(0,a.useState)(""),[A,O]=(0,a.useState)(""),[L,I]=(0,a.useState)(""),[R,z]=(0,a.useState)("Page {page} of {total}"),[T,M]=(0,a.useState)("{date}"),[_,G]=(0,a.useState)(10),[B,U]=(0,a.useState)("#000000"),[W,V]=(0,a.useState)(30),[$,H]=(0,a.useState)(!1),[Z,q]=(0,a.useState)("all"),[K,Y]=(0,a.useState)(0),[J,X]=(0,a.useState)(1),Q=(0,a.useRef)(!1),ee=(0,a.useRef)(null),er=(0,a.useCallback)(async e=>{try{let r=await e.arrayBuffer(),t=await o.getDocument({data:r}).promise;Y(t.numPages),et(t,1)}catch(e){console.error("Failed to load PDF preview:",e)}},[]),et=async(e,r)=>{if(ee.current)try{let t=await e.getPage(r),s=t.getViewport({scale:.6}),a=ee.current,l=a.getContext("2d");if(!l)return;a.width=s.width,a.height=s.height,await t.render({canvasContext:l,viewport:s}).promise,es(r)&&!($&&1===r)&&ea(l,s.width,s.height,r,e.numPages)}catch(e){console.error("Failed to render page:",e)}},es=e=>{if(!Z||"all"===Z.toLowerCase()||""===Z.trim())return!0;for(let r of Z.split(",").map(e=>e.trim()))if(r.includes("-")){let[t,s]=r.split("-").map(e=>parseInt(e.trim()));if(!isNaN(t)&&!isNaN(s)&&e>=t&&e<=s)return!0}else{let t=parseInt(r);if(!isNaN(t)&&e===t)return!0}return!1},ea=(e,r,t,s,a)=>{let l=.6*W,o=.6*_;e.font="".concat(o,"px Arial"),e.fillStyle=B;let i=new Date().toLocaleDateString(),n=e=>e.replace(/{page}/g,String(s)).replace(/{total}/g,String(a)).replace(/{date}/g,i);C&&(e.textAlign="left",e.fillText(n(C),l,l+o)),E&&(e.textAlign="center",e.fillText(n(E),r/2,l+o)),A&&(e.textAlign="right",e.fillText(n(A),r-l,l+o)),L&&(e.textAlign="left",e.fillText(n(L),l,t-l)),R&&(e.textAlign="center",e.fillText(n(R),r/2,t-l)),T&&(e.textAlign="right",e.fillText(n(T),r-l,t-l))};(0,a.useEffect)(()=>{g&&K>0&&(async()=>{let e=await g.arrayBuffer();et(await o.getDocument({data:e}).promise,J)})()},[g,C,E,A,L,R,T,_,B,W,$,Z,J,K]);let el=(0,a.useCallback)(e=>{e.length>0&&(x(e[0]),S(null),N(null),er(e[0]))},[er]),eo=(0,a.useCallback)(()=>{x(null),N(null),S(null),v("idle"),Y(0),X(1)},[]),ei=(0,a.useCallback)(async()=>{if(g){Q.current=!1,v("processing"),w(0),S(null),N(null);try{let r=await (0,m.wA)(g,{header:{left:C,center:E,right:A},footer:{left:L,center:R,right:T},fontSize:_,fontColor:B,margin:W,skipFirstPage:$,pageRange:"all"===Z?void 0:Z},(e,r)=>{Q.current||(w(e),y(r||""))});if(r.success&&r.result)N(r.result),v("complete");else{var e;S((null==(e=r.error)?void 0:e.message)||"Failed to add header/footer."),v("error")}}catch(e){S(e instanceof Error?e.message:"Error"),v("error")}}},[g,C,E,A,L,R,T,_,B,W,$,Z]),en="processing"===f,ec=C||E||A||L||R||T;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[!g&&(0,s.jsx)(i.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:el,onError:S,disabled:en,label:p("headerFooter.uploadLabel")||"Upload PDF File",description:p("headerFooter.uploadDescription")||"Drag and drop a PDF file here."}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),g&&(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(u.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:g.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=g.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",K," pages"]})]})]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:eo,disabled:en,children:h("buttons.remove")||"Remove"})]})}),(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:p("headerFooter.headerTitle")||"Header"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Left"}),(0,s.jsx)("input",{type:"text",value:C,onChange:e=>F(e.target.value),placeholder:"e.g., Company Name",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Center"}),(0,s.jsx)("input",{type:"text",value:E,onChange:e=>D(e.target.value),placeholder:"e.g., Document Title",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Right"}),(0,s.jsx)("input",{type:"text",value:A,onChange:e=>O(e.target.value),placeholder:"e.g., {date}",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en})]})]}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:p("headerFooter.footerTitle")||"Footer"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Left"}),(0,s.jsx)("input",{type:"text",value:L,onChange:e=>I(e.target.value),placeholder:"e.g., Confidential",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Center"}),(0,s.jsx)("input",{type:"text",value:R,onChange:e=>z(e.target.value),placeholder:"e.g., Page {page} of {total}",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Right"}),(0,s.jsx)("input",{type:"text",value:T,onChange:e=>M(e.target.value),placeholder:"e.g., {date}",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Quick Insert"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"{page}",desc:"Page number"},{label:"{total}",desc:"Total pages"},{label:"{date}",desc:"Current date"}].map(e=>(0,s.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.label),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded-full transition-colors",title:'Copy "'.concat(e.label,'" - ').concat(e.desc),children:(0,s.jsx)("code",{children:e.label})},e.label))}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click to copy, then paste into any field"})]}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:p("headerFooter.styleTitle")||"Style"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Font Size"}),(0,s.jsx)("input",{type:"number",value:_,onChange:e=>G(parseInt(e.target.value)||10),min:6,max:24,className:"w-full px-3 py-2 border rounded-[var(--radius-md)]",disabled:en})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Margin (pt)"}),(0,s.jsx)("input",{type:"number",value:W,onChange:e=>V(parseInt(e.target.value)||30),min:10,max:100,className:"w-full px-3 py-2 border rounded-[var(--radius-md)]",disabled:en})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm mb-1",children:"Text Color"}),(0,s.jsx)("input",{type:"color",value:B,onChange:e=>U(e.target.value),className:"w-full h-10 p-1 cursor-pointer rounded border border-gray-300",disabled:en})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Page Range"}),(0,s.jsx)("input",{type:"text",value:Z,onChange:e=>q(e.target.value),placeholder:"e.g., 1-5, 8, 10-12 or 'all'",className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",disabled:en}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Use "all" for all pages, or specify ranges like "1-5, 8, 10-12"'})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:$,onChange:e=>H(e.target.checked),className:"w-4 h-4",disabled:en}),(0,s.jsx)("span",{className:"text-sm",children:"Skip first page (cover page)"})]})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:p("headerFooter.preview")||"Preview"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>X(e=>Math.max(1,e-1)),disabled:J<=1,children:"←"}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",J," of ",K]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>X(e=>Math.min(K,e+1)),disabled:J>=K,children:"→"})]})]}),(0,s.jsx)("div",{className:"bg-gray-100 rounded-[var(--radius-md)] p-4 flex justify-center",children:(0,s.jsx)("canvas",{ref:ee,className:"shadow-lg bg-white max-w-full h-auto",style:{maxHeight:"500px"}})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:es(J)&&!($&&1===J)?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm text-green-600",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Header/Footer will be added to this page"]}):(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm text-gray-500",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"This page will be skipped"]})}),!ec&&(0,s.jsx)("p",{className:"text-sm text-center text-gray-500 mt-4",children:p("headerFooter.previewHint")||"Enter header or footer text to see preview"})]})})]}),en&&(0,s.jsx)(n.r,{progress:b,status:f,message:j,onCancel:()=>{Q.current=!0,v("idle")},showPercentage:!0}),g&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(d.$,{variant:"primary",size:"lg",onClick:ei,disabled:!g||!ec||en,loading:en,children:en?"Processing...":p("headerFooter.addButton")||"Add Header & Footer"}),P&&(0,s.jsx)(c.f,{file:P,filename:g.name.replace(".pdf","_headerfooter.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===f&&P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p("headerFooter.successMessage")||"Header & footer added successfully!"})})]})}o.GlobalWorkerOptions.workerSrc||(0,h.Ek)(o)},87888:(e,r,t)=>{"use strict";t.d(r,{OS:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={removeJavaScript:!0,removeAttachments:!0,removeLinks:!0,flattenForms:!0,removeMetadata:!0,removeAnnotations:!1};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file to sanitize.","Received ".concat(t.length," file(s)."));let n=t[0];try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)(),{PDFName:t}=r;if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Reading PDF file...");let a=await n.arrayBuffer(),o=a.byteLength;this.updateProgress(20,"Loading PDF document...");try{e=await r.PDFDocument.load(a,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before sanitizing.");throw e}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Analyzing PDF content...");let d=e.getPageCount();if(0===d)return this.createErrorOutput(s.GS.PDF_MALFORMED,"The PDF file contains no pages.","Cannot sanitize an empty PDF.");let u=[];if(this.updateProgress(40,"Sanitizing PDF content..."),i.flattenForms)try{let r=e.getForm();r.getFields().length>0&&(r.flatten(),u.push("form fields (flattened)"))}catch(r){try{let r=e.catalog.dict;r.has(t.of("AcroForm"))&&(r.delete(t.of("AcroForm")),u.push("form fields"))}catch(e){console.warn("Could not remove AcroForm:",e)}}if(this.updateProgress(50,"Removing metadata..."),i.removeMetadata)try{let r=e.getInfoDict();for(let e of r.keys())r.delete(e);e.setTitle(""),e.setAuthor(""),e.setSubject(""),e.setKeywords([]),e.setCreator(""),e.setProducer("PDFCraft");try{let r=e.catalog.dict;r.has(t.of("Metadata"))&&r.delete(t.of("Metadata"))}catch(e){console.warn("Could not remove XMP metadata")}u.push("metadata")}catch(e){console.warn("Could not remove metadata:",e)}if(this.updateProgress(60,"Removing annotations..."),i.removeAnnotations){for(let r of e.getPages())try{r.node.delete(t.of("Annots"))}catch(e){}u.push("annotations")}if(this.updateProgress(70,"Removing JavaScript..."),i.removeJavaScript)try{let r=e.catalog.dict,s=r.get(t.of("Names"));if(s)try{let r=e.context.lookup(s);r.has(t.of("JavaScript"))&&r.delete(t.of("JavaScript"))}catch(e){}for(let s of(r.has(t.of("OpenAction"))&&r.delete(t.of("OpenAction")),r.has(t.of("AA"))&&r.delete(t.of("AA")),e.getPages()))try{let e=s.node;e.has(t.of("AA"))&&e.delete(t.of("AA"))}catch(e){}u.push("JavaScript")}catch(e){console.warn("Could not remove JavaScript:",e)}if(this.updateProgress(80,"Removing embedded files..."),i.removeAttachments)try{let r=e.catalog.dict,s=r.get(t.of("Names"));if(s)try{let r=e.context.lookup(s);r.has(t.of("EmbeddedFiles"))&&r.delete(t.of("EmbeddedFiles"))}catch(e){}r.has(t.of("Collection"))&&r.delete(t.of("Collection")),u.push("embedded files")}catch(e){console.warn("Could not remove embedded files:",e)}if(i.removeLinks)try{for(let r of e.getPages())try{let s=r.node,a=s.get(t.of("Annots"));if(!a)continue;let l=e.context.lookup(a).asArray(),o=[];for(let r of l)try{var c;let s=null==(c=e.context.lookup(r).get(t.of("Subtype")))?void 0:c.toString().substring(1);"Link"!==s&&o.push(r)}catch(e){o.push(r)}if(o.length!==l.length)if(o.length>0){let r=e.context.obj(o);s.set(t.of("Annots"),r)}else s.delete(t.of("Annots"))}catch(e){}u.push("links")}catch(e){console.warn("Could not remove links:",e)}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(90,"Saving sanitized PDF...");let m=await e.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"}),p=m.length;this.updateProgress(100,"Complete!");let g=function(e){let r=e.lastIndexOf("."),t=-1===r?e:e.slice(0,r);return"".concat(t,"_sanitized.pdf")}(n.name);return this.createSuccessOutput(h,g,{pageCount:d,originalSize:o,newSize:p,removedItems:u,sanitized:!0})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to sanitize PDF file.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},90208:(e,r,t)=>{"use strict";t.d(r,{Sd:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={scale:2,pages:[],backgroundColor:"#ffffff",embedFonts:!0};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one PDF file.","Received ".concat(t.length," file(s)."));let n=t[0];if(!n.type.includes("pdf")&&!n.name.toLowerCase().endsWith(".pdf"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a PDF file.","Received: ".concat(n.type||"unknown"));try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Iy)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading PDF document...");let r=await n.arrayBuffer(),t=await e.getDocument({data:r}).promise,a=t.numPages,o=i.pages.length>0?i.pages.filter(e=>e>=1&&e<=a):Array.from({length:a},(e,r)=>r+1);if(0===o.length)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,"No valid pages to convert.","PDF has ".concat(a," pages."));this.updateProgress(15,"Converting ".concat(o.length," page(s) to SVG..."));let c=[],d=80/o.length;for(let e=0;e<o.length;e++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let r=o[e],l=15+e*d;this.updateProgress(l,"Converting page ".concat(r," of ").concat(a,"..."));try{let e=await this.renderPageToSVG(t,r,i);c.push(e)}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert page ".concat(r,"."),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(95,"Finalizing...");let u=n.name.replace(/\.pdf$/i,""),m=c.map(e=>e.blob);if(1===m.length)return this.updateProgress(100,"Complete!"),this.createSuccessOutput(m[0],"".concat(u,".svg"),{pageCount:1,format:"svg",svgResults:c});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(m,"".concat(u,"_pages.svg"),{pageCount:m.length,format:"svg",svgResults:c})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert PDF to SVG.",e instanceof Error?e.message:"Unknown error")}}async renderPageToSVG(e,r,t){let s=await e.getPage(r),a=s.getViewport({scale:t.scale}),l=document.createElement("canvas");l.width=a.width,l.height=a.height;let o=l.getContext("2d");if(!o)throw Error("Failed to get canvas context");o.fillStyle=t.backgroundColor,o.fillRect(0,0,l.width,l.height),await s.render({canvasContext:o,viewport:a}).promise;let i=this.canvasToSVG(l,a.width,a.height),n=new Blob([i],{type:"image/svg+xml"});return{svg:i,blob:n,pageNumber:r,width:a.width,height:a.height}}canvasToSVG(e,r,t){let s=e.toDataURL("image/png");return'<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n     width="'.concat(r,'" height="').concat(t,'" viewBox="0 0 ').concat(r," ").concat(t,'">\n  <title>PDF Page</title>\n  <image width="').concat(r,'" height="').concat(t,'" xlink:href="').concat(s,'" />\n</svg>')}}async function n(e,r,t){return new i().process({files:[e],options:r||{}},t)}},90636:(e,r,t)=>{"use strict";t.d(r,{Ch:()=>o});var s=t(78752),a=t(18365);class l extends a.A{async initWorker(){if(!this.worker)return new Promise((e,r)=>{try{this.worker=new Worker("/workers/word-to-pdf.worker.js",{type:"module"});let t=t=>{let{type:s,error:a,message:l}=t.data;"init-complete"===s?(this.workerReady=!0,e()):"status"===s?this.updateProgress(0,l):"error"===s&&r(Error(a||"Worker initialization failed"))};this.worker.addEventListener("message",t),this.worker.addEventListener("error",()=>{r(Error("Worker connection failed"))}),this.worker.postMessage({type:"init",id:"init-"+Date.now(),data:{}})}catch(e){r(e)}})}terminateWorker(){this.worker&&(this.worker.terminate(),this.worker=null,this.workerReady=!1)}reset(){super.reset()}async process(e,r){this.reset(),this.onProgress=r;let{files:t}=e;if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Please provide exactly one Word document.","Received ".concat(t.length," file(s)."));let a=t[0];if(!(a.name.toLowerCase().endsWith(".docx")||a.name.toLowerCase().endsWith(".doc")||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===a.type||"application/msword"===a.type))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type. Please upload a Word document (.docx or .doc).","Received: ".concat(a.type||a.name));if(a.name.toLowerCase().endsWith(".doc"))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Legacy .doc format is not supported. Please convert to .docx first.","Use Microsoft Word or LibreOffice to save as .docx");try{this.updateProgress(10,"Initializing converter...");try{await this.initWorker()}catch(e){return console.error("Failed to initialize worker:",e),this.createErrorOutput(s.GS.WORKER_FAILED,"Failed to initialize conversion worker.",e instanceof Error?e.message:String(e))}if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(30,"Converting Word document to PDF...");let e=await new Promise((e,r)=>{if(!this.worker)return void r(Error("Worker not initialized"));let t="convert-"+Date.now(),s=s=>{let{type:a,id:l,result:i,error:n,message:c}=s.data;if("status"===a)return void this.updateProgress(this.progress,c);l===t&&("convert-complete"===a?(o(),e(i)):"error"===a&&(o(),r(Error(n||"Conversion failed"))))},l=e=>{o(),r(Error("Worker error: "+e.message))},o=()=>{var e,r;null==(e=this.worker)||e.removeEventListener("message",s),null==(r=this.worker)||r.removeEventListener("error",l)};this.worker.addEventListener("message",s),this.worker.addEventListener("error",l),this.worker.postMessage({type:"convert",id:t,data:{file:a}})});if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(100,"Conversion complete!");let r=a.name.replace(/\.docx?$/i,"");return this.createSuccessOutput(e,"".concat(r,".pdf"),{format:"pdf"})}catch(e){return console.error("Conversion error:",e),this.terminateWorker(),this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert Word document to PDF.",e instanceof Error?e.message:"Unknown error")}}constructor(...e){super(...e),this.worker=null,this.workerReady=!1}}async function o(e,r,t){return new l().process({files:[e],options:r||{}},t)}},91257:(e,r,t)=>{"use strict";t.d(r,{IJ:()=>u});var s=t(78752),a=t(18365),l=t(32096);let o={A4:{width:595.28,height:841.89},LETTER:{width:612,height:792},LEGAL:{width:612,height:1008},A3:{width:841.89,height:1190.55},A5:{width:419.53,height:595.28},FIT:{width:0,height:0}},i={pageSize:"A4",orientation:"auto",margin:36,quality:.92,centerImage:!0,scaleToFit:!0,svgScale:2},n=["image/jpeg","image/png","image/webp","image/bmp","image/tiff","image/svg+xml","image/heic","image/heif"],c=[".jpg",".jpeg",".png",".webp",".bmp",".tiff",".tif",".svg",".heic",".heif"];class d extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,o={...i,...a};if(t.length<1)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"At least 1 image file is required.","Received ".concat(t.length," file(s)."));for(let e of t)if(!this.isValidImageFile(e))return this.createErrorOutput(s.GS.FILE_TYPE_INVALID,"Invalid file type: ".concat(e.name),"Supported formats: JPG, PNG, WebP, BMP, TIFF, SVG, HEIC");try{this.updateProgress(5,"Loading PDF library...");let e=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Creating PDF document...");let r=await e.PDFDocument.create(),a=80/t.length;for(let l=0;l<t.length;l++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let i=t[l],n=10+l*a;this.updateProgress(n,"Processing image ".concat(l+1," of ").concat(t.length,": ").concat(i.name));try{await this.addImageToDocument(r,i,o,e)}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,'Failed to process image "'.concat(i.name,'".'),e instanceof Error?e.message:"Unknown error")}}this.updateProgress(95,"Saving PDF...");let i=await r.save({useObjectStreams:!0}),n=new Blob([new Uint8Array(i)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let c=this.generateOutputFilename(t);return this.createSuccessOutput(n,c,{pageCount:t.length,imageCount:t.length})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to convert images to PDF.",e instanceof Error?e.message:"Unknown error")}}isValidImageFile(e){var r;if(n.includes(e.type))return!0;let t="."+(null==(r=e.name.split(".").pop())?void 0:r.toLowerCase());return c.includes(t)}async addImageToDocument(e,r,t,s){var a;let l,o=new Uint8Array(await r.arrayBuffer()),i=r.type.toLowerCase(),n=(null==(a=r.name.split(".").pop())?void 0:a.toLowerCase())||"";l="image/jpeg"===i||"jpg"===n||"jpeg"===n?await e.embedJpg(o):"image/png"===i||"png"===n?await e.embedPng(o):await this.convertAndEmbedImage(e,r,s,"image/svg+xml"===i||"svg"===n?t.svgScale:1);let{pageWidth:c,pageHeight:d}=this.calculatePageDimensions(l.width,l.height,t),u=e.addPage([c,d]),{x:m,y:h,width:p,height:g}=this.calculateImagePlacement(l.width,l.height,c,d,t);u.drawImage(l,{x:m,y:h,width:p,height:g})}async convertAndEmbedImage(e,r,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new Promise((t,a)=>{let l=new Image,o=URL.createObjectURL(r);l.onload=async()=>{try{let r=document.createElement("canvas");r.width=l.width*s,r.height=l.height*s;let a=r.getContext("2d");if(!a)throw Error("Failed to get canvas context");a.scale(s,s),a.drawImage(l,0,0);let i=await new Promise((e,t)=>{r.toBlob(r=>r?e(r):t(Error("Failed to convert to PNG")),"image/png")}),n=await i.arrayBuffer(),c=await e.embedPng(new Uint8Array(n));URL.revokeObjectURL(o),t(c)}catch(e){URL.revokeObjectURL(o),a(e)}},l.onerror=()=>{URL.revokeObjectURL(o),a(Error("Failed to load image: ".concat(r.name)))},l.src=o})}calculatePageDimensions(e,r,t){let s,a;if("string"==typeof t.pageSize){let l=o[t.pageSize];"FIT"===t.pageSize?(s=e+2*t.margin,a=r+2*t.margin):(s=l.width,a=l.height)}else s=t.pageSize.width,a=t.pageSize.height;return"landscape"===t.orientation?s<a&&([s,a]=[a,s]):"portrait"===t.orientation?s>a&&([s,a]=[a,s]):"auto"===t.orientation&&e>r!=s>a&&"string"==typeof t.pageSize&&"FIT"!==t.pageSize&&([s,a]=[a,s]),{pageWidth:s,pageHeight:a}}calculateImagePlacement(e,r,t,s,a){let l=t-2*a.margin,o=s-2*a.margin,i=e,n=r;if(a.scaleToFit){let t=Math.min(l/e,o/r,1);i=e*t,n=r*t}let c=a.margin,d=a.margin;return a.centerImage&&(c=(t-i)/2,d=(s-n)/2),{x:c,y:d,width:i,height:n}}generateOutputFilename(e){if(1===e.length){let r=e[0].name.replace(/\.[^/.]+$/,"");return"".concat(r,".pdf")}return"images_".concat(e.length,"_pages.pdf")}getAcceptedTypes(){return n}}async function u(e,r,t){return new d().process({files:e,options:r||{}},t)}},91666:(e,r,t)=>{"use strict";t.r(r),t.d(r,{OrganizePDFTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(11922),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)([]),[O,L]=(0,a.useState)([]),[I,R]=(0,a.useState)(!1),[z,T]=(0,a.useState)(null),[M,_]=(0,a.useState)(null),G=(0,a.useRef)(!1),B=(0,a.useCallback)(async e=>{R(!0),A([]);try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages);let l=Array.from({length:a.numPages},(e,r)=>r+1);L(l);let o=[],i=Math.min(a.numPages,100);for(let e=1;e<=i;e++){let r=await a.getPage(e),t=r.getViewport({scale:.15}),s=document.createElement("canvas"),l=s.getContext("2d");l&&(s.height=t.height,s.width=t.width,await r.render({canvasContext:l,viewport:t}).promise,o.push({pageNumber:e,thumbnail:s.toDataURL("image/jpeg",.6)}))}for(let e=i+1;e<=a.numPages;e++)o.push({pageNumber:e});A(o)}catch(e){console.error("Failed to load PDF previews:",e),E("Failed to load PDF preview. The file may be corrupted or encrypted.")}finally{R(!1)}},[]),U=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),B(r)}},[B]),W=(0,a.useCallback)(e=>{E(e)},[]),V=(0,a.useCallback)(()=>{f(null),b(0),A([]),L([]),C(null),E(null),j("idle"),P(0)},[]),$=(0,a.useCallback)(e=>{T(e)},[]),H=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==z&&z!==r&&_(r)},[z]),Z=(0,a.useCallback)(()=>{null!==z&&null!==M&&z!==M&&L(e=>{let r=[...e],[t]=r.splice(z,1);return r.splice(M,0,t),r}),T(null),_(null)},[z,M]),q=(0,a.useCallback)((e,r)=>{r<0||r>=O.length||L(t=>{let s=[...t],[a]=s.splice(e,1);return s.splice(r,0,a),s})},[O.length]),K=(0,a.useCallback)(()=>{L(Array.from({length:v},(e,r)=>r+1)),C(null)},[v]),Y=(0,a.useCallback)(()=>{L(e=>[...e].reverse()),C(null)},[]),J=(0,a.useCallback)(()=>{let e=Array.from({length:v},(e,r)=>r+1);return JSON.stringify(O)!==JSON.stringify(e)},[O,v]),X=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");if(0===O.length)return void E("No pages to organize.");G.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await (0,u.eB)(x,O,(e,r)=>{G.current||(P(e),k(r||""))});if(G.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to organize PDF file."),j("error")}}catch(e){G.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,O]),Q=(0,a.useCallback)(()=>{G.current=!0,j("idle"),P(0)},[]),ee="processing"===w||"uploading"===w,er=x&&v>0&&!ee;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:U,onError:W,disabled:ee,label:g("organizePdf.uploadLabel")||"Upload PDF File",description:g("organizePdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:V,disabled:ee,children:p("buttons.remove")||"Remove"})]})}),x&&D.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:g("organizePdf.reorderTitle")||"Drag to Reorder Pages"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:Y,disabled:ee,children:g("organizePdf.reverseOrder")||"Reverse Order"}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:K,disabled:ee||!J(),children:g("organizePdf.resetOrder")||"Reset Order"})]})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:g("organizePdf.reorderHint")||"Drag and drop pages to reorder them. Use the arrows to move pages up or down."}),I?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:p("status.loading")||"Loading previews..."})]})}):(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-3 max-h-[500px] overflow-y-auto p-1",children:O.map((e,r)=>{let t=D.find(r=>r.pageNumber===e);return(0,s.jsxs)("div",{draggable:!ee,onDragStart:()=>$(r),onDragOver:e=>H(e,r),onDragEnd:Z,className:"\n                      relative aspect-[3/4] rounded-[var(--radius-md)] border-2 overflow-hidden transition-all\n                      ".concat(z===r?"opacity-50 border-dashed scale-95":"","\n                      ").concat(M===r?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.3)]":"border-[hsl(var(--color-border))]","\n                      ").concat(ee?"":"cursor-grab hover:border-[hsl(var(--color-primary)/0.5)]","\n                    "),children:[(null==t?void 0:t.thumbnail)?(0,s.jsx)("img",{src:t.thumbnail,alt:"Page ".concat(e),className:"w-full h-full object-cover",draggable:!1}):(0,s.jsx)("div",{className:"w-full h-full bg-[hsl(var(--color-muted))] flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg font-medium text-[hsl(var(--color-muted-foreground))]",children:e})}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs py-1 text-center font-medium",children:e}),(0,s.jsx)("div",{className:"absolute top-1 left-1 w-5 h-5 bg-[hsl(var(--color-primary))] rounded-full flex items-center justify-center text-[10px] font-bold text-white",children:r+1}),(0,s.jsxs)("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),q(r,r-1)},disabled:0===r||ee,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move up",children:(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,s.jsx)("path",{d:"M18 15l-6-6-6 6"})})}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),q(r,r+1)},disabled:r===O.length-1||ee,className:"w-5 h-5 bg-white/90 rounded flex items-center justify-center hover:bg-white disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move down",children:(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:(0,s.jsx)("path",{d:"M6 9l6 6 6-6"})})})]})]},"".concat(e,"-").concat(r))})}),J()&&(0,s.jsx)("div",{className:"mt-4 p-3 rounded-[var(--radius-md)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:g("organizePdf.orderChanged")||'Page order has been changed. Click "Apply Changes" to save.'})})]}),ee&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:Q,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:X,disabled:!er,loading:ee,children:ee?p("status.processing")||"Processing...":g("organizePdf.applyButton")||"Apply Changes"}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_organized.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("organizePdf.successMessage")||"PDF pages reorganized successfully! Click the download button to save your file."})})]})}let p=h},91817:(e,r,t)=>{"use strict";t.r(r),t.d(r,{RemoveRestrictionsTool:()=>g,default:()=>x});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(94465),m=t(15781),h=t(70532),p=t(57828);function g(e){let{className:r=""}=e,t=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)("idle"),[w,j]=(0,a.useState)(0),[y,P]=(0,a.useState)(""),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)(""),[O,L]=(0,a.useState)(!1),[I,R]=(0,a.useState)(!1),[z,T]=(0,a.useState)(""),M=(0,a.useRef)(!1),_=(0,a.useCallback)(e=>{e.length>0&&(f(e[0]),C(null),k(null),E(null))},[]),G=(0,a.useCallback)(e=>{C(e)},[]),B=(0,a.useCallback)(()=>{f(null),k(null),C(null),b("idle"),j(0),E(null),A("")},[]),U=(0,a.useCallback)(async()=>{if(!x)return void C("Please select a PDF file.");M.current=!1,b("processing"),j(0),C(null),k(null),E(null);try{let t=await (0,m.w4)(x,{ownerPassword:D||void 0},(e,r)=>{M.current||(j(e),P(r||""))});if(M.current)return void b("idle");if(t.success&&t.result)k(t.result),b("complete"),t.metadata&&E({originalSize:t.metadata.originalSize,newSize:t.metadata.newSize});else{var e,r;let s=(null==(e=t.error)?void 0:e.message)||"",a=(null==(r=t.error)?void 0:r.code)||"";"INVALID_PASSWORD"===a||"INVALID_PASSWORD"===s?(T(g("removeRestrictions.invalidPassword")||"The password you entered is incorrect. Please check and try again."),R(!0)):C(s||"Failed to remove PDF restrictions."),b("error")}}catch(e){if(!M.current){let r=e instanceof Error?e.message:String(e);"INVALID_PASSWORD"===r?(T(g("removeRestrictions.invalidPassword")||"The password you entered is incorrect. Please check and try again."),R(!0)):C(r||"An unexpected error occurred."),b("error")}}},[x,D,g]),W=(0,a.useCallback)(()=>{M.current=!0,b("idle"),j(0)},[]),V=e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),$="processing"===v,H=x&&!$;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:_,onError:G,disabled:$,label:g("removeRestrictions.uploadLabel")||"Upload PDF File",description:g("removeRestrictions.uploadDescription")||"Drag and drop a restricted PDF file here, or click to browse."}),S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:S})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:V(x.size)})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:B,disabled:$,children:t("buttons.remove")||"Remove"})]})}),x&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("removeRestrictions.optionsTitle")||"Options"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:g("removeRestrictions.ownerPasswordLabel")||"Owner Password (optional)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:O?"text":"password",value:D,onChange:e=>A(e.target.value),disabled:$,placeholder:g("removeRestrictions.ownerPasswordPlaceholder")||"Enter owner password if known",className:"w-full px-3 py-2 pr-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] placeholder:text-[hsl(var(--color-muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))] disabled:opacity-50"}),(0,s.jsx)("button",{type:"button",onClick:()=>L(!O),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))]",children:O?(0,s.jsx)(h.A,{className:"w-4 h-4"}):(0,s.jsx)(p.A,{className:"w-4 h-4"})})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:g("removeRestrictions.ownerPasswordHint")||"If the PDF has an owner password, enter it here for better results."})]}),(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-blue-50 border border-blue-200",children:(0,s.jsx)("p",{className:"text-sm text-blue-700",children:g("removeRestrictions.info")||"This tool removes owner password restrictions that prevent printing, copying, and editing. It works on PDFs with permission restrictions but cannot remove user passwords required to open the document."})}),(0,s.jsx)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-yellow-50 border border-yellow-200",children:(0,s.jsx)("p",{className:"text-sm text-yellow-700",children:g("removeRestrictions.warning")||"Only use this tool on PDFs you own or have permission to modify. Removing restrictions from copyrighted material without authorization may violate copyright laws."})})]})]}),$&&(0,s.jsx)(i.r,{progress:w,status:v,message:y,onCancel:W,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:U,disabled:!H,loading:$,children:$?t("status.processing")||"Processing...":g("removeRestrictions.removeButton")||"Remove Restrictions"}),N&&(0,s.jsx)(n.f,{file:N,filename:x?"".concat(x.name.replace(".pdf",""),"_unrestricted.pdf"):"unrestricted.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===v&&N&&F&&(0,s.jsxs)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:g("removeRestrictions.successMessage")||"PDF restrictions removed successfully!"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-600",children:g("removeRestrictions.originalSize")||"Original:"}),(0,s.jsx)("span",{className:"ml-1 font-medium",children:V(F.originalSize)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-600",children:g("removeRestrictions.newSize")||"New Size:"}),(0,s.jsx)("span",{className:"ml-1 font-medium",children:V(F.newSize)})]})]}),(0,s.jsx)("p",{className:"text-xs mt-2 text-green-600",children:g("removeRestrictions.successHint")||"The PDF can now be printed, copied, and edited without restrictions."})]}),(0,s.jsx)(u.a,{isOpen:I,onClose:()=>R(!1),title:t("status.error")||"Error",size:"sm",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-foreground))]",children:z})})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(c.$,{variant:"primary",size:"sm",onClick:()=>R(!1),children:t("buttons.close")||"Close"})})]})})]})}let x=g},92386:(e,r,t)=>{"use strict";t.d(r,{kZ:()=>n,yJ:()=>i});var s=t(78752),a=t(18365),l=t(32096);class o extends a.A{async process(e,r){var t,a;this.reset(),this.onProgress=r;let{files:o,options:i}=e,n={fields:null!=(t=i.fields)?t:[],flatten:null!=(a=i.flatten)&&a};if(1!==o.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.");try{this.updateProgress(10,"Loading PDF library...");let e=await (0,l.Ck)();this.updateProgress(20,"Loading PDF...");let r=o[0],t=await r.arrayBuffer(),a=await e.PDFDocument.load(t,{ignoreEncryption:!0});this.updateProgress(30,"Getting form fields...");let i=a.getForm(),c=i.getFields();if(0===c.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"This PDF does not contain any form fields.");this.updateProgress(40,"Filling form fields...");let d=0;for(let e of n.fields)try{let r=i.getField(e.fieldName);if(r){let t=r.constructor.name;if("PDFTextField"===t)i.getTextField(e.fieldName).setText(String(e.value)),d++;else if("PDFCheckBox"===t){let r=i.getCheckBox(e.fieldName);e.value?r.check():r.uncheck(),d++}else"PDFDropdown"===t?(i.getDropdown(e.fieldName).select(String(e.value)),d++):"PDFRadioGroup"===t&&(i.getRadioGroup(e.fieldName).select(String(e.value)),d++)}}catch(r){console.warn("Failed to fill field ".concat(e.fieldName,":"),r)}this.updateProgress(80,"Processing form..."),n.flatten&&i.flatten(),this.updateProgress(95,"Saving PDF...");let u=await a.save({useObjectStreams:!0}),m=new Blob([new Uint8Array(u)],{type:"application/pdf"});return this.updateProgress(100,"Complete!"),this.createSuccessOutput(m,r.name.replace(".pdf","_filled.pdf"),{totalFields:c.length,filledFields:d,flattened:n.flatten})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to fill form.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function i(e,r,t){return new o().process({files:[e],options:r},t)}async function n(e){let r=await (0,l.Ck)(),t=await e.arrayBuffer();return(await r.PDFDocument.load(t,{ignoreEncryption:!0})).getForm().getFields().map(e=>({name:e.getName(),type:e.constructor.name.replace("PDF","").replace("Field","")}))}},93837:(e,r,t)=>{"use strict";t.r(r),t.d(r,{AlternateMergeTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(62618);function m(e){let{className:r=""}=e,t=(0,l.c)("common"),m=(0,l.c)("tools"),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)("idle"),[f,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(""),[j,y]=(0,a.useState)(null),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[C,F]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),A=(0,a.useRef)(!1),O=(0,a.useCallback)(e=>{let r=e.map(e=>({id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,status:"pending"}));p(e=>[...e,...r]),N(null),y(null)},[]),L=(0,a.useCallback)(e=>{N(e)},[]),I=(0,a.useCallback)(e=>{p(r=>r.filter(r=>r.id!==e)),y(null)},[]),R=(0,a.useCallback)(()=>{p([]),y(null),N(null),x("idle"),v(0)},[]),z=(0,a.useCallback)(e=>{F(e)},[]),T=(0,a.useCallback)((e,r)=>{e.preventDefault(),null!==C&&C!==r&&D(r)},[C]),M=(0,a.useCallback)(()=>{null!==C&&null!==E&&C!==E&&p(e=>{let r=[...e],[t]=r.splice(C,1);return r.splice(E,0,t),r}),F(null),D(null)},[C,E]),_=(0,a.useCallback)(e=>{0!==e&&p(r=>{let t=[...r];return[t[e-1],t[e]]=[t[e],t[e-1]],t})},[]),G=(0,a.useCallback)(e=>{p(r=>{if(e===r.length-1)return r;let t=[...r];return[t[e],t[e+1]]=[t[e+1],t[e]],t})},[]),B=(0,a.useCallback)(async()=>{if(h.length<2)return void N("Please add at least 2 PDF files to alternate merge.");A.current=!1,x("processing"),v(0),N(null),y(null);try{let r=await (0,u.me)(h.map(e=>e.file),{reverseSecond:k,preserveBookmarks:!1},(e,r)=>{A.current||(v(e),w(r||""))});if(A.current)return void x("idle");if(r.success&&r.result)y(r.result),x("complete");else{var e;N((null==(e=r.error)?void 0:e.message)||"Failed to alternate merge PDF files."),x("error")}}catch(e){A.current||(N(e instanceof Error?e.message:"An unexpected error occurred."),x("error"))}},[h,k]),U=(0,a.useCallback)(()=>{A.current=!0,x("idle"),v(0)},[]),W="processing"===g||"uploading"===g,V=h.length>=2&&!W;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!0,maxFiles:10,onFilesSelected:O,onError:L,disabled:W,label:m("alternateMerge.uploadLabel")||"Upload PDF Files",description:m("alternateMerge.uploadDescription")||"Upload two or more PDF files to interleave their pages alternately."}),P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:P})}),h.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:[m("alternateMerge.filesTitle")||"Files to Interleave"," (",h.length,")"]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:R,disabled:W,children:t("buttons.clearAll")||"Clear All"})]}),(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mb-4",children:m("alternateMerge.reorderHint")||"Drag and drop to reorder files. Pages will be interleaved in the order shown (1st page from file 1, 1st page from file 2, 2nd page from file 1, etc.)."}),(0,s.jsx)("ul",{className:"space-y-2",role:"list","aria-label":"Files to interleave",children:h.map((e,r)=>{var t;return(0,s.jsxs)("li",{draggable:!W,onDragStart:()=>z(r),onDragOver:e=>T(e,r),onDragEnd:M,className:"\n                  flex items-center gap-3 p-3 rounded-[var(--radius-md)] border\n                  transition-all duration-200\n                  ".concat(C===r?"opacity-50 border-dashed":"","\n                  ").concat(E===r?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.05)]":"border-[hsl(var(--color-border))]","\n                  ").concat(W?"":"cursor-grab hover:bg-[hsl(var(--color-muted)/0.5)]","\n                "),children:[(0,s.jsx)("div",{className:"flex-shrink-0 text-[hsl(var(--color-muted-foreground))]","aria-hidden":"true",children:(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("circle",{cx:"9",cy:"6",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"6",r:"1.5"}),(0,s.jsx)("circle",{cx:"9",cy:"12",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"12",r:"1.5"}),(0,s.jsx)("circle",{cx:"9",cy:"18",r:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"18",r:"1.5"})]})}),(0,s.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))] text-xs font-medium flex items-center justify-center",children:r+1}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.file.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(t=e.file.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>_(r),disabled:0===r||W,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move up",children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 15l-6-6-6 6"})})}),(0,s.jsx)("button",{type:"button",onClick:()=>G(r),disabled:r===h.length-1||W,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move down",children:(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M6 9l6 6 6-6"})})})]}),(0,s.jsx)("button",{type:"button",onClick:()=>I(e.id),disabled:W,className:"flex-shrink-0 p-1 rounded hover:bg-red-100 text-[hsl(var(--color-muted-foreground))] hover:text-red-600 disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Remove ".concat(e.file.name),children:(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]},e.id)})})]}),h.length>=2&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:m("alternateMerge.optionsTitle")||"Interleave Options"}),(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:k,onChange:e=>S(e.target.checked),disabled:W,className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))]",children:m("alternateMerge.reverseSecond")||"Reverse second document"}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:m("alternateMerge.reverseSecondHint")||"Enable this for back-to-front scanned documents"})]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted)/0.3)] border border-[hsl(var(--color-border))]",children:(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(0,s.jsx)("strong",{children:m("alternateMerge.howItWorks")||"How it works:"})," ",m("alternateMerge.howItWorksDescription")||"Pages are interleaved alternately: Page 1 from File 1, Page 1 from File 2, Page 2 from File 1, Page 2 from File 2, and so on. If documents have different page counts, extra pages are appended at the end."]})})]}),W&&(0,s.jsx)(i.r,{progress:f,status:g,message:b,onCancel:U,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:B,disabled:!V,loading:W,children:W?t("status.processing")||"Processing...":m("alternateMerge.mergeButton")||"Interleave PDFs"}),j&&(0,s.jsx)(n.f,{file:j,filename:"interleaved.pdf",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===g&&j&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:m("alternateMerge.successMessage")||"PDFs interleaved successfully! Click the download button to save your file."})})]})}let h=m},93982:(e,r,t)=>{"use strict";t.d(r,{StampsTool:()=>c});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(31166),n=t(47972);function c(e){let{className:r=""}=e,t=(0,l.c)("common"),c=(0,l.c)("tools.stamps"),[d,u]=(0,a.useState)({file:null,blobUrl:null,viewerReady:!1}),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),x=(0,a.useRef)(null);(0,a.useEffect)(()=>()=>{d.blobUrl&&URL.revokeObjectURL(d.blobUrl)},[d.blobUrl]);let f=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];d.blobUrl&&URL.revokeObjectURL(d.blobUrl);let t=URL.createObjectURL(r);u({file:r,blobUrl:t,viewerReady:!1}),h(null)}},[d.blobUrl]),v=(0,a.useCallback)(e=>h(e),[]),b=(0,a.useCallback)(()=>{setTimeout(()=>u(e=>({...e,viewerReady:!0})),1500)},[]),w=(0,a.useCallback)(async()=>{if(!d.viewerReady||!x.current)return void h(c("viewerNotReady")||"Viewer not ready.");try{g(!0);let r=x.current.contentWindow,t=null==r?void 0:r.PDFViewerApplication;if(null==t?void 0:t.pdfDocument){var e;let r=await t.pdfDocument.saveDocument(),s=new Blob([r],{type:"application/pdf"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="stamped_".concat((null==(e=d.file)?void 0:e.name)||"document.pdf"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}else h(c("saveFailed")||"PDF not loaded.");g(!1)}catch(e){console.error("Save failed:",e),h(c("saveFailed")||"Failed to save."),g(!1)}},[d.viewerReady,d.file,c]),j=(0,a.useCallback)(()=>{d.blobUrl&&URL.revokeObjectURL(d.blobUrl),u({file:null,blobUrl:null,viewerReady:!1}),h(null)},[d.blobUrl]),y=d.blobUrl?"/pdfjs-annotation-viewer/web/viewer.html?file=".concat(encodeURIComponent(d.blobUrl)):null;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(r).trim(),children:[!d.file&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:f,onError:v,disabled:p,label:c("uploadLabel")||"Upload PDF File",description:c("uploadDescription")||"Drag and drop a PDF file here."}),m&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:m})}),d.file&&y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-8 h-8 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:d.file.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[(d.file.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:j,disabled:p,children:t("buttons.remove")||"Remove"})]})}),(0,s.jsx)(n.Zp,{variant:"outlined",className:"bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:c("instructionsTitle")||"How to Add Stamps"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-600",children:[(0,s.jsx)("li",{children:c("instruction1")||"Click the Stamp tool in the toolbar"}),(0,s.jsx)("li",{children:c("instruction2")||"Click Add image to upload your stamp"}),(0,s.jsx)("li",{children:c("instruction3")||"Click on the PDF to place the stamp"}),(0,s.jsx)("li",{children:c("instruction4")||"Drag to resize or reposition"}),(0,s.jsx)("li",{children:c("instruction5")||"Click Save Stamped PDF when done"})]})]})]})}),(0,s.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,s.jsx)("iframe",{ref:x,src:y,onLoad:b,className:"w-full bg-gray-100",style:{height:"700px",border:"none"},title:"PDF Stamp Editor"})}),(0,s.jsx)(n.Zp,{variant:"outlined",children:(0,s.jsx)(i.$,{variant:"primary",size:"lg",onClick:w,disabled:!d.viewerReady||p,loading:p,children:p?t("status.processing")||"Processing...":c("saveButton")||"Save Stamped PDF"})})]})]})}},94188:(e,r,t)=>{"use strict";t.d(r,{io:()=>c});var s=t(78752),a=t(18365),l=t(32096);let o={rows:2,cols:2,pageSize:"A4",orientation:"auto",overlap:0,scalingMode:"fit",pageRange:""},i={A4:[595.28,841.89],Letter:[612,792],Legal:[612,1008],A3:[841.89,1190.55]};class n extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,n={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required.","Received ".concat(t.length," file(s)."));if(n.rows<1||n.cols<1)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Invalid grid dimensions.","Rows and columns must be at least 1.");try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file first.");throw e}let c=e.getPages(),d=c.length;if(this.updateProgress(15,"Source PDF has ".concat(d," pages.")),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let u=function(e,r){if(!e||""===e.trim())return Array.from({length:r},(e,r)=>r);let t=new Set;for(let s of e.split(",")){let e=s.trim();if(e)if(e.includes("-")){let[s,a]=e.split("-"),l=parseInt(s.trim(),10),o=parseInt(a.trim(),10);if(!isNaN(l)&&!isNaN(o))for(let e=Math.max(1,l);e<=Math.min(r,o);e++)t.add(e-1)}else{let s=parseInt(e,10);!isNaN(s)&&s>=1&&s<=r&&t.add(s-1)}}return Array.from(t).sort((e,r)=>e-r)}(n.pageRange,d);if(0===u.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"No valid pages to process.","Please check your page range.");let[m,h]=i[n.pageSize];this.updateProgress(20,"Creating posterized PDF...");let p=await r.PDFDocument.create(),{rows:g,cols:x,overlap:f,scalingMode:v}=n,b=g*x,w=u.length*b,j=70/w,y=0;for(let r of u){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let{width:t,height:a}=c[r].getSize(),l=n.orientation;"auto"===l&&(l=t>a?"landscape":"portrait");let o=m,i=h;"landscape"===l&&o<i?[o,i]=[i,o]:"portrait"===l&&o>i&&([o,i]=[i,o]);let d=t/x,u=a/g;for(let s=0;s<g;s++)for(let l=0;l<x;l++){y++,this.updateProgress(20+y*j,"Creating tile ".concat(y," of ").concat(w,"..."));let n=l*d-(l>0?f:0),c=a-(s+1)*u-(s>0?f:0),m=d+(l>0?f:0)+(l<x-1?f:0),h=u+(s>0?f:0)+(s<g-1?f:0),[b]=await p.copyPages(e,[r]);b.setCropBox(Math.max(0,n),Math.max(0,c),Math.min(m,t-n),Math.min(h,a-c));let P=p.addPage([o,i]),N=await p.embedPage(b,{left:Math.max(0,n),bottom:Math.max(0,c),right:Math.min(n+m,t),top:Math.min(c+h,a)}),k=o/N.width,S=i/N.height,C="fit"===v?Math.min(k,S):Math.max(k,S),F=N.width*C,E=N.height*C,D=(o-F)/2,A=(i-E)/2;P.drawPage(N,{x:D,y:A,width:F,height:E})}}this.updateProgress(90,"Saving PDF...");let P=await p.save({useObjectStreams:!0}),N=new Blob([new Uint8Array(P)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let k=function(e,r,t){let s=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(s,"_posterized_").concat(r,"x").concat(t,".pdf")}(a.name,g,x);return this.createSuccessOutput(N,k,{originalPageCount:d,processedPageCount:u.length,outputTileCount:w,gridSize:"".concat(g,"x").concat(x)})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to posterize PDF.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function c(e,r,t){return new n().process({files:[e],options:r},t)}},94465:(e,r,t)=>{"use strict";t.d(r,{a:()=>n});var s=t(95155),a=t(12115),l=t(47650);let o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},i=e=>Array.from(e.querySelectorAll('button:not([disabled]), a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')),n=(0,a.forwardRef)((e,r)=>{let{isOpen:t,onClose:n,title:c,children:d,size:u="md",closeOnOverlayClick:m=!0,closeOnEscape:h=!0,className:p="",...g}=e,x=(0,a.useRef)(null),f=(0,a.useRef)(null),v=(0,a.useCallback)(e=>{if("Escape"===e.key&&h)return void n();if("Tab"===e.key&&x.current){let r=i(x.current),t=r[0],s=r[r.length-1];e.shiftKey?document.activeElement===t&&(e.preventDefault(),null==s||s.focus()):document.activeElement===s&&(e.preventDefault(),null==t||t.focus())}},[h,n]);if((0,a.useEffect)(()=>{if(t&&(f.current=document.activeElement,document.addEventListener("keydown",v),document.body.style.overflow="hidden",x.current)){let e=i(x.current);e.length>0?e[0].focus():x.current.focus()}return()=>{document.removeEventListener("keydown",v),document.body.style.overflow="",f.current&&f.current.focus()}},[t,v]),!t)return null;let b=(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"presentation",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 transition-opacity duration-[var(--transition-normal)]",onClick:e=>{m&&e.target===e.currentTarget&&n()},"aria-hidden":"true"}),(0,s.jsxs)("div",{ref:e=>{x.current=e,"function"==typeof r?r(e):r&&(r.current=e)},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",tabIndex:-1,className:"\n            relative z-10 w-full ".concat(o[u],"\n            bg-[hsl(var(--color-card))]\n            rounded-[var(--radius-lg)]\n            shadow-[var(--shadow-xl)]\n            transform transition-all duration-[var(--transition-normal)]\n            ").concat(p,"\n          ").trim(),...g,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-[hsl(var(--color-border))]",children:[(0,s.jsx)("h2",{id:"modal-title",className:"text-lg font-semibold text-[hsl(var(--color-card-foreground))]",children:c}),(0,s.jsx)("button",{type:"button",onClick:n,className:" p-1 rounded-[var(--radius-sm)] text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))] hover:bg-[hsl(var(--color-muted))] focus:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--color-ring))] transition-colors duration-[var(--transition-fast)] ","aria-label":"Close modal",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,s.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,s.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,s.jsx)("div",{className:"p-4 text-[hsl(var(--color-card-foreground))]",children:d})]})]});return"undefined"!=typeof document?(0,l.createPortal)(b,document.body):null});n.displayName="Modal"},95100:(e,r,t)=>{"use strict";t.d(r,{qe:()=>n});var s=t(78752),a=t(18365),l=t(32096);let o={angle:90};class i extends a.A{async process(e,r){this.reset(),this.onProgress=r;let{files:t,options:a}=e,i={...o,...a};if(1!==t.length)return this.createErrorOutput(s.GS.INVALID_OPTIONS,"Exactly 1 PDF file is required for rotation.","Received ".concat(t.length," file(s)."));try{let e;this.updateProgress(5,"Loading PDF library...");let r=await (0,l.Ck)();if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");this.updateProgress(10,"Loading source PDF...");let a=t[0],o=await a.arrayBuffer();try{e=await r.PDFDocument.load(o,{ignoreEncryption:!0})}catch(e){if(e instanceof Error&&e.message.includes("encrypt"))return this.createErrorOutput(s.GS.PDF_ENCRYPTED,"The PDF file is encrypted.","Please decrypt the file before rotating pages.");throw e}let n=e.getPageCount();if(this.updateProgress(20,"Source PDF has ".concat(n," pages.")),this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let c=function(e,r){let t=new Map;return e.rotations?e.rotations instanceof Map?e.rotations.forEach((e,r)=>{t.set(r,e)}):Object.entries(e.rotations).forEach(e=>{let[r,s]=e;t.set(parseInt(r,10),s)}):void 0!==e.angle&&0!==e.angle&&(e.pages||Array.from({length:r},(e,r)=>r+1)).forEach(r=>{t.set(r,e.angle)}),t}(i,n);for(let e of c.keys())if(e<1||e>n)return this.createErrorOutput(s.GS.INVALID_PAGE_RANGE,"Page ".concat(e," is out of range."),"The PDF has ".concat(n," pages."));this.updateProgress(30,"Creating rotated PDF...");let d=await r.PDFDocument.create(),u=60/n;for(let t=0;t<n;t++){if(this.checkCancelled())return this.createErrorOutput(s.GS.PROCESSING_CANCELLED,"Processing was cancelled.");let a=t+1,l=c.get(a)||0;this.updateProgress(30+t*u,"Processing page ".concat(a,"..."));let o=e.getPage(t),i=o.getRotation().angle,n=function(e){let r=e%360;return r<0&&(r+=360),r}(i+l);if(n%90==0){let[s]=await d.copyPages(e,[t]);s.setRotation(r.degrees(n)),d.addPage(s)}else{let e=await d.embedPage(o),{width:t,height:s}=e.scale(1),a=n*Math.PI/180,l=Math.abs(Math.cos(a)),i=Math.abs(Math.sin(a)),c=t*l+s*i,u=t*i+s*l,m=d.addPage([c,u]),h=c/2-(t/2*Math.cos(a)-s/2*Math.sin(a)),p=u/2-(t/2*Math.sin(a)+s/2*Math.cos(a));m.drawPage(e,{x:h,y:p,width:t,height:s,rotate:r.degrees(n)})}}this.updateProgress(90,"Saving rotated PDF...");let m=await d.save({useObjectStreams:!0}),h=new Blob([new Uint8Array(m)],{type:"application/pdf"});this.updateProgress(100,"Complete!");let p=function(e){let r=function(e){let r=e.lastIndexOf(".");return -1===r?e:e.slice(0,r)}(e);return"".concat(r,"_rotated.pdf")}(a.name);return this.createSuccessOutput(h,p,{pageCount:n,rotatedPages:c.size})}catch(e){return this.createErrorOutput(s.GS.PROCESSING_FAILED,"Failed to rotate PDF pages.",e instanceof Error?e.message:"Unknown error")}}getAcceptedTypes(){return["application/pdf"]}}async function n(e,r,t){return new i().process({files:[e],options:r},t)}},96429:(e,r,t)=>{"use strict";t.r(r),t.d(r,{PageDimensionsTool:()=>m,default:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(81314);function m(e){var r;let{className:t=""}=e,m=(0,l.c)("common"),h=(0,l.c)("tools"),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)("idle"),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(""),[y,P]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)("pt"),D=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{e.length>0&&(g(e[0]),C(null),P(null),k(null))},[]),O=(0,a.useCallback)(e=>{C(e)},[]),L=(0,a.useCallback)(()=>{g(null),P(null),C(null),f("idle"),b(0),k(null)},[]),I=(0,a.useCallback)(async()=>{if(!p)return void C("Please select a PDF file to analyze.");D.current=!1,f("processing"),b(0),C(null),P(null),k(null);try{var e,r;let t=await (0,u.bL)(p,{displayUnit:F},(e,r)=>{D.current||(b(e),j(r||""))});if(D.current)return void f("idle");t.success&&t.result?(P(t.result),f("complete"),(null==(e=t.metadata)?void 0:e.result)&&k(t.metadata.result)):(C((null==(r=t.error)?void 0:r.message)||"Failed to analyze PDF page dimensions."),f("error"))}catch(e){D.current||(C(e instanceof Error?e.message:"An unexpected error occurred."),f("error"))}},[p,F]),R=(0,a.useCallback)(()=>{D.current=!0,f("idle"),b(0)},[]),z=(e,r)=>{switch(F){case"pt":default:return"".concat("width"===r?e.widthPt:e.heightPt," pt");case"in":return"".concat("width"===r?e.widthIn:e.heightIn," in");case"mm":return"".concat("width"===r?e.widthMm:e.heightMm," mm")}},T="processing"===x,M=p&&!T;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:A,onError:O,disabled:T,label:h("pageDimensions.uploadLabel")||"Upload PDF File",description:h("pageDimensions.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:S})}),p&&(0,s.jsx)(d.Zp,{variant:"outlined",size:"lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:p.name}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:(r=p.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(2)," MB")})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:L,disabled:T,children:m("buttons.remove")||"Remove"})]})}),p&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pageDimensions.displayOptions")||"Display Options"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-2",children:h("pageDimensions.unitLabel")||"Measurement Unit"}),(0,s.jsx)("div",{className:"flex gap-2",children:["pt","in","mm"].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>E(e),disabled:T,className:"\n                    px-4 py-2 rounded-[var(--radius-md)] border text-sm font-medium\n                    transition-colors duration-200\n                    ".concat(F===e?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary))] text-[hsl(var(--color-primary-foreground))]":"border-[hsl(var(--color-border))] hover:bg-[hsl(var(--color-muted)/0.5)]","\n                    disabled:opacity-50 disabled:cursor-not-allowed\n                  "),children:["pt"===e&&(h("pageDimensions.unitPoints")||"Points"),"in"===e&&(h("pageDimensions.unitInches")||"Inches"),"mm"===e&&(h("pageDimensions.unitMm")||"Millimeters")]},e))})]})]}),T&&(0,s.jsx)(i.r,{progress:v,status:x,message:w,onCancel:R,showPercentage:!0}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:I,disabled:!M,loading:T,children:T?m("status.processing")||"Processing...":h("pageDimensions.analyzeButton")||"Analyze Dimensions"}),y&&(0,s.jsx)(n.f,{file:y,filename:p?"".concat(p.name.replace(".pdf",""),"_dimensions.json"):"dimensions.json",variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===x&&N&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pageDimensions.summary")||"Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.totalPages")||"Total Pages"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-[hsl(var(--color-foreground))]",children:N.pageCount})]}),(0,s.jsxs)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.uniqueSizes")||"Unique Sizes"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-[hsl(var(--color-foreground))]",children:N.uniqueSizes.length})]}),(0,s.jsxs)("div",{className:"p-3 rounded-[var(--radius-sm)] bg-[hsl(var(--color-muted)/0.3)] col-span-2",children:[(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.uniformSize")||"Uniform Size"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-[hsl(var(--color-foreground))]",children:N.uniformSize?h("pageDimensions.yes")||"Yes":h("pageDimensions.no")||"No"})]})]})]}),N.uniqueSizes.length>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pageDimensions.sizeDistribution")||"Size Distribution"}),(0,s.jsx)("div",{className:"space-y-2",children:N.uniqueSizes.map((e,r)=>{let[t,a]=e.size.split("x").map(Number),l=N.pages.find(e=>Math.round(e.widthPt)===t&&Math.round(e.heightPt)===a);return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-[var(--radius-sm)] bg-[hsl(var(--color-muted)/0.2)]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:(null==l?void 0:l.standardSize)||"".concat(e.size," pt")}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[e.count," ",1===e.count?"page":"pages",e.pages.length<=5&&" (".concat(e.pages.join(", "),")")]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-foreground))]",children:[l&&z(l,"width")," \xd7 ",l&&z(l,"height")]})})]},r)})})]}),(0,s.jsxs)(d.Zp,{variant:"outlined",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:h("pageDimensions.pageDetails")||"Page Details"}),(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-[hsl(var(--color-border))]",children:[(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.page")||"Page"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.width")||"Width"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.height")||"Height"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.orientation")||"Orientation"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 font-medium text-[hsl(var(--color-muted-foreground))]",children:h("pageDimensions.standardSize")||"Standard Size"})]})}),(0,s.jsx)("tbody",{children:N.pages.slice(0,50).map(e=>(0,s.jsxs)("tr",{className:"border-b border-[hsl(var(--color-border)/0.5)] hover:bg-[hsl(var(--color-muted)/0.2)]",children:[(0,s.jsx)("td",{className:"py-2 px-3 text-[hsl(var(--color-foreground))]",children:e.pageNumber}),(0,s.jsx)("td",{className:"py-2 px-3 text-[hsl(var(--color-foreground))]",children:z(e,"width")}),(0,s.jsx)("td",{className:"py-2 px-3 text-[hsl(var(--color-foreground))]",children:z(e,"height")}),(0,s.jsx)("td",{className:"py-2 px-3 text-[hsl(var(--color-foreground))] capitalize",children:e.orientation}),(0,s.jsx)("td",{className:"py-2 px-3 text-[hsl(var(--color-foreground))]",children:e.standardSize||"-"})]},e.pageNumber))})]}),N.pages.length>50&&(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mt-2 text-center",children:h("pageDimensions.showingFirst50")||"Showing first 50 pages. Download JSON for complete data."})]})]})]})]})}let h=m},97138:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CombineSinglePageTool:()=>h,default:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(30037),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)("vertical"),[O,L]=(0,a.useState)(0),[I,R]=(0,a.useState)("#FFFFFF"),[z,T]=(0,a.useState)(!1),[M,_]=(0,a.useState)(.5),[G,B]=(0,a.useState)("#000000"),U=(0,a.useRef)(!1),W=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages)}catch(e){console.error("Failed to load PDF info:",e),E("Failed to load PDF. The file may be corrupted or encrypted.")}},[]),V=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),W(r)}},[W]),$=(0,a.useCallback)(e=>{E(e)},[]),H=(0,a.useCallback)(()=>{f(null),b(0),C(null),E(null),j("idle"),P(0)},[]),Z=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");U.current=!1,j("processing"),P(0),E(null),C(null);try{let r=await (0,u.ZK)(x,{orientation:D,spacing:O,backgroundColor:I,addSeparator:z,separatorThickness:M,separatorColor:G},(e,r)=>{U.current||(P(e),k(r||""))});if(U.current)return void j("idle");if(r.success&&r.result)C(r.result),j("complete");else{var e;E((null==(e=r.error)?void 0:e.message)||"Failed to combine PDF pages."),j("error")}}catch(e){U.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,D,O,I,z,M,G]),q=(0,a.useCallback)(()=>{U.current=!0,j("idle"),P(0)},[]),K="processing"===w||"uploading"===w,Y=x&&v>0&&!K;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:V,onError:$,disabled:K,label:g("combineSinglePage.uploadLabel")||"Upload PDF File",description:g("combineSinglePage.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:H,disabled:K,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("combineSinglePage.optionsTitle")||"Combine Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"orientation",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("combineSinglePage.orientation")||"Orientation"}),(0,s.jsxs)("select",{id:"orientation",value:D,onChange:e=>A(e.target.value),disabled:K,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"vertical",children:g("combineSinglePage.vertical")||"Vertical (Top to Bottom)"}),(0,s.jsx)("option",{value:"horizontal",children:g("combineSinglePage.horizontal")||"Horizontal (Left to Right)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"spacing",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("combineSinglePage.spacing")||"Page Spacing (points)"}),(0,s.jsx)("input",{type:"number",id:"spacing",value:O,onChange:e=>L(Math.max(0,parseInt(e.target.value)||0)),min:0,max:200,disabled:K,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"backgroundColor",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("combineSinglePage.backgroundColor")||"Background Color"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"color",id:"backgroundColor",value:I,onChange:e=>R(e.target.value),disabled:K,className:"w-12 h-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] cursor-pointer"}),(0,s.jsx)("input",{type:"text",value:I,onChange:e=>R(e.target.value),disabled:K,className:"flex-1 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"addSeparator",checked:z,onChange:e=>T(e.target.checked),disabled:K,className:"w-4 h-4 rounded border-[hsl(var(--color-border))]"}),(0,s.jsx)("label",{htmlFor:"addSeparator",className:"text-sm text-[hsl(var(--color-foreground))]",children:g("combineSinglePage.addSeparator")||"Add separator lines between pages"})]}),z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"separatorThickness",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("combineSinglePage.separatorThickness")||"Separator Thickness (points)"}),(0,s.jsx)("input",{type:"number",id:"separatorThickness",value:M,onChange:e=>_(Math.max(.1,parseFloat(e.target.value)||.5)),min:.1,max:10,step:.1,disabled:K,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"separatorColor",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("combineSinglePage.separatorColor")||"Separator Color"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"color",id:"separatorColor",value:G,onChange:e=>B(e.target.value),disabled:K,className:"w-12 h-10 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] cursor-pointer"}),(0,s.jsx)("input",{type:"text",value:G,onChange:e=>B(e.target.value),disabled:K,className:"flex-1 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})]})]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted))]",children:(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:g("combineSinglePage.previewInfo",{pages:v,orientation:g("vertical"===D?"combineSinglePage.vertical":"combineSinglePage.horizontal")})||"".concat(v," pages will be combined into 1 continuous ").concat("vertical"===D?"vertical":"horizontal"," page.")})})]}),K&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:q,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:Z,disabled:!Y,loading:K,children:K?p("status.processing")||"Processing...":g("combineSinglePage.combineButton")||"Combine Pages"}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_combined.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("combineSinglePage.successMessage")||"Pages combined successfully! Click the download button to save your file."})})]})}let p=h},97455:(e,r,t)=>{"use strict";t.d(r,{PageNumbersTool:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(98045),i=t(5113),n=t(64537),c=t(35437),d=t(31166),u=t(47972),m=t(16459),h=t(32096);function p(e){var r;let{className:t=""}=e,h=(0,l.c)("common"),p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)("bottom-center"),[E,D]=(0,a.useState)("number"),[A,O]=(0,a.useState)("Page {page} of {total}"),[L,I]=(0,a.useState)(1),[R,z]=(0,a.useState)(12),[T,M]=(0,a.useState)("#000000"),[_,G]=(0,a.useState)(30),[B,U]=(0,a.useState)(!1),[W,V]=(0,a.useState)(""),[$,H]=(0,a.useState)(""),[Z,q]=(0,a.useState)("all"),[K,Y]=(0,a.useState)("bottom-right"),[J,X]=(0,a.useState)("bottom-left"),[Q,ee]=(0,a.useState)(0),[er,et]=(0,a.useState)(1),[es,ea]=(0,a.useState)(.5),el=(0,a.useRef)(null),eo=(0,a.useRef)(!1),ei=(0,a.useRef)(null),en=(0,a.useCallback)(async e=>{try{let r=await e.arrayBuffer(),t=await o.getDocument({data:r}).promise;ee(t.numPages),ec(t,1)}catch(e){console.error("Failed to load PDF:",e)}},[]),ec=async(e,r)=>{if(el.current){if(ei.current){try{ei.current.cancel()}catch(e){}ei.current=null}try{let t=await e.getPage(r),s=t.getViewport({scale:1.5}),a=el.current,l=a.getContext("2d");if(!l)return;a.width=s.width,a.height=s.height;let o=t.render({canvasContext:l,viewport:s});ei.current=o,await o.promise,ei.current=null;let i=r%2==1,n=!0;B&&1===r?n=!1:"odd-only"!==Z||i?"even-only"===Z&&i&&(n=!1):n=!1,n&&em(l,s.width,s.height,r,e.numPages,1.5,i)}catch(e){if(e instanceof Error&&e.message.includes("cancelled"))return;console.error("Failed to render page:",e)}}},ed=(e,r)=>{let t=e-1+L,s="";switch(E){case"number":s=String(t);break;case"roman":s=eu(t);break;case"page-of-total":s="Page ".concat(t," of ").concat(r-1+L);break;case"custom":s=A.replace(/{page}/g,String(t)).replace(/{total}/g,String(r-1+L))}return"".concat(W).concat(s).concat($)},eu=e=>{let r="",t=e;for(let[e,s]of[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]])for(;t>=e;)r+=s,t-=e;return r},em=function(e,r,t,s,a){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=!(arguments.length>6)||void 0===arguments[6]||arguments[6],i=ed(s,a),n=R*l,c=_*l;e.font="".concat(n,"px Arial"),e.fillStyle=T;let d=C;"odd-even-different"===Z&&(d=o?K:J);let u=0,m=0;switch(d){case"bottom-center":e.textAlign="center",u=r/2,m=t-c;break;case"bottom-left":e.textAlign="left",u=c,m=t-c;break;case"bottom-right":e.textAlign="right",u=r-c,m=t-c;break;case"top-center":e.textAlign="center",u=r/2,m=c+n;break;case"top-left":e.textAlign="left",u=c,m=c+n;break;case"top-right":e.textAlign="right",u=r-c,m=c+n}let h=e.measureText(i),p=4*l;e.fillStyle="rgba(255, 255, 255, 0.8)",e.fillRect(u-("center"===e.textAlign?h.width/2:"right"===e.textAlign?h.width:0)-p,m-n,h.width+2*p,n+p),e.fillStyle=T,e.fillText(i,u,m)};(0,a.useEffect)(()=>{g&&Q>0&&(async()=>{let e=await g.arrayBuffer();ec(await o.getDocument({data:e}).promise,er)})()},[g,C,E,A,L,R,T,_,B,W,$,er,Q,Z,K,J]);let eh=(0,a.useCallback)(e=>{e.length>0&&(x(e[0]),S(null),N(null),en(e[0]))},[en]),ep=(0,a.useCallback)(()=>{x(null),N(null),S(null),v("idle"),ee(0),et(1)},[]),eg=(0,a.useCallback)(async()=>{if(g){eo.current=!1,v("processing"),w(0),S(null),N(null);try{let r=await (0,m.tJ)(g,{position:C,format:E,startNumber:L,fontSize:R,fontColor:T,margin:_,skipFirstPage:B,prefix:W,suffix:$,customFormat:"custom"===E?A:void 0,pageMode:Z,oddPosition:K,evenPosition:J},(e,r)=>{eo.current||(w(e),y(r||""))});if(r.success&&r.result)N(r.result),v("complete");else{var e;S((null==(e=r.error)?void 0:e.message)||"Failed to add page numbers."),v("error")}}catch(e){S(e instanceof Error?e.message:"An unexpected error occurred."),v("error")}}},[g,C,E,A,L,R,T,_,B,W,$,Z,K,J]),ex="processing"===f;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(t).trim(),children:[!g&&(0,s.jsx)(i.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:eh,onError:S,disabled:ex,label:p("pageNumbers.uploadLabel"),description:p("pageNumbers.uploadDescription")}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),g&&(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3 lg:max-h-[850px] lg:overflow-y-auto lg:pr-2",children:[(0,s.jsx)(u.Zp,{variant:"outlined",className:"p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-8 h-8 text-red-500 shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-sm truncate",children:g.name}),(0,s.jsxs)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:[(r=g.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",Q," pages"]})]})]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:ep,disabled:ex,children:h("buttons.remove")})]})}),(0,s.jsxs)(u.Zp,{variant:"outlined",className:"p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 text-gray-700",children:p("pageNumbers.positionTitle")}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-1.5 mb-4",children:[{value:"top-left",label:"Top Left",icon:"↖"},{value:"top-center",label:"Top Center",icon:"↑"},{value:"top-right",label:"Top Right",icon:"↗"},{value:"bottom-left",label:"Bottom Left",icon:"↙"},{value:"bottom-center",label:"Bottom Center",icon:"↓"},{value:"bottom-right",label:"Bottom Right",icon:"↘"}].map(e=>(0,s.jsxs)("button",{onClick:()=>F(e.value),disabled:ex,className:"\n                      p-2 rounded-md border transition-all text-center\n                      ".concat(C===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300","\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                    "),children:[(0,s.jsx)("span",{className:"text-base",children:e.icon}),(0,s.jsx)("span",{className:"block text-xs",children:e.label})]},e.value))}),(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 text-gray-700",children:p("pageNumbers.formatTitle")}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.style")}),(0,s.jsxs)("select",{value:E,onChange:e=>D(e.target.value),className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex,children:[(0,s.jsx)("option",{value:"number",children:"1, 2, 3..."}),(0,s.jsx)("option",{value:"roman",children:"I, II, III..."}),(0,s.jsx)("option",{value:"page-of-total",children:"Page 1 of N"}),(0,s.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.startNumber")}),(0,s.jsx)("input",{type:"number",value:L,onChange:e=>I(parseInt(e.target.value)||1),min:1,className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex})]})]}),"custom"===E&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.customFormat")}),(0,s.jsx)("input",{type:"text",value:A,onChange:e=>O(e.target.value),placeholder:"Page {page} of {total}",className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:p("pageNumbers.customFormatHint")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.prefix")}),(0,s.jsx)("input",{type:"text",value:W,onChange:e=>V(e.target.value),placeholder:"e.g., Page ",className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.suffix")}),(0,s.jsx)("input",{type:"text",value:$,onChange:e=>H(e.target.value),placeholder:"e.g., -",className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex})]})]}),(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 text-gray-700 pt-2 border-t",children:p("pageNumbers.styleTitle")}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.fontSize")}),(0,s.jsx)("input",{type:"number",value:R,onChange:e=>z(parseInt(e.target.value)||12),min:6,max:72,className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.margin")}),(0,s.jsx)("input",{type:"number",value:_,onChange:e=>G(parseInt(e.target.value)||30),min:10,max:100,className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.color")}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"color",value:T,onChange:e=>M(e.target.value),className:"w-10 h-10 p-0.5 cursor-pointer rounded border border-gray-300",disabled:ex}),(0,s.jsx)("input",{type:"text",value:T,onChange:e=>M(e.target.value),className:"flex-1 px-2 py-1.5 text-sm border rounded-md",disabled:ex})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:B,onChange:e=>U(e.target.checked),className:"w-3.5 h-3.5",disabled:ex}),(0,s.jsx)("span",{className:"text-sm",children:p("pageNumbers.skipFirstPage")})]}),(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-2 text-gray-700",children:p("pageNumbers.oddEvenTitle")}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.pageMode")}),(0,s.jsxs)("select",{value:Z,onChange:e=>q(e.target.value),className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex,children:[(0,s.jsx)("option",{value:"all",children:p("pageNumbers.modeAll")}),(0,s.jsx)("option",{value:"odd-only",children:p("pageNumbers.modeOddOnly")}),(0,s.jsx)("option",{value:"even-only",children:p("pageNumbers.modeEvenOnly")}),(0,s.jsx)("option",{value:"odd-even-different",children:p("pageNumbers.modeDifferent")})]})]}),"odd-even-different"===Z&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.oddPosition")}),(0,s.jsxs)("select",{value:K,onChange:e=>Y(e.target.value),className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex,children:[(0,s.jsx)("option",{value:"bottom-left",children:p("pageNumbers.posBottomLeft")}),(0,s.jsx)("option",{value:"bottom-center",children:p("pageNumbers.posBottomCenter")}),(0,s.jsx)("option",{value:"bottom-right",children:p("pageNumbers.posBottomRight")}),(0,s.jsx)("option",{value:"top-left",children:p("pageNumbers.posTopLeft")}),(0,s.jsx)("option",{value:"top-center",children:p("pageNumbers.posTopCenter")}),(0,s.jsx)("option",{value:"top-right",children:p("pageNumbers.posTopRight")})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:p("pageNumbers.oddPositionHint")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("pageNumbers.evenPosition")}),(0,s.jsxs)("select",{value:J,onChange:e=>X(e.target.value),className:"w-full px-2 py-1.5 text-sm border rounded-md",disabled:ex,children:[(0,s.jsx)("option",{value:"bottom-left",children:p("pageNumbers.posBottomLeft")}),(0,s.jsx)("option",{value:"bottom-center",children:p("pageNumbers.posBottomCenter")}),(0,s.jsx)("option",{value:"bottom-right",children:p("pageNumbers.posBottomRight")}),(0,s.jsx)("option",{value:"top-left",children:p("pageNumbers.posTopLeft")}),(0,s.jsx)("option",{value:"top-center",children:p("pageNumbers.posTopCenter")}),(0,s.jsx)("option",{value:"top-right",children:p("pageNumbers.posTopRight")})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:p("pageNumbers.evenPositionHint")})]})]}),"odd-even-different"===Z&&(0,s.jsx)("div",{className:"p-2 bg-blue-50 rounded text-sm text-blue-700",children:(0,s.jsx)("p",{children:p("pageNumbers.differentModeHint")})})]})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:p("pageNumbers.preview")}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>et(e=>Math.max(1,e-1)),disabled:er<=1,children:"←"}),(0,s.jsx)("span",{className:"text-sm",children:p("pageNumbers.pageOf",{current:er,total:Q})}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>et(e=>Math.min(Q,e+1)),disabled:er>=Q,children:"→"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>ea(e=>Math.max(.5,e-.25)),disabled:es<=.5,title:p("pageNumbers.zoomOut"),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),(0,s.jsxs)("span",{className:"text-sm min-w-[60px] text-center",children:[Math.round(100*es),"%"]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>ea(e=>Math.min(2,e+.25)),disabled:es>=2,title:p("pageNumbers.zoomIn"),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>ea(.5),disabled:.5===es,title:p("pageNumbers.zoomReset"),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,s.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-[var(--radius-md)] p-4 overflow-auto",style:{maxHeight:"600px",minHeight:"500px"},children:(0,s.jsx)("div",{className:"flex justify-center",style:{transform:"scale(".concat(es,")"),transformOrigin:"top center",minHeight:es<1?"auto":void 0},children:(0,s.jsx)("canvas",{ref:el,className:"shadow-lg bg-white"})})}),(0,s.jsx)("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 mt-4",children:B&&1===er?p("pageNumbers.firstPageSkipped"):p("pageNumbers.previewText",{text:ed(er,Q)})})]})})]}),ex&&(0,s.jsx)(n.r,{progress:b,status:f,message:j,onCancel:()=>{eo.current=!0,v("idle")},showPercentage:!0}),g&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(d.$,{variant:"primary",size:"lg",onClick:eg,disabled:!g||ex,loading:ex,children:ex?h("status.processing"):p("pageNumbers.addButton")}),P&&(0,s.jsx)(c.f,{file:P,filename:g.name.replace(".pdf","_numbered.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===f&&P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p("pageNumbers.successMessage")})})]})}o.GlobalWorkerOptions.workerSrc||(0,h.Ek)(o)},99266:(e,r,t)=>{"use strict";t.d(r,{PosterizePDFTool:()=>h});var s=t(95155),a=t(12115),l=t(18955),o=t(5113),i=t(64537),n=t(35437),c=t(31166),d=t(47972),u=t(94188),m=t(32096);function h(e){var r;let{className:h=""}=e,p=(0,l.c)("common"),g=(0,l.c)("tools"),[x,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)("idle"),[y,P]=(0,a.useState)(0),[N,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[F,E]=(0,a.useState)(null),[D,A]=(0,a.useState)(2),[O,L]=(0,a.useState)(2),[I,R]=(0,a.useState)("A4"),[z,T]=(0,a.useState)("auto"),[M,_]=(0,a.useState)(0),[G,B]=(0,a.useState)("mm"),[U,W]=(0,a.useState)("fit"),[V,$]=(0,a.useState)(""),H=(0,a.useRef)(!1),Z=(0,a.useCallback)(async e=>{try{let r=await Promise.resolve().then(t.bind(t,98045));(0,m.Ek)(r);let s=await e.arrayBuffer(),a=await r.getDocument({data:s}).promise;b(a.numPages)}catch(e){console.error("Failed to load PDF info:",e),E("Failed to load PDF. The file may be corrupted or encrypted.")}},[]),q=(0,a.useCallback)(e=>{if(e.length>0){let r=e[0];f(r),E(null),C(null),Z(r)}},[Z]),K=(0,a.useCallback)(e=>{E(e)},[]),Y=(0,a.useCallback)(()=>{f(null),b(0),C(null),E(null),j("idle"),P(0)},[]),J=(0,a.useCallback)(()=>{switch(G){case"mm":return 72/25.4*M;case"in":return 72*M;default:return M}},[M,G]),X=(0,a.useCallback)(async()=>{if(!x)return void E("Please upload a PDF file first.");H.current=!1,j("processing"),P(0),E(null),C(null);let e={rows:D,cols:O,pageSize:I,orientation:z,overlap:J(),scalingMode:U,pageRange:V};try{let t=await (0,u.io)(x,e,(e,r)=>{H.current||(P(e),k(r||""))});if(H.current)return void j("idle");if(t.success&&t.result)C(t.result),j("complete");else{var r;E((null==(r=t.error)?void 0:r.message)||"Failed to posterize PDF."),j("error")}}catch(e){H.current||(E(e instanceof Error?e.message:"An unexpected error occurred."),j("error"))}},[x,D,O,I,z,J,U,V]),Q=(0,a.useCallback)(()=>{H.current=!0,j("idle"),P(0)},[]),ee="processing"===w||"uploading"===w,er=x&&v>0&&!ee,et=D*O*v;return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!x&&(0,s.jsx)(o.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:q,onError:K,disabled:ee,label:g("posterizePdf.uploadLabel")||"Upload PDF File",description:g("posterizePdf.uploadDescription")||"Drag and drop a PDF file here, or click to browse."}),F&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",role:"alert",children:(0,s.jsx)("p",{className:"text-sm",children:F})}),x&&(0,s.jsx)(d.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("svg",{className:"w-10 h-10 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,s.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,s.jsx)("path",{d:"M14 2v6h6",fill:"white"}),(0,s.jsx)("text",{x:"7",y:"17",fontSize:"6",fill:"white",fontWeight:"bold",children:"PDF"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-[hsl(var(--color-foreground))]",children:x.name}),(0,s.jsxs)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:[(r=x.size)<1024?"".concat(r," B"):r<1048576?"".concat((r/1024).toFixed(1)," KB"):"".concat((r/1048576).toFixed(1)," MB")," • ",v," ",1===v?"page":"pages"]})]})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:Y,disabled:ee,children:p("buttons.remove")||"Remove"})]})}),x&&v>0&&(0,s.jsxs)(d.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))] mb-4",children:g("posterizePdf.optionsTitle")||"Posterize Options"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"rows",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.rows")||"Rows"}),(0,s.jsx)("input",{type:"number",id:"rows",min:1,max:10,value:D,onChange:e=>A(Math.max(1,Math.min(10,parseInt(e.target.value)||1))),disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"cols",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.cols")||"Columns"}),(0,s.jsx)("input",{type:"number",id:"cols",min:1,max:10,value:O,onChange:e=>L(Math.max(1,Math.min(10,parseInt(e.target.value)||1))),disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"pageSize",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.pageSize")||"Output Page Size"}),(0,s.jsxs)("select",{id:"pageSize",value:I,onChange:e=>R(e.target.value),disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"A4",children:"A4"}),(0,s.jsx)("option",{value:"Letter",children:"Letter"}),(0,s.jsx)("option",{value:"Legal",children:"Legal"}),(0,s.jsx)("option",{value:"A3",children:"A3"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"orientation",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.orientation")||"Orientation"}),(0,s.jsxs)("select",{id:"orientation",value:z,onChange:e=>T(e.target.value),disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"auto",children:p("options.auto")||"Auto"}),(0,s.jsx)("option",{value:"portrait",children:p("options.portrait")||"Portrait"}),(0,s.jsx)("option",{value:"landscape",children:p("options.landscape")||"Landscape"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"overlap",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.overlap")||"Overlap"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"number",id:"overlap",min:0,max:100,value:M,onChange:e=>_(Math.max(0,parseFloat(e.target.value)||0)),disabled:ee,className:"flex-1 px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"}),(0,s.jsxs)("select",{value:G,onChange:e=>B(e.target.value),disabled:ee,className:"w-20 px-2 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"mm",children:"mm"}),(0,s.jsx)("option",{value:"in",children:"in"}),(0,s.jsx)("option",{value:"pt",children:"pt"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"scalingMode",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.scalingMode")||"Scaling Mode"}),(0,s.jsxs)("select",{id:"scalingMode",value:U,onChange:e=>W(e.target.value),disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:[(0,s.jsx)("option",{value:"fit",children:g("posterizePdf.fit")||"Fit (preserve aspect ratio)"}),(0,s.jsx)("option",{value:"fill",children:g("posterizePdf.fill")||"Fill (may crop)"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2 lg:col-span-3",children:[(0,s.jsx)("label",{htmlFor:"pageRange",className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:g("posterizePdf.pageRange")||"Page Range (optional)"}),(0,s.jsx)("input",{type:"text",id:"pageRange",value:V,onChange:e=>$(e.target.value),placeholder:g("posterizePdf.pageRangePlaceholder")||"e.g., 1-5, 8, 10-15 (leave empty for all pages)",disabled:ee,className:"w-full px-3 py-2 rounded-[var(--radius-md)] border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})]}),(0,s.jsx)("div",{className:"mt-4 p-3 rounded-[var(--radius-md)] bg-[hsl(var(--color-muted))]",children:(0,s.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:g("posterizePdf.previewInfo",{rows:D,cols:O,total:D*O})||"Each page will be split into ".concat(D,"\xd7").concat(O," = ").concat(D*O," tiles. Total output: ").concat(et," pages.")})})]}),ee&&(0,s.jsx)(i.r,{progress:y,status:w,message:N,onCancel:Q,showPercentage:!0}),x&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(c.$,{variant:"primary",size:"lg",onClick:X,disabled:!er,loading:ee,children:ee?p("status.processing")||"Processing...":g("posterizePdf.createButton")||"Posterize PDF"}),S&&(0,s.jsx)(n.f,{file:S,filename:x.name.replace(".pdf","_posterized_".concat(D,"x").concat(O,".pdf")),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===w&&S&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",role:"status",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g("posterizePdf.successMessage")||"PDF posterized successfully! Click the download button to save your file."})})]})}},99497:(e,r,t)=>{"use strict";t.d(r,{FormCreatorTool:()=>p});var s=t(95155),a=t(12115),l=t(18955),o=t(98045),i=t(5113),n=t(64537),c=t(35437),d=t(31166),u=t(47972),m=t(68544),h=t(32096);function p(e){var r,t;let{className:h=""}=e;(0,l.c)("common");let p=(0,l.c)("tools"),[g,x]=(0,a.useState)(null),[f,v]=(0,a.useState)("idle"),[b,w]=(0,a.useState)(0),[j,y]=(0,a.useState)(""),[P,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[C,F]=(0,a.useState)([]),[E,D]=(0,a.useState)(null),[A,O]=(0,a.useState)("select"),[L,I]=(0,a.useState)(0),[R,z]=(0,a.useState)(1),[T,M]=(0,a.useState)({width:0,height:0}),[_,G]=(0,a.useState)(1),[B,U]=(0,a.useState)(!1),[W,V]=(0,a.useState)(!1),[$,H]=(0,a.useState)({x:0,y:0}),[Z,q]=(0,a.useState)({x:0,y:0}),K=(0,a.useRef)(null),Y=(0,a.useRef)(null),J=(0,a.useRef)(!1),X=(0,a.useRef)(null),Q=(0,a.useCallback)(async e=>{try{let r=await e.arrayBuffer(),t=await o.getDocument({data:r}).promise;X.current=t,I(t.numPages),z(1),ee(t,1)}catch(e){console.error("Failed to load PDF:",e),S("Failed to load PDF file.")}},[]),ee=async(e,r)=>{if(K.current)try{var t;let s=await e.getPage(r),a=s.getViewport({scale:1}),l=(null==(t=Y.current)?void 0:t.clientWidth)||600,o=Math.min(l/a.width,1);G(o);let i=s.getViewport({scale:o});M({width:i.width,height:i.height});let n=K.current,c=n.getContext("2d");if(!c)return;n.width=i.width,n.height=i.height,await s.render({canvasContext:c,viewport:i}).promise}catch(e){console.error("Failed to render page:",e)}};(0,a.useEffect)(()=>{X.current&&R>0&&ee(X.current,R)},[R]);let er=(0,a.useCallback)(e=>{if("select"===A||!K.current)return;let r=K.current.getBoundingClientRect(),t=(e.clientX-r.left)/_,s=(e.clientY-r.top)/_,a=T.height/_-s,l={text:{width:200,height:24},checkbox:{width:20,height:20},dropdown:{width:200,height:24},radio:{width:20,height:20}},o={id:"field_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),type:A,name:"".concat(A,"_").concat(C.filter(e=>e.type===A).length+1),pageNumber:R,x:t,y:a,width:l[A].width,height:l[A].height,options:"dropdown"===A||"radio"===A?["Option 1","Option 2","Option 3"]:void 0};F(e=>[...e,o]),D(o.id),O("select")},[A,R,C,T,_]),et=(0,a.useCallback)((e,r)=>{e.stopPropagation(),"select"===A&&D(r)},[A]),es=(0,a.useCallback)(function(e,r){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.stopPropagation(),e.preventDefault(),"select"!==A)return;let s=C.find(e=>e.id===r);s&&(D(r),H({x:e.clientX,y:e.clientY}),q({x:s.x,y:s.y}),t?V(!0):U(!0))},[A,C]);(0,a.useEffect)(()=>{let e=e=>{if(!B&&!W||!E)return;let r=(e.clientX-$.x)/_,t=(e.clientY-$.y)/_;F(e=>e.map(e=>e.id!==E?e:W?{...e,width:Math.max(20,e.width+r),height:Math.max(20,e.height+t)}:{...e,x:Z.x+r,y:Z.y-t})),H({x:e.clientX,y:e.clientY}),W||q(e=>({x:e.x+r,y:e.y-t}))},r=()=>{U(!1),V(!1)};return(B||W)&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",r)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",r)}},[B,W,E,$,Z,_]);let ea=(0,a.useCallback)(()=>{E&&(F(e=>e.filter(e=>e.id!==E)),D(null))},[E]),el=(0,a.useCallback)(e=>{E&&F(r=>r.map(r=>r.id===E?{...r,...e}:r))},[E]),eo=(0,a.useCallback)(e=>{e.length>0&&(x(e[0]),S(null),N(null),F([]),D(null),Q(e[0]))},[Q]),ei=(0,a.useCallback)(()=>{x(null),N(null),S(null),v("idle"),F([]),D(null),I(0),z(1),X.current=null},[]),en=(0,a.useCallback)(async()=>{if(g&&0!==C.length){J.current=!1,v("processing"),w(0),S(null),N(null);try{let r=C.map(e=>{let{id:r,selected:t,...s}=e;return s}),t=await (0,m.DG)(g,{fields:r},(e,r)=>{J.current||(w(e),y(r||""))});if(t.success&&t.result)N(t.result),v("complete");else{var e;S((null==(e=t.error)?void 0:e.message)||"Failed to create form."),v("error")}}catch(e){S(e instanceof Error?e.message:"An unexpected error occurred."),v("error")}}},[g,C]),ec="processing"===f,ed=C.find(e=>e.id===E),eu=C.filter(e=>e.pageNumber===R),em=[{type:"select",icon:"↖",labelKey:"selectTool"},{type:"text",icon:"T",labelKey:"textFieldTool"},{type:"checkbox",icon:"☑",labelKey:"checkboxTool"},{type:"dropdown",icon:"▼",labelKey:"dropdownTool"},{type:"radio",icon:"◉",labelKey:"radioTool"}],eh=e=>{switch(e){case"text":return"\uD83D\uDCDD";case"checkbox":return"☑";case"dropdown":return"▼";case"radio":return"◉"}};return(0,s.jsxs)("div",{className:"space-y-6 ".concat(h).trim(),children:[!g&&(0,s.jsx)(i.l,{accept:["application/pdf",".pdf"],multiple:!1,maxFiles:1,onFilesSelected:eo,onError:S,disabled:ec,label:p("formCreator.uploadLabel")||"Upload PDF File",description:p("formCreator.uploadDescription")||"Drag and drop a PDF file here."}),k&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-red-50 border border-red-200 text-red-700",children:(0,s.jsx)("p",{className:"text-sm",children:k})}),g&&(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,s.jsx)(u.Zp,{variant:"outlined",size:"sm",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-1 border-r border-gray-200 pr-3 mr-2",children:em.map(e=>(0,s.jsxs)("button",{onClick:()=>O(e.type),className:"\n                        px-3 py-2 rounded-[var(--radius-sm)] text-sm font-medium transition-colors\n                        ".concat(A===e.type?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700","\n                      "),title:p("formCreator.".concat(e.labelKey)),children:[(0,s.jsx)("span",{className:"mr-1",children:e.icon}),(0,s.jsx)("span",{className:"hidden sm:inline",children:p("formCreator.".concat(e.labelKey))})]},e.type))}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>z(e=>Math.max(1,e-1)),disabled:R<=1,children:"←"}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",R," / ",L]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>z(e=>Math.min(L,e+1)),disabled:R>=L,children:"→"})]}),E&&(0,s.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:ea,className:"ml-auto text-red-500 hover:text-red-700",children:["\uD83D\uDDD1 ",p("formCreator.deleteTool")]})]})}),(0,s.jsxs)(u.Zp,{variant:"outlined",size:"sm",children:[(0,s.jsx)("div",{ref:Y,className:"relative bg-gray-100 rounded-[var(--radius-md)] overflow-auto",style:{maxHeight:"600px"},children:(0,s.jsxs)("div",{className:"relative inline-block",onClick:er,style:{cursor:"select"!==A?"crosshair":"default"},children:[(0,s.jsx)("canvas",{ref:K,className:"shadow-lg bg-white"}),eu.map(e=>(0,s.jsxs)("div",{style:(e=>{let r=(T.height/_-e.y)*_;return{position:"absolute",left:e.x*_,top:r-e.height*_,width:e.width*_,height:e.height*_,border:e.id===E?"2px solid #3b82f6":"2px dashed #6b7280",backgroundColor:e.id===E?"rgba(59, 130, 246, 0.1)":"rgba(107, 114, 128, 0.1)",cursor:"select"===A?"move":"default",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",color:"#374151",userSelect:"none"}})(e),onClick:r=>et(r,e.id),onMouseDown:r=>es(r,e.id),children:[(0,s.jsxs)("span",{children:[eh(e.type)," ",e.name]}),e.id===E&&(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-blue-500 cursor-se-resize",onMouseDown:r=>es(r,e.id,!0)})]},e.id))]})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"select"===A?p("formCreator.selectHint"):p("formCreator.addFieldHint",{type:p("formCreator.".concat((null==(r=em.find(e=>e.type===A))?void 0:r.labelKey)||"textFieldTool"))})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(u.Zp,{variant:"outlined",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm truncate",children:g.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[(t=g.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):"".concat((t/1048576).toFixed(1)," MB")," • ",L," pages"]})]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:ei,disabled:ec,children:"✕"})]})}),ed?(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:p("formCreator.fieldProperties")}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.fieldName")}),(0,s.jsx)("input",{type:"text",value:ed.name,onChange:e=>el({name:e.target.value}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.fieldType")}),(0,s.jsxs)("select",{value:ed.type,onChange:e=>el({type:e.target.value}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",children:[(0,s.jsx)("option",{value:"text",children:p("formCreator.textFieldTool")}),(0,s.jsx)("option",{value:"checkbox",children:p("formCreator.checkboxTool")}),(0,s.jsx)("option",{value:"dropdown",children:p("formCreator.dropdownTool")}),(0,s.jsx)("option",{value:"radio",children:p("formCreator.radioTool")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.fieldX")}),(0,s.jsx)("input",{type:"number",value:Math.round(ed.x),onChange:e=>el({x:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.fieldY")}),(0,s.jsx)("input",{type:"number",value:Math.round(ed.y),onChange:e=>el({y:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.fieldWidth")}),(0,s.jsx)("input",{type:"number",value:Math.round(ed.width),onChange:e=>el({width:parseInt(e.target.value)||20}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.fieldHeight")}),(0,s.jsx)("input",{type:"number",value:Math.round(ed.height),onChange:e=>el({height:parseInt(e.target.value)||20}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm"})]})]}),"text"===ed.type&&(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:ed.multiline||!1,onChange:e=>el({multiline:e.target.checked}),className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:p("formCreator.multiline")})]}),("dropdown"===ed.type||"radio"===ed.type)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:p("formCreator.options")}),(0,s.jsx)("textarea",{value:(ed.options||[]).join("\n"),onChange:e=>el({options:e.target.value.split("\n").filter(e=>e.trim())}),className:"w-full px-3 py-2 border rounded-[var(--radius-md)] text-sm",rows:4})]}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",onClick:ea,className:"w-full text-red-500 hover:bg-red-50",children:p("formCreator.deleteField")})]})]}):(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:p("formCreator.fieldProperties")}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:p("formCreator.noFieldSelected")})]}),(0,s.jsxs)(u.Zp,{variant:"outlined",size:"lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-4",children:p("formCreator.allFields",{count:C.length})}),0===C.length?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:p("formCreator.noFieldsYet")}):(0,s.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:C.map(e=>(0,s.jsxs)("div",{onClick:()=>{D(e.id),z(e.pageNumber)},className:"\n                        p-2 rounded-[var(--radius-sm)] cursor-pointer text-sm\n                        flex items-center justify-between\n                        ".concat(e.id===E?"bg-blue-50 border border-blue-200":"bg-gray-50 hover:bg-gray-100","\n                      "),children:[(0,s.jsxs)("span",{children:[eh(e.type)," ",e.name]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:p("formCreator.page",{number:e.pageNumber})})]},e.id))})]})]})]}),ec&&(0,s.jsx)(n.r,{progress:b,status:f,message:j,onCancel:()=>{J.current=!0,v("idle")},showPercentage:!0}),g&&(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsx)(d.$,{variant:"primary",size:"lg",onClick:en,disabled:!g||0===C.length||ec,loading:ec,children:ec?"Processing...":p("formCreator.createButton")||"Create Form"}),P&&(0,s.jsx)(c.f,{file:P,filename:g.name.replace(".pdf","_form.pdf"),variant:"secondary",size:"lg",showFileSize:!0})]}),"complete"===f&&P&&(0,s.jsx)("div",{className:"p-4 rounded-[var(--radius-md)] bg-green-50 border border-green-200 text-green-700",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p("formCreator.successMessage")||"Form created successfully!"})})]})}o.GlobalWorkerOptions.workerSrc||(0,h.Ek)(o)}},e=>{e.O(0,[399,84,326,406,905,526,629,42,441,255,358],()=>e(e.s=39797)),_N_E=e.O()}]);