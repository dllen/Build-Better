"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[909],{52909:(e,t,a)=>{a.r(t),a.d(t,{WorkflowEditor:()=>tm,default:()=>tf});var o=a(95155),l=a(12115),r=a(71482),s=a(44984),i=a(63871),n=a(6546);a(44669);var d=a(18955);function c(e,t){let{adjacencyList:a,inDegree:o}=function(e,t){let a=new Map,o=new Map;return e.forEach(e=>{a.set(e.id,[]),o.set(e.id,0)}),t.forEach(e=>{let t=a.get(e.source)||[];t.push(e.target),a.set(e.source,t);let l=o.get(e.target)||0;o.set(e.target,l+1)}),{adjacencyList:a,inDegree:o}}(e,t),l=[],r=[];for(o.forEach((e,t)=>{0===e&&l.push(t)});l.length>0;){let e=l.shift();for(let t of(r.push(e),a.get(e)||[])){let e=(o.get(t)||0)-1;o.set(t,e),0===e&&l.push(t)}}return r.length!==e.length?null:r}function p(e,t){let a=new Set(t.map(e=>e.target));return e.filter(e=>!a.has(e.id))}function u(e,t){let a=e.data.outputFormat,o=t.data.acceptedFormats,l=a.startsWith(".")?a:".".concat(a);return o.some(e=>{let t=e.toLowerCase(),o=l.toLowerCase();return t===o||t===o.replace(".","")||e.toLowerCase()===a.toLowerCase()})?{isValid:!0}:{isValid:!1,message:'Output format "'.concat(a,'" is not compatible with accepted formats: ').concat(o.join(", "))}}var m=a(78752),f=a(9941),g=a(76285),y=a(95100),b=a(80571),h=a(47431),v=a(6268),x=a(59724),w=a(98530),k=a(25278),K=a(37447),N=a(27467),P=a(8519),T=a(30037),j=a(94188),A=a(72151),F=a(81554),C=a(16459),S=a(85311),z=a(30782),V=a(72398),I=a(14781),E=a(20334),L=a(34744),D=a(23341),R=a(91257),M=a(5421),W=a(19362),Z=a(73391),B=a(90208),O=a(14169),U=a(33164),G=a(33737),J=a(79624),_=a(55092),q=a(15781),H=a(13206),$=a(56772),Y=a(76480),X=a(87888),Q=a(34263),ee=a(8202),et=a(90636),ea=a(78491),eo=a(83820),el=a(71538),er=a(73468),es=a(14239),ei=a(27082),en=a(19089),ed=a(28735),ec=a(29553),ep=a(43769),eu=a(11922);async function em(e,t,o){let l=e.data.toolId,r=e.data.settings||{},s=t.map((e,t)=>{if(e instanceof File)return e;if("blob"in e&&"filename"in e){var a,o,l;let r="application/pdf";return(null==(a=e.filename)?void 0:a.endsWith(".zip"))?r="application/zip":(null==(o=e.filename)?void 0:o.endsWith(".png"))?r="image/png":(null==(l=e.filename)?void 0:l.endsWith(".jpg"))&&(r="image/jpeg"),new File([e.blob],e.filename||"input_".concat(t,".pdf"),{type:r})}return new File([e],"input_".concat(t,".pdf"),{type:"application/pdf"})});try{var i,n,d,c,p,u,em,ef,eg,ey,eb,eh,ev,ex,ew,ek,eK,eN,eP,eT,ej,eA,eF,eC,eS,ez,eV,eI,eE,eL;switch(l){case"merge-pdf":return await (0,f.Oo)(s,{preserveBookmarks:null==(i=r.preserveBookmarks)||i},o);case"split-pdf":{let e;if(0===s.length)throw Error("No input file");let t=s[0],l=r.splitMode||"every",i=r.pagesPerSplit||1,n=await Promise.all([a.e(84),a.e(29)]).then(a.bind(a,98045)),d=await t.arrayBuffer(),c=(await n.getDocument({data:d}).promise).numPages;if("every"===l){e=[];for(let t=0;t<c;t+=i)e.push({start:t+1,end:Math.min(t+i,c)})}else if("ranges"===l&&r.pageRanges)e=(0,g.rP)(r.pageRanges);else{e=[];for(let t=1;t<=c;t++)e.push({start:t,end:t})}return await (0,g.$U)(t,{ranges:e},o)}case"extract-pages":{if(0===s.length)throw Error("No input file");let e=r.pageRange||"1",{parsePageSelection:t}=await Promise.resolve().then(a.bind(a,6268)),l=await Promise.all([a.e(84),a.e(29)]).then(a.bind(a,98045)),i=await s[0].arrayBuffer(),n=(await l.getDocument({data:i}).promise).numPages,d=t(e,n);return await (0,v.ut)(s[0],d,o)}case"delete-pages":{if(0===s.length)throw Error("No input file");let e=r.pageRange||"1",{parsePageSelection:t}=await Promise.resolve().then(a.bind(a,59724)),l=await Promise.all([a.e(84),a.e(29)]).then(a.bind(a,98045)),i=await s[0].arrayBuffer(),n=(await l.getDocument({data:i}).promise).numPages,d=t(e,n);return await (0,x.Gt)(s[0],d,o)}case"rotate-pdf":{if(0===s.length)throw Error("No input file");let e=Number(r.angle)||90;return await (0,y.qe)(s[0],{angle:e},o)}case"alternate-merge":if(s.length<2)throw Error("At least 2 files required");return await (0,w.me)(s,{reverseSecond:null!=(n=r.reverseSecond)&&n},o);case"divide-pages":{if(0===s.length)throw Error("No input file");let e=r.divisionType||"vertical";return await (0,k.cH)(s[0],{divisionType:e},o)}case"add-blank-page":{if(0===s.length)throw Error("No input file");let e=r.position||"end",t=Number(r.count)||1,a=0;return"end"===e?a=-1:isNaN(Number(e))||(a=Number(e)),await (0,K._r)(s[0],a>=0?a:0,t,o)}case"reverse-pages":if(0===s.length)throw Error("No input file");return await (0,N.Xc)(s[0],o);case"n-up-pdf":{if(0===s.length)throw Error("No input file");let e=Number(r.pagesPerSheet)||4,t=[2,4,9,16].includes(e)?e:4,a=r.orientation||"auto";return await (0,P.cU)(s[0],{pagesPerSheet:t,pageSize:r.pageSize||"A4",orientation:a,useMargins:null==(d=r.useMargins)||d,addBorder:null!=(c=r.addBorder)&&c},o)}case"combine-single-page":if(0===s.length)throw Error("No input file");return await (0,T.ZK)(s[0],{orientation:r.orientation||"vertical",spacing:Number(r.spacing)||0,backgroundColor:r.backgroundColor||"#FFFFFF",addSeparator:null!=(p=r.addSeparator)&&p},o);case"posterize-pdf":if(0===s.length)throw Error("No input file");return await (0,j.io)(s[0],{cols:Number(r.columns)||2,rows:Number(r.rows)||2,overlap:Number(r.overlap)||10},o);case"grid-combine":if(0===s.length)throw Error("No input file");return await (0,ed.aw)(s,{gridLayout:r.gridLayout||"2x2",spacing:Number(r.spacing)||10},o);case"edit-metadata":if(0===s.length)throw Error("No input file");return await (0,A.GU)(s[0],{title:r.title||void 0,author:r.author||void 0,subject:r.subject||void 0,keywords:r.keywords?[r.keywords]:void 0},o);case"table-of-contents":if(0===s.length)throw Error("No input file");return await (0,F.Fk)(s[0],{title:r.title||"Table of Contents",fontSize:Number(r.fontSize)||12,fontFamily:r.fontFamily||"helv",addBookmark:null==(u=r.addBookmark)||u},o);case"page-numbers":if(0===s.length)throw Error("No input file");return await (0,C.tJ)(s[0],{position:r.position||"bottom-center",format:r.format||"number",startNumber:Number(r.startNumber)||1,fontSize:Number(r.fontSize)||12,fontColor:r.fontColor||"#000000",margin:Number(r.margin)||30,skipFirstPage:null!=(em=r.skipFirstPage)&&em},o);case"add-watermark":if(0===s.length)throw Error("No input file");return await (0,S.Qm)(s[0],{type:r.watermarkType||"text",text:r.text||"WATERMARK",fontSize:Number(r.fontSize)||48,opacity:Number(r.opacity)||.3,rotation:Number(r.rotation)||-45,color:r.color||"#888888",position:r.position||"center"},o);case"header-footer":if(0===s.length)throw Error("No input file");return await (0,z.wA)(s[0],{headerText:r.headerText||"",footerText:r.footerText||"",fontSize:Number(r.fontSize)||12,fontColor:r.fontColor||"#000000"},o);case"invert-colors":if(0===s.length)throw Error("No input file");return await (0,V.Nu)(s[0],{},o);case"background-color":if(0===s.length)throw Error("No input file");return await (0,I.xn)(s[0],{color:r.color||"#FFFFFF",applyTo:r.applyTo||"all"},o);case"text-color":if(0===s.length)throw Error("No input file");return await (0,E.du)(s[0],{color:r.color||"#000000"},o);case"remove-annotations":if(0===s.length)throw Error("No input file");return await (0,L.LX)(s[0],{removeComments:null==(ef=r.removeComments)||ef,removeHighlights:null==(eg=r.removeHighlights)||eg,removeLinks:null!=(ey=r.removeLinks)&&ey},o);case"remove-blank-pages":if(0===s.length)throw Error("No input file");return await (0,D.tf)(s[0],{threshold:Number(r.threshold)||.99},o);case"jpg-to-pdf":case"png-to-pdf":case"webp-to-pdf":case"bmp-to-pdf":case"heic-to-pdf":case"tiff-to-pdf":case"psd-to-pdf":case"svg-to-pdf":case"image-to-pdf":if(0===s.length)throw Error("No input file");return await (0,R.IJ)(s,{pageSize:r.pageSize||"A4",orientation:r.orientation||"auto",margin:Number(r.margin)||36,centerImage:null==(eb=r.centerImage)||eb,scaleToFit:null==(eh=r.scaleToFit)||eh},o);case"txt-to-pdf":if(0===s.length)throw Error("No input file");return await (0,M.jW)(s[0],{fontSize:Number(r.fontSize)||12,fontFamily:r.fontFamily||"Courier",pageSize:r.pageSize||"A4",margin:Number(r.margin)||50},o);case"json-to-pdf":if(0===s.length)throw Error("No input file");return await (0,W.gz)(s[0],{fontSize:Number(r.fontSize)||10,pageSize:r.pageSize||"A4"},o);case"word-to-pdf":if(0===s.length)throw Error("No input file");return await (0,et.Ch)(s[0],{},o);case"excel-to-pdf":if(0===s.length)throw Error("No input file");return await (0,ea.LT)(s[0],{},o);case"ppt-to-pdf":case"pptx-to-pdf":if(0===s.length)throw Error("No input file");return await (0,eo.qR)(s[0],{},o);case"epub-to-pdf":if(0===s.length)throw Error("No input file");return await (0,el.WG)(s[0],{},o);case"fb2-to-pdf":if(0===s.length)throw Error("No input file");return await (0,er.ci)(s[0],{},o);case"mobi-to-pdf":if(0===s.length)throw Error("No input file");return await (0,es.Pf)(s[0],{},o);case"rtf-to-pdf":if(0===s.length)throw Error("No input file");return await (0,ei.sb)(s[0],{},o);case"xps-to-pdf":if(0===s.length)throw Error("No input file");return await (0,en.xP)(s[0],{},o);case"pdf-to-jpg":case"pdf-to-png":case"pdf-to-webp":case"pdf-to-bmp":case"pdf-to-tiff":{if(0===s.length)throw Error("No input file");let e=l.replace("pdf-to-",""),t=[];if(r.pageRange&&"string"==typeof r.pageRange){let e=r.pageRange.trim();if(e)for(let a of e.split(",").map(e=>e.trim()).filter(e=>e.length>0))if(a.includes("-")){let[e,o]=a.split("-").map(e=>e.trim()),l=parseInt(e,10),r=parseInt(o,10);if(!isNaN(l)&&!isNaN(r)&&l<=r)for(let e=l;e<=r;e++)t.push(e)}else{let e=parseInt(a,10);isNaN(e)||t.push(e)}}let i=await (0,Z.Cr)(s[0],{format:"jpg"===e?"jpeg":e,quality:Number(r.quality)||.92,scale:Number(r.scale)||2,pages:t},o);if(i.success&&Array.isArray(i.result)&&i.result.length>1){let t=new(await Promise.all([a.e(29),a.e(496)]).then(a.t.bind(a,7496,23))).default,o=s[0].name.replace(/\.pdf$/i,""),l="jpg"===e?"jpg":e;i.result.forEach((e,a)=>{t.file("".concat(o,"_page_").concat(a+1,".").concat(l),e)});let r=await t.generateAsync({type:"blob"});return{success:!0,result:r,filename:"".concat(o,"_images.zip"),metadata:{pageCount:i.result.length,format:e}}}return i}case"pdf-to-svg":if(0===s.length)throw Error("No input file");return await (0,B.Sd)(s[0],{},o);case"pdf-to-greyscale":if(0===s.length)throw Error("No input file");return await (0,O.bs)(s[0],{},o);case"pdf-to-json":if(0===s.length)throw Error("No input file");return await (0,U.oU)(s[0],{extractText:null==(ev=r.extractText)||ev,extractMetadata:null==(ex=r.extractMetadata)||ex},o);case"extract-images":if(0===s.length)throw Error("No input file");return await (0,ec.qq)(s[0],{format:r.format||"png",minSize:Number(r.minSize)||100},o);case"compress-pdf":{if(0===s.length)throw Error("No input file");let e=r.quality||"medium";return await (0,b.dM)(s[0],{quality:e},o)}case"flatten-pdf":if(0===s.length)throw Error("No input file");return await (0,h.T5)(s[0],{flattenForms:null==(ew=r.flattenForms)||ew,flattenAnnotations:null==(ek=r.flattenAnnotations)||ek},o);case"fix-page-size":if(0===s.length)throw Error("No input file");return await (0,J.sM)(s[0],{targetSize:r.targetSize||"A4"},o);case"linearize-pdf":if(0===s.length)throw Error("No input file");return await (0,_.ec)(s[0],{},o);case"repair-pdf":if(0===s.length)throw Error("No input file");return await (0,H.OH)(s[0],{},o);case"remove-restrictions":if(0===s.length)throw Error("No input file");return await (0,q.w4)(s[0],{password:r.password||""},o);case"ocr-pdf":if(0===s.length)throw Error("No input file");return await (0,G.j6)(s[0],{language:r.language||"eng"},o);case"encrypt-pdf":if(0===s.length)throw Error("No input file");return await (0,$.Qb)(s[0],{userPassword:r.userPassword||"",ownerPassword:r.ownerPassword||"",permissions:{printing:null==(eK=r.allowPrinting)||eK,copying:null!=(eN=r.allowCopying)&&eN,modifying:null!=(eP=r.allowModifying)&&eP,annotating:null==(eT=r.allowAnnotating)||eT}},o);case"decrypt-pdf":if(0===s.length)throw Error("No input file");return await (0,Y.WS)(s[0],{password:r.password||""},o);case"sanitize-pdf":if(0===s.length)throw Error("No input file");return await (0,X.OS)(s[0],{removeJavaScript:null==(ej=r.removeJavaScript)||ej,removeAttachments:null==(eA=r.removeAttachments)||eA,removeLinks:null==(eF=r.removeLinks)||eF,flattenForms:null==(eC=r.flattenForms)||eC,removeMetadata:null==(eS=r.removeMetadata)||eS,removeAnnotations:null!=(ez=r.removeAnnotations)&&ez},o);case"remove-metadata":if(0===s.length)throw Error("No input file");return await (0,Q.Ij)(s[0],{},o);case"change-permissions":if(0===s.length)throw Error("No input file");return await (0,ee.z0)(s[0],{permissions:{printing:null==(eV=r.allowPrinting)||eV,copying:null!=(eI=r.allowCopying)&&eI,modifying:null!=(eE=r.allowModifying)&&eE,annotating:null==(eL=r.allowAnnotating)||eL}},o);case"pdf-to-zip":if(0===s.length)throw Error("No input file");return await (0,ep.Qf)(s,{outputFilename:r.filename||"pdfs.zip",compressionLevel:Number(r.compressionLevel)||6},o);case"extract-attachments":{if(0===s.length)throw Error("No input file");let e=new(await a.e(691).then(a.bind(a,5691))).ExtractAttachmentsPDFProcessor;return await e.process({files:s,options:{}},o)}case"organize-pdf":{if(0===s.length)throw Error("No input file");let e=r.pageOrder||[];return await (0,eu.eB)(s[0],e,o)}default:{if(console.warn('Tool "'.concat(l,'" does not have a workflow processor. Passing through input files.')),0===s.length)throw Error("No input files");let e=s[0],t=await e.arrayBuffer(),a=new Blob([t],{type:"application/pdf"});return{success:!0,result:a,filename:e.name}}}}catch(e){return{success:!1,error:{code:m.GS.PROCESSING_FAILED,category:m.h.PROCESSING_ERROR,message:e instanceof Error?e.message:"Unknown error occurred",recoverable:!0}}}}let ef="pdfcraft_workflows";function eg(){try{let e=localStorage.getItem(ef);if(!e)return[];return JSON.parse(e).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime())}catch(e){return console.error("Failed to load workflows:",e),[]}}function ey(e,t,a,o,l){let r=eg(),s=new Date().toISOString(),i=t.map(e=>({...e,data:{...e.data,status:"idle",progress:0,error:void 0,inputFiles:void 0,outputFiles:void 0}}));if(l){let t=r.findIndex(e=>e.id===l);if(-1!==t)return r[t]={...r[t],name:e,description:o,nodes:i,edges:a,updatedAt:s},localStorage.setItem(ef,JSON.stringify(r)),r[t]}let n={id:"workflow-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),name:e,description:o,nodes:i,edges:a,createdAt:s,updatedAt:s};return r.unshift(n),r.length>50&&r.pop(),localStorage.setItem(ef,JSON.stringify(r)),n}async function eb(e){try{let t=await e.text(),a=JSON.parse(t);if(!a.name||!Array.isArray(a.nodes)||!Array.isArray(a.edges))throw Error("Invalid workflow file format");return ey(a.name,a.nodes,a.edges,a.description)}catch(e){return console.error("Failed to import workflow:",e),null}}var eh=a(57378),ev=a(89715),ex=a(65229);let ew=(0,l.memo)(e=>{let{id:t,data:a,selected:s=!1,isConnectable:i=!0}=e,[n,d]=(0,l.useState)(!1),{deleteElements:c}=(0,r.VH)(),p=eh[a.icon.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")]||ev.A;return(0,o.jsxs)("div",{className:"\n        relative px-4 py-3 rounded-lg shadow-md border-2 border-l-4 transition-all duration-200\n        ".concat({idle:"bg-[hsl(var(--color-muted))]",processing:"bg-blue-100 border-blue-400",complete:"bg-green-100 border-green-400",error:"bg-red-100 border-red-400"}[a.status],"\n        ").concat({"organize-manage":"border-l-blue-500","edit-annotate":"border-l-purple-500","convert-to-pdf":"border-l-green-500","convert-from-pdf":"border-l-orange-500","optimize-repair":"border-l-yellow-500","security-privacy":"border-l-red-500"}[a.category]||"border-l-gray-500","\n        ").concat(s?"ring-2 ring-[hsl(var(--color-primary))] ring-offset-2":"","\n        ").concat(n?"shadow-lg scale-[1.02]":"","\n        min-w-[160px] max-w-[200px]\n      "),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[n&&(0,o.jsx)("button",{onClick:e=>{e.stopPropagation(),c({nodes:[{id:t}]})},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center shadow-md transition-colors z-10",title:"Delete node",children:(0,o.jsx)(ex.A,{className:"w-3 h-3 text-white"})}),(0,o.jsx)(r.h7,{type:"target",position:r.yX.Left,isConnectable:i,className:"!w-3 !h-3 !bg-[hsl(var(--color-primary))] !border-2 !border-white"}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"\n          p-2 rounded-lg\n          ".concat("processing"===a.status?"bg-blue-200":"bg-white/80","\n        "),children:(0,o.jsx)(p,{className:"w-5 h-5 text-[hsl(var(--color-foreground))]"})}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:a.label}),(0,o.jsxs)("div",{className:"flex items-center gap-1.5 mt-0.5",children:[(0,o.jsx)("div",{className:"w-2 h-2 rounded-full ".concat({idle:"bg-gray-300",processing:"bg-blue-500 animate-pulse",complete:"bg-green-500",error:"bg-red-500"}[a.status])}),(0,o.jsx)("span",{className:"text-xs text-[hsl(var(--color-muted-foreground))] capitalize",children:a.status})]})]})]}),"processing"===a.status&&(0,o.jsx)("div",{className:"mt-2 w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:"".concat(a.progress,"%")}})}),"error"===a.status&&a.error&&(0,o.jsx)("p",{className:"mt-2 text-xs text-red-600 truncate",children:a.error}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[(0,o.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-200 rounded text-gray-600",children:["in: ",a.acceptedFormats.slice(0,2).join(", "),a.acceptedFormats.length>2&&"..."]}),(0,o.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-blue-100 rounded text-blue-600",children:["out: ",a.outputFormat]})]}),(0,o.jsx)(r.h7,{type:"source",position:r.yX.Right,isConnectable:i,className:"!w-3 !h-3 !bg-[hsl(var(--color-primary))] !border-2 !border-white"})]})});ew.displayName="ToolNode";var ek=a(19406),eK=a(31378),eN=a(8603),eP=a(1226),eT=a(26550),ej=a(86651),eA=a(24033),eF=a(27937),eC=a(49476);function eS(e){let{onDragStart:t,isCollapsed:a=!1,onToggleCollapse:r}=e,s=(0,d.c)("workflow"),i=(0,ek.Ym)(),[n,c]=(0,l.useState)(""),[p,u]=(0,l.useState)(new Set(["organize-manage","convert-to-pdf"])),m=e=>{let t=(0,eN.GJ)(i,e);return t&&t.title?t.title:e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},f=(0,l.useMemo)(()=>{let e={},t=new Set(["pdf-multi-tool","edit-pdf","sign-pdf","crop-pdf","bookmark","add-stamps","form-filler","form-creator","rotate-custom","view-metadata","compare-pdfs","add-attachments","edit-attachments","page-dimensions","pdf-to-docx","pdf-to-pptx","pdf-to-excel"]);eK.Yl.filter(e=>!t.has(e.id)).forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)});let a={"organize-manage":"Organize & Manage","edit-annotate":"Edit & Annotate","convert-to-pdf":"Convert to PDF","convert-from-pdf":"Convert from PDF","optimize-repair":"Optimize & Repair","security-privacy":"Security & Privacy"},o={"organize-manage":"files","edit-annotate":"pencil","convert-to-pdf":"file-up","convert-from-pdf":"file-down","optimize-repair":"zap","security-privacy":"shield"};return["organize-manage","edit-annotate","convert-to-pdf","convert-from-pdf","optimize-repair","security-privacy"].filter(t=>e[t]).map(t=>({id:t,name:a[t],icon:o[t],tools:e[t]}))},[]),g=(0,l.useMemo)(()=>{if(!n.trim())return f;let e=n.toLowerCase();return f.map(t=>({...t,tools:t.tools.filter(t=>{let a=m(t.id);return t.id.toLowerCase().includes(e)||a.toLowerCase().includes(e)})})).filter(e=>e.tools.length>0)},[f,n]),y=e=>eh[e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")]||ev.A;return a?(0,o.jsxs)("div",{className:"w-12 h-full bg-[hsl(var(--color-background))] border-r border-[hsl(var(--color-border))] flex flex-col items-center py-2",children:[(0,o.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[hsl(var(--color-muted))] transition-colors mb-2",title:s("toolbox")||"Toolbox",children:(0,o.jsx)(eP.A,{className:"w-5 h-5 text-[hsl(var(--color-primary))]"})}),(0,o.jsx)("div",{className:"w-8 h-px bg-[hsl(var(--color-border))] mb-2"}),f.slice(0,6).map(e=>{let t=y(e.icon);return(0,o.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-[hsl(var(--color-muted))] transition-colors mb-1",title:e.name,children:(0,o.jsx)(t,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})},e.id)})]}):(0,o.jsxs)("div",{className:"w-72 h-full bg-[hsl(var(--color-background))] border-r border-[hsl(var(--color-border))] flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-[hsl(var(--color-border))] flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-[hsl(var(--color-foreground))]",children:s("toolbox")||"Tool Box"}),(0,o.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1",children:s("dragToAdd")||"Drag tools to add to workflow"})]}),(0,o.jsx)("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-[hsl(var(--color-muted))] transition-colors",title:"Collapse sidebar",children:(0,o.jsx)(eT.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})})]}),(0,o.jsx)("div",{className:"p-3 border-b border-[hsl(var(--color-border))]",children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(ej.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[hsl(var(--color-muted-foreground))]"}),(0,o.jsx)("input",{type:"text",placeholder:s("searchTools")||"Search tools...",value:n,onChange:e=>c(e.target.value),className:"w-full pl-9 pr-3 py-2 text-sm rounded-lg border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] placeholder:text-[hsl(var(--color-muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})}),(0,o.jsx)("div",{className:"flex-1 overflow-y-auto",children:g.map(e=>{let a=p.has(e.id),l=y(e.icon);return(0,o.jsxs)("div",{className:"border-b border-[hsl(var(--color-border))]",children:[(0,o.jsxs)("button",{onClick:()=>{var t;return t=e.id,void u(e=>{let a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a})},className:"w-full flex items-center gap-2 px-4 py-3 text-left hover:bg-[hsl(var(--color-muted)/0.5)] transition-colors",children:[a?(0,o.jsx)(eA.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"}):(0,o.jsx)(eF.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"}),(0,o.jsx)(l,{className:"w-4 h-4 text-[hsl(var(--color-primary))]"}),(0,o.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:e.name}),(0,o.jsx)("span",{className:"ml-auto text-xs text-[hsl(var(--color-muted-foreground))]",children:e.tools.length})]}),a&&(0,o.jsx)("div",{className:"pb-2",children:e.tools.map(e=>{let a=y(e.icon);return(0,o.jsxs)("div",{draggable:!0,onDragStart:a=>{t(a,{toolId:e.id,label:m(e.id),icon:e.icon,category:e.category,acceptedFormats:e.acceptedFormats,outputFormat:e.outputFormat,status:"idle",progress:0})},className:"flex items-center gap-2 px-4 py-2 mx-2 rounded-md cursor-grab hover:bg-[hsl(var(--color-muted))] active:cursor-grabbing transition-colors group",children:[(0,o.jsx)(eC.A,{className:"w-3 h-3 text-[hsl(var(--color-muted-foreground))] opacity-0 group-hover:opacity-100 transition-opacity"}),(0,o.jsx)(a,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"}),(0,o.jsx)("span",{className:"text-sm text-[hsl(var(--color-foreground))] truncate flex-1",children:m(e.id)})]},e.id)})})]},e.id)})}),(0,o.jsx)("div",{className:"p-3 border-t border-[hsl(var(--color-border))] bg-[hsl(var(--color-muted)/0.3)]",children:(0,o.jsxs)("p",{className:"text-xs text-center text-[hsl(var(--color-muted-foreground))]",children:[eK.Yl.length," ",s("toolsAvailable")||"tools available"]})})]})}let ez=[{id:"merge-compress",name:"Merge & Compress",description:"Merge multiple PDFs and compress the result for smaller file size",category:"common",nodes:[{id:"merge-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"merge-pdf",label:"Merge PDF",icon:"combine",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"compress-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"merge-1",target:"compress-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"images-to-pdf-watermark",name:"Images to Watermarked PDF",description:"Convert images to PDF and add a custom watermark",category:"conversion",nodes:[{id:"image-to-pdf-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"image-to-pdf",label:"Image to PDF",icon:"images",category:"convert-to-pdf",acceptedFormats:[".jpg",".jpeg",".png",".webp",".bmp",".tiff",".tif",".svg",".heic"],outputFormat:"pdf",status:"idle",progress:0}},{id:"watermark-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"add-watermark",label:"Add Watermark",icon:"droplets",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"image-to-pdf-1",target:"watermark-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"pdf-to-images-compress",name:"PDF to Compressed Images",description:"Convert PDF pages to JPG images",category:"conversion",nodes:[{id:"pdf-to-jpg-1",type:"toolNode",position:{x:250,y:200},data:{toolId:"pdf-to-jpg",label:"PDF to JPG",icon:"file-image",category:"convert-from-pdf",acceptedFormats:[".pdf"],outputFormat:"jpg",status:"idle",progress:0}}],edges:[],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"secure-pdf",name:"Create Secure PDF",description:"Merge PDFs, add watermark, and encrypt with password",category:"security",nodes:[{id:"merge-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"merge-pdf",label:"Merge PDF",icon:"combine",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"watermark-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"add-watermark",label:"Add Watermark",icon:"droplets",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"encrypt-1",type:"toolNode",position:{x:700,y:200},data:{toolId:"encrypt-pdf",label:"Encrypt PDF",icon:"lock",category:"security-privacy",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"merge-1",target:"watermark-1",isValid:!0},{id:"edge-2",source:"watermark-1",target:"encrypt-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"document-prep",name:"Document Preparation",description:"Merge PDFs, add page numbers, and add header/footer",category:"common",nodes:[{id:"merge-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"merge-pdf",label:"Merge PDF",icon:"combine",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"page-numbers-1",type:"toolNode",position:{x:400,y:150},data:{toolId:"page-numbers",label:"Add Page Numbers",icon:"list-ordered",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"header-footer-1",type:"toolNode",position:{x:700,y:150},data:{toolId:"header-footer",label:"Add Header/Footer",icon:"pilcrow",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"merge-1",target:"page-numbers-1",isValid:!0},{id:"edge-2",source:"page-numbers-1",target:"header-footer-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"optimize-for-web",name:"Optimize for Web",description:"Compress and linearize PDF for fast web viewing",category:"optimization",nodes:[{id:"compress-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"linearize-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"linearize-pdf",label:"Linearize PDF",icon:"zap-off",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"compress-1",target:"linearize-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"split-and-watermark",name:"Split & Watermark",description:"Split PDF into pages and add watermark to each",category:"common",nodes:[{id:"split-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"split-pdf",label:"Split PDF",icon:"scissors",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"watermark-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"add-watermark",label:"Add Watermark",icon:"droplets",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"split-1",target:"watermark-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"office-to-pdf-merge",name:"Office Files to Single PDF",description:"Convert Word documents to PDF and merge them",category:"conversion",nodes:[{id:"word-to-pdf-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"word-to-pdf",label:"Word to PDF",icon:"file-text",category:"convert-to-pdf",acceptedFormats:[".doc",".docx"],outputFormat:"pdf",status:"idle",progress:0}},{id:"merge-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"merge-pdf",label:"Merge PDF",icon:"combine",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"word-to-pdf-1",target:"merge-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"rotate-and-number",name:"Rotate & Add Page Numbers",description:"Rotate PDF pages and add page numbers",category:"common",nodes:[{id:"rotate-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"rotate-pdf",label:"Rotate PDF",icon:"rotate-cw",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"page-numbers-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"page-numbers",label:"Add Page Numbers",icon:"list-ordered",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"rotate-1",target:"page-numbers-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"print-ready",name:"Print Ready Document",description:"Prepare PDF for printing with page numbers and flatten",category:"common",nodes:[{id:"page-numbers-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"page-numbers",label:"Add Page Numbers",icon:"list-ordered",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"flatten-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"flatten-pdf",label:"Flatten PDF",icon:"layers",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"page-numbers-1",target:"flatten-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"grayscale-compress",name:"Grayscale & Compress",description:"Convert to grayscale and compress for smaller size",category:"optimization",nodes:[{id:"grayscale-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"pdf-to-greyscale",label:"Convert to Grayscale",icon:"palette",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"compress-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"grayscale-1",target:"compress-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"extract-and-merge",name:"Extract & Merge Pages",description:"Extract specific pages and merge them into a new document",category:"common",nodes:[{id:"extract-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"extract-pages",label:"Extract Pages",icon:"copy",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"merge-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"merge-pdf",label:"Merge PDF",icon:"combine",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"extract-1",target:"merge-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"confidential-document",name:"Confidential Document",description:"Add confidential watermark and encrypt PDF",category:"security",nodes:[{id:"watermark-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"add-watermark",label:"Add Watermark",icon:"droplets",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0,settings:{text:"CONFIDENTIAL",opacity:.3}}},{id:"encrypt-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"encrypt-pdf",label:"Encrypt PDF",icon:"lock",category:"security-privacy",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"watermark-1",target:"encrypt-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"pdf-to-docx-cleanup",name:"PDF to Editable Document",description:"Convert PDF to Word document for editing",category:"conversion",nodes:[{id:"pdf-to-docx-1",type:"toolNode",position:{x:250,y:200},data:{toolId:"pdf-to-docx",label:"PDF to Word",icon:"file-text",category:"convert-from-pdf",acceptedFormats:[".pdf"],outputFormat:"docx",status:"idle",progress:0}}],edges:[],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"comprehensive-optimization",name:"Full Document Optimization",description:"Compress, flatten, and linearize for optimal performance",category:"optimization",nodes:[{id:"compress-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"flatten-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"flatten-pdf",label:"Flatten PDF",icon:"layers",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"linearize-1",type:"toolNode",position:{x:700,y:200},data:{toolId:"linearize-pdf",label:"Linearize PDF",icon:"zap-off",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"compress-1",target:"flatten-1",isValid:!0},{id:"edge-2",source:"flatten-1",target:"linearize-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"pdf-to-presentation",name:"PDF to PowerPoint",description:"Convert PDF to editable PowerPoint presentation",category:"conversion",nodes:[{id:"pdf-to-pptx-1",type:"toolNode",position:{x:250,y:200},data:{toolId:"pdf-to-pptx",label:"PDF to PowerPoint",icon:"presentation",category:"convert-from-pdf",acceptedFormats:[".pdf"],outputFormat:"pptx",status:"idle",progress:0}}],edges:[],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"unlock-and-edit",name:"Unlock & Edit PDF",description:"Decrypt protected PDF for editing",category:"security",nodes:[{id:"decrypt-1",type:"toolNode",position:{x:250,y:200},data:{toolId:"decrypt-pdf",label:"Decrypt PDF",icon:"unlock",category:"security-privacy",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"crop-and-resize",name:"Crop & Resize Pages",description:"Crop PDF pages and adjust page dimensions",category:"common",nodes:[{id:"crop-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"crop-pdf",label:"Crop PDF",icon:"crop",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"resize-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"fix-page-size",label:"Fix Page Size",icon:"ruler",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"crop-1",target:"resize-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ebook-convert",name:"eBook to PDF",description:"Convert EPUB eBooks to PDF format",category:"conversion",nodes:[{id:"epub-to-pdf-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"epub-to-pdf",label:"EPUB to PDF",icon:"book-open",category:"convert-to-pdf",acceptedFormats:[".epub"],outputFormat:"pdf",status:"idle",progress:0}},{id:"compress-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"epub-to-pdf-1",target:"compress-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"batch-watermark",name:"Batch Watermark",description:"Add watermark to multiple PDF files at once",category:"common",nodes:[{id:"watermark-1",type:"toolNode",position:{x:250,y:200},data:{toolId:"add-watermark",label:"Add Watermark",icon:"droplets",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0,settings:{text:"WATERMARK",opacity:.3}}}],edges:[],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"archive-prep",name:"Archive Preparation",description:"Remove metadata, flatten, and compress for long-term storage",category:"optimization",nodes:[{id:"remove-metadata-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"remove-metadata",label:"Remove Metadata",icon:"file-minus",category:"security-privacy",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"flatten-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"flatten-pdf",label:"Flatten PDF",icon:"layers",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"compress-1",type:"toolNode",position:{x:700,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"remove-metadata-1",target:"flatten-1",isValid:!0},{id:"edge-2",source:"flatten-1",target:"compress-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"report-assembly",name:"Report Assembly",description:"Merge documents, add page numbers, header/footer and table of contents",category:"common",nodes:[{id:"merge-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"merge-pdf",label:"Merge PDF",icon:"combine",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"page-numbers-1",type:"toolNode",position:{x:400,y:150},data:{toolId:"page-numbers",label:"Add Page Numbers",icon:"list-ordered",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"header-footer-1",type:"toolNode",position:{x:700,y:150},data:{toolId:"header-footer",label:"Add Header/Footer",icon:"pilcrow",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"toc-1",type:"toolNode",position:{x:1e3,y:150},data:{toolId:"table-of-contents",label:"Add Table of Contents",icon:"list",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"merge-1",target:"page-numbers-1",isValid:!0},{id:"edge-2",source:"page-numbers-1",target:"header-footer-1",isValid:!0},{id:"edge-3",source:"header-footer-1",target:"toc-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"invoice-processing",name:"Invoice Processing",description:"Extract pages, add watermark, and compress for email",category:"common",nodes:[{id:"extract-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"extract-pages",label:"Extract Pages",icon:"copy",category:"organize-manage",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"watermark-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"add-watermark",label:"Add Watermark",icon:"droplets",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}},{id:"compress-1",type:"toolNode",position:{x:700,y:200},data:{toolId:"compress-pdf",label:"Compress PDF",icon:"zap",category:"optimize-repair",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"extract-1",target:"watermark-1",isValid:!0},{id:"edge-2",source:"watermark-1",target:"compress-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"photo-album",name:"Photo Album Creator",description:"Convert images to PDF with page numbers",category:"conversion",nodes:[{id:"image-to-pdf-1",type:"toolNode",position:{x:100,y:200},data:{toolId:"image-to-pdf",label:"Image to PDF",icon:"images",category:"convert-to-pdf",acceptedFormats:[".jpg",".jpeg",".png",".webp",".bmp",".tiff",".tif",".svg",".heic"],outputFormat:"pdf",status:"idle",progress:0}},{id:"page-numbers-1",type:"toolNode",position:{x:400,y:200},data:{toolId:"page-numbers",label:"Add Page Numbers",icon:"list-ordered",category:"edit-annotate",acceptedFormats:[".pdf"],outputFormat:"pdf",status:"idle",progress:0}}],edges:[{id:"edge-1",source:"image-to-pdf-1",target:"page-numbers-1",isValid:!0}],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];var eV=a(95740),eI=a(58734),eE=a(39347),eL=a(87876),eD=a(26983),eR=a(89559),eM=a(56154),eW=a(17910),eZ=a(97515),eB=a(36369),eO=a(75426),eU=a(39867),eG=a(71360);function eJ(e){let{savedWorkflows:t,onLoadTemplate:a,onLoadWorkflow:r,onDeleteWorkflow:s,onDuplicateWorkflow:i,onExportWorkflow:n,isCollapsed:c=!1,onToggleCollapse:p}=e,u=(0,d.c)("workflow"),[m,f]=(0,l.useState)("templates"),[g,y]=(0,l.useState)("all"),b={"merge-compress":"mergeCompress","images-to-pdf-watermark":"imagesToWatermarkedPdf","pdf-to-images-compress":"pdfToImages","secure-pdf":"securePdf","document-prep":"documentPrep","optimize-for-web":"optimizeForWeb","split-and-watermark":"splitAndWatermark","office-to-pdf-merge":"officeToMergedPdf","rotate-and-number":"rotateAndNumber","print-ready":"printReady","grayscale-compress":"grayscaleCompress","extract-and-merge":"extractAndMerge","confidential-document":"confidentialDocument","pdf-to-docx-cleanup":"pdfToEditableDoc","comprehensive-optimization":"fullOptimization","pdf-to-presentation":"pdfToPresentation","unlock-and-edit":"unlockAndEdit","crop-and-resize":"cropAndResize","ebook-convert":"ebookConvert","batch-watermark":"batchWatermark","archive-prep":"archivePrep","report-assembly":"reportAssembly","invoice-processing":"invoiceProcessing","photo-album":"photoAlbum"},h=[{id:"templates",label:u("templates")||"Templates",icon:eV.A},{id:"saved",label:u("saved")||"Saved",icon:eI.A},{id:"favorites",label:u("favorites")||"Favorites",icon:eE.A}],v=[{id:"all",label:u("allCategories")||"All",icon:eL.A},{id:"common",label:u("common")||"Common",icon:eD.A},{id:"conversion",label:u("conversion")||"Conversion",icon:eR.A},{id:"optimization",label:u("optimization")||"Optimization",icon:eM.A},{id:"security",label:u("security")||"Security",icon:eW.A}],x="all"===g?ez:ez.filter(e=>e.category===g),w=t.filter(e=>e.isFavorite),k=e=>new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return c?(0,o.jsxs)("div",{className:"w-12 h-full bg-[hsl(var(--color-background))] border-l border-[hsl(var(--color-border))] flex flex-col items-center py-2",children:[(0,o.jsx)("button",{onClick:p,className:"p-2 rounded-lg hover:bg-[hsl(var(--color-muted))] transition-colors mb-2",title:u("templates")||"Templates",children:(0,o.jsx)(eZ.A,{className:"w-5 h-5 text-[hsl(var(--color-primary))]"})}),(0,o.jsx)("div",{className:"w-8 h-px bg-[hsl(var(--color-border))] mb-2"}),h.map(e=>{let t=e.icon;return(0,o.jsx)("button",{onClick:p,className:"p-2 rounded-lg hover:bg-[hsl(var(--color-muted))] transition-colors mb-1",title:e.label,children:(0,o.jsx)(t,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})},e.id)})]}):(0,o.jsxs)("div",{className:"w-80 h-full bg-[hsl(var(--color-background))] border-l border-[hsl(var(--color-border))] flex flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b border-[hsl(var(--color-border))]",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:u("templates")||"Library"}),(0,o.jsx)("button",{onClick:p,className:"p-1.5 rounded-lg hover:bg-[hsl(var(--color-muted))] transition-colors",title:"Collapse sidebar",children:(0,o.jsx)(eB.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})})]}),(0,o.jsx)("div",{className:"flex border-b border-[hsl(var(--color-border))]",children:h.map(e=>{let t=e.icon;return(0,o.jsxs)("button",{onClick:()=>f(e.id),className:"\n                flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium transition-colors\n                ".concat(m===e.id?"text-[hsl(var(--color-primary))] border-b-2 border-[hsl(var(--color-primary))]":"text-[hsl(var(--color-muted-foreground))] hover:text-[hsl(var(--color-foreground))]","\n              "),children:[(0,o.jsx)(t,{className:"w-4 h-4"}),e.label]},e.id)})}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["templates"===m&&(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:v.map(e=>{let t=e.icon;return(0,o.jsxs)("button",{onClick:()=>y(e.id),className:"\n                      flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-colors\n                      ".concat(g===e.id?"bg-[hsl(var(--color-primary))] text-white":"bg-[hsl(var(--color-muted))] text-[hsl(var(--color-muted-foreground))] hover:bg-[hsl(var(--color-muted)/0.8)]","\n                    "),children:[(0,o.jsx)(t,{className:"w-3 h-3"}),e.label]},e.id)})}),(0,o.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,o.jsxs)("div",{className:"p-3 rounded-lg border border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)] hover:shadow-md transition-all cursor-pointer group",onClick:()=>a(e),children:[(0,o.jsx)("div",{className:"flex items-start justify-between",children:(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] group-hover:text-[hsl(var(--color-primary))]",children:(e=>{let t=b[e.id];if(t)try{let e="workflowTemplates.".concat(t,".name"),a=u(e);if(a&&a!==e&&!a.includes("workflowTemplates."))return a}catch(t){console.warn("Translation missing for template name: ".concat(e.id))}return e.name})(e)}),(0,o.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1 line-clamp-2",children:(e=>{let t=b[e.id];if(t)try{let e="workflowTemplates.".concat(t,".description"),a=u(e);if(a&&a!==e&&!a.includes("workflowTemplates."))return a}catch(t){console.warn("Translation missing for template description: ".concat(e.id))}return e.description})(e)})]})}),(0,o.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,o.jsxs)("span",{className:"text-[10px] px-2 py-0.5 bg-[hsl(var(--color-muted))] rounded-full text-[hsl(var(--color-muted-foreground))]",children:[e.nodes.length," ",u("nodes")||"nodes"]}),(0,o.jsxs)("span",{className:"text-[10px] px-2 py-0.5 bg-[hsl(var(--color-muted))] rounded-full text-[hsl(var(--color-muted-foreground))]",children:[e.edges.length," ",u("connections")||"connections"]})]})]},e.id))})]}),"saved"===m&&(0,o.jsx)("div",{className:"p-4",children:0===t.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)(eI.A,{className:"w-12 h-12 mx-auto text-[hsl(var(--color-muted-foreground))]"}),(0,o.jsx)("p",{className:"mt-3 text-sm text-[hsl(var(--color-muted-foreground))]",children:u("noSavedWorkflows")||"No saved workflows yet"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:u("saveWorkflowHint")||"Create and save your first workflow"})]}):(0,o.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,o.jsx)("div",{className:"p-3 rounded-lg border border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)] transition-all group",children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>r(e),children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] group-hover:text-[hsl(var(--color-primary))]",children:e.name}),e.isFavorite&&(0,o.jsx)(eE.A,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"})]}),e.description&&(0,o.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-1 line-clamp-1",children:e.description}),(0,o.jsx)("p",{className:"text-[10px] text-[hsl(var(--color-muted-foreground))] mt-1",children:k(e.updatedAt)})]}),(0,o.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e.id)},className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",title:"Duplicate",children:(0,o.jsx)(eO.A,{className:"w-3.5 h-3.5 text-[hsl(var(--color-muted-foreground))]"})}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",title:"Export",children:(0,o.jsx)(eU.A,{className:"w-3.5 h-3.5 text-[hsl(var(--color-muted-foreground))]"})}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e.id)},className:"p-1.5 rounded hover:bg-red-100 transition-colors",title:"Delete",children:(0,o.jsx)(eG.A,{className:"w-3.5 h-3.5 text-red-500"})})]})]})},e.id))})}),"favorites"===m&&(0,o.jsx)("div",{className:"p-4",children:0===w.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)(eE.A,{className:"w-12 h-12 mx-auto text-[hsl(var(--color-muted-foreground))]"}),(0,o.jsx)("p",{className:"mt-3 text-sm text-[hsl(var(--color-muted-foreground))]",children:u("noFavorites")||"No favorite workflows"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-[hsl(var(--color-muted-foreground))]",children:u("favoriteHint")||"Star workflows to add them here"})]}):(0,o.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,o.jsxs)("div",{className:"p-3 rounded-lg border border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)] transition-all cursor-pointer group",onClick:()=>r(e),children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(eE.A,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,o.jsx)("h4",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:e.name})]}),(0,o.jsx)("p",{className:"text-[10px] text-[hsl(var(--color-muted-foreground))] mt-1",children:k(e.updatedAt)})]},e.id))})})]})]})}var e_=a(31166),eq=a(42196),eH=a(92001),e$=a(12108),eY=a(57828),eX=a(78874);function eQ(e){let t=e.type;return t.startsWith("image/")?(0,o.jsx)(eq.A,{className:"w-5 h-5 text-blue-500"}):"application/pdf"===t?(0,o.jsx)(ev.A,{className:"w-5 h-5 text-red-500"}):(0,o.jsx)(eH.A,{className:"w-5 h-5 text-gray-500"})}function e0(e){let{files:t,onFilesChange:a,onClose:r}=e,s=(0,d.c)("workflow"),[i,n]=(0,l.useState)(null),[c,p]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),f=(0,l.useCallback)(e=>{a(t.filter((t,a)=>a!==e))},[t,a]),g=(0,l.useCallback)(()=>{a([])},[a]),y=(0,l.useCallback)(e=>{if(0===e)return;let o=[...t];[o[e-1],o[e]]=[o[e],o[e-1]],a(o)},[t,a]),b=(0,l.useCallback)(e=>{if(e===t.length-1)return;let o=[...t];[o[e],o[e+1]]=[o[e+1],o[e]],a(o)},[t,a]),h=(0,l.useCallback)(e=>{c&&URL.revokeObjectURL(c),p(URL.createObjectURL(e)),n(e)},[c]),v=(0,l.useCallback)(()=>{c&&URL.revokeObjectURL(c),p(null),n(null)},[c]),x=(0,l.useCallback)(e=>{m(e)},[]),w=(0,l.useCallback)((e,o)=>{if(e.preventDefault(),null===u||u===o)return;let l=[...t],r=l[u];l.splice(u,1),l.splice(o,0,r),a(l),m(o)},[u,t,a]),k=(0,l.useCallback)(()=>{m(null)},[]);return 0===t.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-[hsl(var(--color-background))] rounded-lg shadow-xl w-[600px] max-h-[80vh] flex flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[hsl(var(--color-border))]",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(ev.A,{className:"w-5 h-5 text-[hsl(var(--color-primary))]"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-[hsl(var(--color-foreground))]",children:s("selectedFiles")||"Selected Files"}),(0,o.jsxs)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))] ml-2",children:["(",t.length," ",s("filesCount")||"files",")"]})]}),(0,o.jsx)("button",{onClick:r,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",children:(0,o.jsx)(ex.A,{className:"w-5 h-5 text-[hsl(var(--color-muted-foreground))]"})})]}),(0,o.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,o.jsx)("div",{className:"space-y-2",children:t.map((e,a)=>(0,o.jsxs)("div",{draggable:!0,onDragStart:()=>x(a),onDragOver:e=>w(e,a),onDragEnd:k,className:"\n                                        flex items-center gap-3 p-3 rounded-lg border\n                                        ".concat(u===a?"border-[hsl(var(--color-primary))] bg-[hsl(var(--color-primary)/0.1)]":"border-[hsl(var(--color-border))] bg-[hsl(var(--color-muted)/0.3)]","\n                                        hover:border-[hsl(var(--color-primary)/0.5)] transition-colors cursor-grab active:cursor-grabbing\n                                    "),children:[(0,o.jsx)("div",{className:"text-[hsl(var(--color-muted-foreground))]",children:(0,o.jsx)(eC.A,{className:"w-4 h-4"})}),(0,o.jsx)("div",{className:"flex-shrink-0",children:eQ(e)}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate",children:e.name}),(0,o.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))]",children:function(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]}(e.size)})]}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("button",{onClick:()=>y(a),disabled:0===a,className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors\n                                                ".concat(0===a?"opacity-30 cursor-not-allowed":""),title:s("moveUp")||"Move Up",children:(0,o.jsx)(e$.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})}),(0,o.jsx)("button",{onClick:()=>b(a),disabled:a===t.length-1,className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors\n                                                ".concat(a===t.length-1?"opacity-30 cursor-not-allowed":""),title:s("moveDown")||"Move Down",children:(0,o.jsx)(eA.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})}),(0,o.jsx)("button",{onClick:()=>h(e),className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",title:s("preview")||"Preview",children:(0,o.jsx)(eY.A,{className:"w-4 h-4 text-[hsl(var(--color-primary))]"})}),(0,o.jsx)("button",{onClick:()=>f(a),className:"p-1.5 rounded hover:bg-red-50 transition-colors",title:s("removeFile")||"Remove",children:(0,o.jsx)(eG.A,{className:"w-4 h-4 text-red-500"})})]})]},"".concat(e.name,"-").concat(a)))})}),(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-[hsl(var(--color-border))]",children:[(0,o.jsxs)(e_.$,{variant:"ghost",size:"sm",onClick:g,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,o.jsx)(eX.A,{className:"w-4 h-4 mr-2"}),s("clearAll")||"Clear All"]}),(0,o.jsx)(e_.$,{variant:"primary",size:"sm",onClick:r,children:s("confirm")||"Confirm"})]})]})}),i&&c&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:(0,o.jsxs)("div",{className:"bg-[hsl(var(--color-background))] rounded-lg shadow-xl max-w-[90vw] max-h-[90vh] flex flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[hsl(var(--color-border))]",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[eQ(i),(0,o.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))] truncate max-w-[400px]",children:i.name})]}),(0,o.jsx)("button",{onClick:v,className:"p-1 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",children:(0,o.jsx)(ex.A,{className:"w-5 h-5 text-[hsl(var(--color-muted-foreground))]"})})]}),(0,o.jsx)("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center min-h-[400px]",children:i.type.startsWith("image/")?(0,o.jsx)("img",{src:c,alt:i.name,className:"max-w-full max-h-[70vh] object-contain rounded"}):"application/pdf"===i.type?(0,o.jsx)("iframe",{src:c,title:i.name,className:"w-[800px] h-[600px] rounded border border-[hsl(var(--color-border))]"}):(0,o.jsxs)("div",{className:"text-center p-8",children:[(0,o.jsx)(eH.A,{className:"w-16 h-16 text-[hsl(var(--color-muted-foreground))] mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-[hsl(var(--color-muted-foreground))]",children:s("previewNotAvailable")||"Preview not available for this file type"})]})})]})})]})}var e1=a(35299),e2=a(42529),e4=a(6132),e3=a(21786),e5=a(21190),e8=a(85921),e6=a(59e3),e9=a(46046);function e7(e){let{nodes:t,edges:a,executionState:r,validation:s,onExecute:i,onStop:n,onSave:c,onClear:p,onImport:u,onFilesChange:m}=e,f=(0,d.c)("workflow"),g=(0,d.c)("common"),[y,b]=(0,l.useState)(!1),[h,v]=(0,l.useState)(!1),[x,w]=(0,l.useState)(""),[k,K]=(0,l.useState)(""),[N,P]=(0,l.useState)([]),T=(0,l.useRef)(null),j=(0,l.useRef)(null),A=(0,l.useCallback)(e=>{let t=Array.from(e.target.files||[]);P(t),null==m||m(t)},[m]),F=(0,l.useCallback)(()=>{N.length>0&&i(N)},[N,i]),C=(0,l.useCallback)(()=>{x.trim()&&(c(x.trim(),k.trim()||void 0),b(!1),w(""),K(""))},[x,k,c]),S=(0,l.useCallback)(()=>{var e;null==(e=j.current)||e.click()},[]),z=(0,l.useCallback)(e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&(u(a),e.target.value="")},[u]),V="running"===r.status,I=t.length>0&&N.length>0&&s.isValid&&!V;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-[hsl(var(--color-background))] border-b border-[hsl(var(--color-border))]",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{ref:T,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.webp,.doc,.docx,.xls,.xlsx,.ppt,.pptx",onChange:A,className:"hidden"}),(0,o.jsxs)(e_.$,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=T.current)?void 0:e.click()},disabled:V,children:[(0,o.jsx)(e3.A,{className:"w-4 h-4 mr-2"}),f("selectFiles")||"Select Files"]}),N.length>0&&(0,o.jsxs)("button",{onClick:()=>v(!0),disabled:V,className:"\n                                    flex items-center gap-2 px-3 py-1.5 rounded-lg \n                                    bg-[hsl(var(--color-primary)/0.1)] \n                                    text-[hsl(var(--color-primary))]\n                                    hover:bg-[hsl(var(--color-primary)/0.2)]\n                                    transition-colors\n                                    ".concat(V?"opacity-50 cursor-not-allowed":"cursor-pointer","\n                                "),title:f("viewEditFiles")||"View/Edit Files",children:[(0,o.jsxs)("span",{className:"text-sm font-medium",children:[N.length," ",f("filesSelected")||"files selected"]}),(0,o.jsx)(e5.A,{className:"w-3.5 h-3.5"})]})]}),(0,o.jsxs)(e_.$,{variant:"primary",size:"sm",onClick:F,disabled:!I,loading:V,children:[(0,o.jsx)(e8.A,{className:"w-4 h-4 mr-2"}),f("execute")||"Execute"]}),V&&(0,o.jsxs)(e_.$,{variant:"outline",size:"sm",onClick:n,className:"text-red-600 border-red-300 hover:bg-red-50",children:[(0,o.jsx)(e6.A,{className:"w-4 h-4 mr-2"}),f("stop")||"Stop"]}),(0,o.jsx)(()=>"running"===r.status?(0,o.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full",children:[(0,o.jsx)(e1.A,{className:"w-4 h-4 animate-spin"}),(0,o.jsxs)("span",{className:"text-sm font-medium",children:[f("running")||"Running"," (",r.progress,"%)"]})]}):"complete"===r.status?(0,o.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-700 rounded-full",children:[(0,o.jsx)(e2.A,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:f("complete")||"Complete"})]}):"error"===r.status?(0,o.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-100 text-red-700 rounded-full",children:[(0,o.jsx)(eX.A,{className:"w-4 h-4"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:f("error")||"Error"})]}):s.isValid?null:(0,o.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-100 text-yellow-700 rounded-full",children:[(0,o.jsx)(e4.A,{className:"w-4 h-4"}),(0,o.jsxs)("span",{className:"text-sm font-medium",children:[s.errors.length," ",f("issues")||"issues"]})]}),{})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("span",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mr-2",children:[t.length," ",f("nodes")||"nodes"]}),(0,o.jsxs)(e_.$,{variant:"outline",size:"sm",onClick:()=>b(!0),disabled:0===t.length,children:[(0,o.jsx)(e9.A,{className:"w-4 h-4 mr-2"}),g("buttons.save")||"Save"]}),(0,o.jsx)("input",{ref:j,type:"file",accept:".json,.workflow.json",onChange:z,className:"hidden"}),(0,o.jsxs)(e_.$,{variant:"outline",size:"sm",onClick:S,children:[(0,o.jsx)(eU.A,{className:"w-4 h-4 mr-2"}),f("import")||"Import"]}),(0,o.jsxs)(e_.$,{variant:"ghost",size:"sm",onClick:p,disabled:0===t.length||V,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,o.jsx)(eG.A,{className:"w-4 h-4 mr-2"}),f("clear")||"Clear"]})]})]}),"complete"===r.status&&r.outputFiles&&r.outputFiles.length>0&&(0,o.jsx)("div",{className:"px-4 py-2 bg-green-50 border-b border-green-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-green-700",children:f("workflowComplete")||"Workflow completed successfully!"}),(0,o.jsxs)(e_.$,{variant:"primary",size:"sm",onClick:()=>{var e;null==(e=r.outputFiles)||e.forEach((e,t)=>{let a,o;e instanceof Blob?(a=e,o="output_".concat(t+1,".pdf")):(a=e.blob,o=e.filename||"output_".concat(t+1,".pdf"));let l=URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download=o,r.click(),URL.revokeObjectURL(l)})},children:[(0,o.jsx)(eU.A,{className:"w-4 h-4 mr-2"}),f("downloadResults")||"Download Results"]})]})}),s.errors.length>0&&!V&&(0,o.jsx)("div",{className:"px-4 py-2 bg-red-50 border-b border-red-200",children:(0,o.jsxs)("div",{className:"flex items-start gap-2",children:[(0,o.jsx)(e4.A,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,o.jsx)("div",{className:"text-sm text-red-700",children:s.errors.map((e,t)=>(0,o.jsx)("p",{children:e.message},t))})]})}),y&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-[hsl(var(--color-background))] rounded-lg shadow-xl p-6 w-[400px]",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-[hsl(var(--color-foreground))] mb-4",children:f("saveWorkflow")||"Save Workflow"}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:f("workflowName")||"Workflow Name"}),(0,o.jsx)("input",{type:"text",value:x,onChange:e=>w(e.target.value),placeholder:f("enterName")||"Enter workflow name...",className:"w-full px-3 py-2 rounded-lg border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",autoFocus:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))] mb-1",children:[f("description")||"Description"," (",f("optional")||"optional",")"]}),(0,o.jsx)("textarea",{value:k,onChange:e=>K(e.target.value),placeholder:f("enterDescription")||"Enter description...",rows:3,className:"w-full px-3 py-2 rounded-lg border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] text-[hsl(var(--color-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))] resize-none"})]})]}),(0,o.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,o.jsx)(e_.$,{variant:"ghost",onClick:()=>b(!1),children:g("buttons.cancel")||"Cancel"}),(0,o.jsx)(e_.$,{variant:"primary",onClick:C,disabled:!x.trim(),children:g("buttons.save")||"Save"})]})]})}),h&&(0,o.jsx)(e0,{files:N,onFilesChange:e=>{P(e),null==m||m(e)},onClose:()=>v(!1)})]})}var te=a(15870),tt=a(48314);function ta(e){let{node:t,onClose:a,onUpdateSettings:r}=e,s=(0,d.c)("tools"),i=(0,d.c)("workflow"),n=(0,d.c)("common"),c=(0,ek.Ym)(),[p,u]=(0,l.useState)({}),m={"compress-pdf":{titleKey:"compressPdf.optionsTitle",fields:[{key:"quality",labelKey:"compressPdf.qualityLabel",type:"select",defaultValue:"medium",options:[{value:"low",labelKey:"compressPdf.qualityLow"},{value:"medium",labelKey:"compressPdf.qualityMedium"},{value:"high",labelKey:"compressPdf.qualityHigh"},{value:"maximum",labelKey:"compressPdf.qualityMaximum"}]},{key:"optimizeImages",labelKey:"compressPdf.optimizeImages",type:"checkbox",defaultValue:!0},{key:"removeMetadata",labelKey:"compressPdf.removeMetadata",type:"checkbox",defaultValue:!1}]},"add-watermark":{titleKey:"watermark.optionsTitle",fields:[{key:"watermarkType",labelKey:"watermark.type",type:"select",defaultValue:"text",options:[{value:"text",labelKey:"watermark.textWatermark"},{value:"image",labelKey:"watermark.imageWatermark"}]},{key:"text",labelKey:"watermark.watermarkText",type:"text",defaultValue:"CONFIDENTIAL",placeholderKey:"watermark.textPlaceholder"},{key:"fontSize",labelKey:"watermark.fontSize",type:"number",defaultValue:72,min:10,max:200},{key:"color",labelKey:"watermark.color",type:"color",defaultValue:"#888888"},{key:"opacity",labelKey:"watermark.opacity",type:"range",defaultValue:.3,min:.1,max:1,step:.1},{key:"rotation",labelKey:"watermark.angle",type:"range",defaultValue:-45,min:-90,max:90,step:5}]},"page-numbers":{titleKey:"pageNumbers.optionsTitle",fields:[{key:"position",labelKey:"pageNumbers.positionTitle",type:"select",defaultValue:"bottom-center",options:[{value:"top-left",labelKey:"pageNumbers.posTopLeft"},{value:"top-center",labelKey:"pageNumbers.posTopCenter"},{value:"top-right",labelKey:"pageNumbers.posTopRight"},{value:"bottom-left",labelKey:"pageNumbers.posBottomLeft"},{value:"bottom-center",labelKey:"pageNumbers.posBottomCenter"},{value:"bottom-right",labelKey:"pageNumbers.posBottomRight"}]},{key:"format",labelKey:"pageNumbers.formatTitle",type:"select",defaultValue:"number",options:[{value:"number",labelKey:"pageNumbers.formatNumber"},{value:"roman",labelKey:"pageNumbers.formatRoman"},{value:"page-of-total",labelKey:"pageNumbers.formatPageOfTotal"}]},{key:"startNumber",labelKey:"pageNumbers.startNumber",type:"number",defaultValue:1,min:1,max:9999},{key:"fontSize",labelKey:"pageNumbers.fontSize",type:"number",defaultValue:12,min:6,max:72},{key:"fontColor",labelKey:"pageNumbers.color",type:"color",defaultValue:"#000000"},{key:"margin",labelKey:"pageNumbers.margin",type:"number",defaultValue:30,min:10,max:100},{key:"skipFirstPage",labelKey:"pageNumbers.skipFirstPage",type:"checkbox",defaultValue:!1}]},"merge-pdf":{titleKey:"mergePdf.optionsTitle",fields:[{key:"preserveBookmarks",labelKey:"mergePdf.preserveBookmarks",type:"checkbox",defaultValue:!0}]},"split-pdf":{titleKey:"splitPdf.optionsTitle",fields:[{key:"splitMode",labelKey:"splitPdf.splitModeLabel",type:"select",defaultValue:"every-page",options:[{value:"every-page",labelKey:"splitPdf.modeEveryPage"},{value:"every-n-pages",labelKey:"splitPdf.modeEveryNPages"},{value:"ranges",labelKey:"splitPdf.modeRanges"}]},{key:"pagesPerSplit",labelKey:"splitPdf.pagesPerFile",type:"number",defaultValue:1,min:1,max:100}]},"rotate-pdf":{titleKey:"rotatePdf.optionsTitle",fields:[{key:"angle",labelKey:"rotatePdf.angle",type:"select",defaultValue:"90",options:[{value:"90",labelKey:"rotatePdf.rotateRight"},{value:"-90",labelKey:"rotatePdf.rotateLeft"},{value:"180",labelKey:"rotatePdf.rotate180"}]},{key:"applyTo",labelKey:"rotatePdf.applyTo",type:"select",defaultValue:"all",options:[{value:"all",labelKey:"rotatePdf.allPages"},{value:"odd",labelKey:"rotatePdf.oddPages"},{value:"even",labelKey:"rotatePdf.evenPages"}]}]},"pdf-to-jpg":{titleKey:"pdfToImage.optionsTitle",fields:[{key:"quality",labelKey:"pdfToImage.quality",type:"range",defaultValue:.92,min:.5,max:1,step:.05},{key:"scale",labelKey:"pdfToImage.resolution",type:"select",defaultValue:"2",options:[{value:"1",labelKey:"72 DPI"},{value:"2",labelKey:"144 DPI"},{value:"3",labelKey:"216 DPI"},{value:"4",labelKey:"288 DPI"}]},{key:"pageRange",labelKey:"pdfToImage.pageRange",type:"text",defaultValue:"",placeholderKey:"pdfToImage.pageRangePlaceholder"}]},"pdf-to-png":{titleKey:"pdfToImage.optionsTitle",fields:[{key:"scale",labelKey:"pdfToImage.resolution",type:"select",defaultValue:"2",options:[{value:"1",labelKey:"72 DPI"},{value:"2",labelKey:"144 DPI"},{value:"3",labelKey:"216 DPI"},{value:"4",labelKey:"288 DPI"}]},{key:"pageRange",labelKey:"pdfToImage.pageRange",type:"text",defaultValue:"",placeholderKey:"pdfToImage.pageRangePlaceholder"}]},"encrypt-pdf":{titleKey:"encryptPdf.optionsTitle",fields:[{key:"userPassword",labelKey:"encryptPdf.userPasswordLabel",type:"text",defaultValue:"",placeholderKey:"encryptPdf.userPasswordPlaceholder"},{key:"ownerPassword",labelKey:"encryptPdf.ownerPasswordLabel",type:"text",defaultValue:"",placeholderKey:"encryptPdf.ownerPasswordPlaceholder"},{key:"allowPrinting",labelKey:"encryptPdf.allowPrinting",type:"checkbox",defaultValue:!0},{key:"allowModifying",labelKey:"encryptPdf.allowModifying",type:"checkbox",defaultValue:!1},{key:"allowCopying",labelKey:"encryptPdf.allowCopying",type:"checkbox",defaultValue:!1},{key:"allowAnnotating",labelKey:"encryptPdf.allowAnnotating",type:"checkbox",defaultValue:!0}]},"decrypt-pdf":{titleKey:"decryptPdf.optionsTitle",fields:[{key:"password",labelKey:"decryptPdf.passwordLabel",type:"text",defaultValue:"",placeholderKey:"decryptPdf.passwordPlaceholder"}]},"crop-pdf":{titleKey:"cropPdf.optionsTitle",fields:[{key:"marginTop",labelKey:"cropPdf.marginTop",type:"number",defaultValue:0,min:0,max:200},{key:"marginBottom",labelKey:"cropPdf.marginBottom",type:"number",defaultValue:0,min:0,max:200},{key:"marginLeft",labelKey:"cropPdf.marginLeft",type:"number",defaultValue:0,min:0,max:200},{key:"marginRight",labelKey:"cropPdf.marginRight",type:"number",defaultValue:0,min:0,max:200}]},"jpg-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"image-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"png-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"extract-pages":{titleKey:"extractPages.optionsTitle",fields:[{key:"pageRange",labelKey:"extractPages.pageRange",type:"text",defaultValue:"",placeholderKey:"extractPages.pageRangePlaceholder"}]},"delete-pages":{titleKey:"deletePages.optionsTitle",fields:[{key:"pageRange",labelKey:"deletePages.pageRange",type:"text",defaultValue:"",placeholderKey:"deletePages.pageRangePlaceholder"}]},"ocr-pdf":{titleKey:"ocrPdf.optionsTitle",fields:[{key:"language",labelKey:"ocrPdf.language",type:"select",defaultValue:"eng",options:[{value:"eng",labelKey:"English"},{value:"chi_sim",labelKey:""},{value:"chi_tra",labelKey:""},{value:"jpn",labelKey:""},{value:"kor",labelKey:""},{value:"deu",labelKey:"Deutsch"},{value:"fra",labelKey:"Fran\xe7ais"},{value:"spa",labelKey:"Espa\xf1ol"}]}]},"flatten-pdf":{titleKey:"flattenPdf.optionsTitle",fields:[{key:"flattenForms",labelKey:"flattenPdf.flattenForms",type:"checkbox",defaultValue:!0},{key:"flattenAnnotations",labelKey:"flattenPdf.flattenAnnotations",type:"checkbox",defaultValue:!0}]},"linearize-pdf":{titleKey:"linearizePdf.optionsTitle",fields:[]},"pdf-to-greyscale":{titleKey:"pdfToGreyscale.optionsTitle",fields:[]},"header-footer":{titleKey:"headerFooter.optionsTitle",fields:[{key:"headerText",labelKey:"headerFooter.headerText",type:"text",defaultValue:"",placeholderKey:"headerFooter.headerTextPlaceholder"},{key:"footerText",labelKey:"headerFooter.footerText",type:"text",defaultValue:"",placeholderKey:"headerFooter.footerTextPlaceholder"},{key:"fontSize",labelKey:"headerFooter.fontSize",type:"number",defaultValue:10,min:6,max:24},{key:"fontColor",labelKey:"headerFooter.fontColor",type:"color",defaultValue:"#000000"}]},"word-to-pdf":{titleKey:"wordToPdf.optionsTitle",fields:[]},"excel-to-pdf":{titleKey:"excelToPdf.optionsTitle",fields:[]},"ppt-to-pdf":{titleKey:"pptToPdf.optionsTitle",fields:[]},"pdf-to-docx":{titleKey:"pdfToDocx.optionsTitle",fields:[]},"pdf-to-excel":{titleKey:"pdfToExcel.optionsTitle",fields:[]},"pdf-to-pptx":{titleKey:"pdfToPptx.optionsTitle",fields:[]},"epub-to-pdf":{titleKey:"epubToPdf.optionsTitle",fields:[]},"webp-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"bmp-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"heic-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"tiff-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"psd-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"orientation",labelKey:"imageToPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"margin",labelKey:"imageToPdf.margin",type:"select",defaultValue:"36",options:[{value:"0",labelKey:"imageToPdf.marginNone"},{value:"18",labelKey:"imageToPdf.marginSmall"},{value:"36",labelKey:"imageToPdf.marginMedium"},{value:"72",labelKey:"imageToPdf.marginLarge"}]},{key:"centerImage",labelKey:"imageToPdf.centerImage",type:"checkbox",defaultValue:!0},{key:"scaleToFit",labelKey:"imageToPdf.scaleToFit",type:"checkbox",defaultValue:!0}]},"svg-to-pdf":{titleKey:"imageToPdf.optionsTitle",fields:[{key:"pageSize",labelKey:"imageToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"},{value:"FIT",labelKey:"imageToPdf.fitToImage"}]},{key:"scale",labelKey:"imageToPdf.scale",type:"select",defaultValue:"1",options:[{value:"0.5",labelKey:"50%"},{value:"1",labelKey:"100%"},{value:"1.5",labelKey:"150%"},{value:"2",labelKey:"200%"}]}]},"pdf-to-webp":{titleKey:"pdfToImage.optionsTitle",fields:[{key:"quality",labelKey:"pdfToImage.quality",type:"range",defaultValue:.92,min:.5,max:1,step:.05},{key:"scale",labelKey:"pdfToImage.resolution",type:"select",defaultValue:"2",options:[{value:"1",labelKey:"72 DPI"},{value:"2",labelKey:"144 DPI"},{value:"3",labelKey:"216 DPI"},{value:"4",labelKey:"288 DPI"}]},{key:"pageRange",labelKey:"pdfToImage.pageRange",type:"text",defaultValue:"",placeholderKey:"pdfToImage.pageRangePlaceholder"}]},"pdf-to-bmp":{titleKey:"pdfToImage.optionsTitle",fields:[{key:"scale",labelKey:"pdfToImage.resolution",type:"select",defaultValue:"2",options:[{value:"1",labelKey:"72 DPI"},{value:"2",labelKey:"144 DPI"},{value:"3",labelKey:"216 DPI"},{value:"4",labelKey:"288 DPI"}]},{key:"pageRange",labelKey:"pdfToImage.pageRange",type:"text",defaultValue:"",placeholderKey:"pdfToImage.pageRangePlaceholder"}]},"pdf-to-tiff":{titleKey:"pdfToImage.optionsTitle",fields:[{key:"scale",labelKey:"pdfToImage.resolution",type:"select",defaultValue:"2",options:[{value:"1",labelKey:"72 DPI"},{value:"2",labelKey:"144 DPI"},{value:"3",labelKey:"216 DPI"},{value:"4",labelKey:"288 DPI"}]},{key:"pageRange",labelKey:"pdfToImage.pageRange",type:"text",defaultValue:"",placeholderKey:"pdfToImage.pageRangePlaceholder"}]},"pdf-to-svg":{titleKey:"pdfToImage.optionsTitle",fields:[{key:"pageRange",labelKey:"pdfToImage.pageRange",type:"text",defaultValue:"",placeholderKey:"pdfToImage.pageRangePlaceholder"}]},"divide-pages":{titleKey:"dividePages.optionsTitle",fields:[{key:"divisionType",labelKey:"dividePages.divisionType",type:"select",defaultValue:"vertical",options:[{value:"vertical",labelKey:"dividePages.vertical"},{value:"horizontal",labelKey:"dividePages.horizontal"},{value:"grid-2x2",labelKey:"dividePages.grid2x2"},{value:"grid-3x3",labelKey:"dividePages.grid3x3"}]}]},"alternate-merge":{titleKey:"alternateMerge.optionsTitle",fields:[{key:"reverseSecond",labelKey:"alternateMerge.reverseSecond",type:"checkbox",defaultValue:!1}]},"n-up-pdf":{titleKey:"nUpPdf.optionsTitle",fields:[{key:"pagesPerSheet",labelKey:"nUpPdf.pagesPerSheet",type:"select",defaultValue:"4",options:[{value:"2",labelKey:"2-up (2\xd71)"},{value:"4",labelKey:"4-up (2\xd72)"},{value:"9",labelKey:"9-up (3\xd73)"},{value:"16",labelKey:"16-up (4\xd74)"}]},{key:"pageSize",labelKey:"nUpPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"Letter",labelKey:"Letter"},{value:"Legal",labelKey:"Legal"},{value:"A3",labelKey:"A3"}]},{key:"orientation",labelKey:"nUpPdf.orientation",type:"select",defaultValue:"auto",options:[{value:"auto",labelKey:"imageToPdf.orientationAuto"},{value:"portrait",labelKey:"imageToPdf.orientationPortrait"},{value:"landscape",labelKey:"imageToPdf.orientationLandscape"}]},{key:"useMargins",labelKey:"nUpPdf.useMargins",type:"checkbox",defaultValue:!0},{key:"addBorder",labelKey:"nUpPdf.addBorder",type:"checkbox",defaultValue:!1}]},"posterize-pdf":{titleKey:"posterizePdf.optionsTitle",fields:[{key:"columns",labelKey:"posterizePdf.columns",type:"number",defaultValue:2,min:1,max:10},{key:"rows",labelKey:"posterizePdf.rows",type:"number",defaultValue:2,min:1,max:10},{key:"overlap",labelKey:"posterizePdf.overlap",type:"number",defaultValue:10,min:0,max:50}]},"grid-combine":{titleKey:"gridCombine.optionsTitle",fields:[{key:"gridLayout",labelKey:"gridCombine.gridLayout",type:"select",defaultValue:"2x2",options:[{value:"1x2",labelKey:"1\xd72 (2 cells)"},{value:"2x1",labelKey:"2\xd71 (2 cells)"},{value:"2x2",labelKey:"2\xd72 (4 cells)"},{value:"2x3",labelKey:"2\xd73 (6 cells)"},{value:"3x2",labelKey:"3\xd72 (6 cells)"},{value:"3x3",labelKey:"3\xd73 (9 cells)"},{value:"4x4",labelKey:"4\xd74 (16 cells)"}]},{key:"pageMode",labelKey:"gridCombine.pageMode",type:"select",defaultValue:"first-page-only",options:[{value:"first-page-only",labelKey:"gridCombine.firstPageOnly"},{value:"all-pages",labelKey:"gridCombine.allPages"}]},{key:"fillMode",labelKey:"gridCombine.fillMode",type:"select",defaultValue:"leave-empty",options:[{value:"leave-empty",labelKey:"gridCombine.leaveEmpty"},{value:"repeat",labelKey:"gridCombine.repeat"},{value:"stretch-last",labelKey:"gridCombine.stretchLast"}]},{key:"pageSize",labelKey:"gridCombine.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"Letter",labelKey:"Letter"},{value:"Legal",labelKey:"Legal"},{value:"A3",labelKey:"A3"}]},{key:"orientation",labelKey:"gridCombine.orientation",type:"select",defaultValue:"landscape",options:[{value:"landscape",labelKey:"common.options.landscape"},{value:"portrait",labelKey:"common.options.portrait"}]},{key:"spacing",labelKey:"gridCombine.spacing",type:"range",defaultValue:10,min:0,max:50,step:1},{key:"useMargins",labelKey:"gridCombine.useMargins",type:"checkbox",defaultValue:!0},{key:"addBorder",labelKey:"gridCombine.addBorder",type:"checkbox",defaultValue:!0},{key:"borderColor",labelKey:"gridCombine.borderColor",type:"color",defaultValue:"#CCCCCC"}]},"add-blank-page":{titleKey:"addBlankPage.optionsTitle",fields:[{key:"position",labelKey:"addBlankPage.position",type:"select",defaultValue:"end",options:[{value:"start",labelKey:"addBlankPage.positionStart"},{value:"end",labelKey:"addBlankPage.positionEnd"},{value:"after-each",labelKey:"addBlankPage.positionAfterEach"}]},{key:"pageSize",labelKey:"addBlankPage.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"AUTO",labelKey:"addBlankPage.matchSource"}]}]},"edit-metadata":{titleKey:"editMetadata.optionsTitle",fields:[{key:"title",labelKey:"editMetadata.title",type:"text",defaultValue:"",placeholderKey:"editMetadata.titlePlaceholder"},{key:"author",labelKey:"editMetadata.author",type:"text",defaultValue:"",placeholderKey:"editMetadata.authorPlaceholder"},{key:"subject",labelKey:"editMetadata.subject",type:"text",defaultValue:"",placeholderKey:"editMetadata.subjectPlaceholder"},{key:"keywords",labelKey:"editMetadata.keywords",type:"text",defaultValue:"",placeholderKey:"editMetadata.keywordsPlaceholder"}]},"compare-pdfs":{titleKey:"comparePdfs.optionsTitle",fields:[{key:"mode",labelKey:"comparePdfs.mode",type:"select",defaultValue:"visual",options:[{value:"visual",labelKey:"comparePdfs.modeVisual"},{value:"text",labelKey:"comparePdfs.modeText"},{value:"overlay",labelKey:"comparePdfs.modeOverlay"}]}]},"table-of-contents":{titleKey:"tableOfContents.options",fields:[{key:"title",labelKey:"tableOfContents.tocTitle",type:"text",defaultValue:"Table of Contents",placeholderKey:"tableOfContents.tocTitlePlaceholder"},{key:"fontSize",labelKey:"tableOfContents.fontSize",type:"select",defaultValue:"12",options:[{value:"8",labelKey:"8pt"},{value:"10",labelKey:"10pt"},{value:"12",labelKey:"12pt"},{value:"14",labelKey:"14pt"},{value:"16",labelKey:"16pt"}]},{key:"fontFamily",labelKey:"tableOfContents.fontFamily",type:"select",defaultValue:"helv",options:[{value:"times",labelKey:"Times Roman"},{value:"helv",labelKey:"Helvetica"},{value:"cour",labelKey:"Courier"}]},{key:"addBookmark",labelKey:"tableOfContents.addBookmark",type:"checkbox",defaultValue:!0}]},"background-color":{titleKey:"backgroundColor.optionsTitle",fields:[{key:"color",labelKey:"backgroundColor.color",type:"color",defaultValue:"#FFFFFF"},{key:"applyTo",labelKey:"backgroundColor.applyTo",type:"select",defaultValue:"all",options:[{value:"all",labelKey:"rotatePdf.allPages"},{value:"odd",labelKey:"rotatePdf.oddPages"},{value:"even",labelKey:"rotatePdf.evenPages"}]}]},"text-color":{titleKey:"textColor.optionsTitle",fields:[{key:"color",labelKey:"textColor.color",type:"color",defaultValue:"#000000"}]},"add-stamps":{titleKey:"addStamps.optionsTitle",fields:[{key:"stampType",labelKey:"addStamps.stampType",type:"select",defaultValue:"approved",options:[{value:"approved",labelKey:"addStamps.typeApproved"},{value:"confidential",labelKey:"addStamps.typeConfidential"},{value:"draft",labelKey:"addStamps.typeDraft"},{value:"final",labelKey:"addStamps.typeFinal"},{value:"custom",labelKey:"addStamps.typeCustom"}]},{key:"position",labelKey:"addStamps.position",type:"select",defaultValue:"center",options:[{value:"top-left",labelKey:"pageNumbers.posTopLeft"},{value:"top-center",labelKey:"pageNumbers.posTopCenter"},{value:"top-right",labelKey:"pageNumbers.posTopRight"},{value:"center",labelKey:"addStamps.posCenter"},{value:"bottom-left",labelKey:"pageNumbers.posBottomLeft"},{value:"bottom-center",labelKey:"pageNumbers.posBottomCenter"},{value:"bottom-right",labelKey:"pageNumbers.posBottomRight"}]},{key:"scale",labelKey:"addStamps.scale",type:"range",defaultValue:1,min:.5,max:2,step:.1}]},"remove-annotations":{titleKey:"removeAnnotations.optionsTitle",fields:[{key:"removeComments",labelKey:"removeAnnotations.removeComments",type:"checkbox",defaultValue:!0},{key:"removeHighlights",labelKey:"removeAnnotations.removeHighlights",type:"checkbox",defaultValue:!0},{key:"removeLinks",labelKey:"removeAnnotations.removeLinks",type:"checkbox",defaultValue:!1}]},"remove-blank-pages":{titleKey:"removeBlankPages.optionsTitle",fields:[{key:"threshold",labelKey:"removeBlankPages.threshold",type:"range",defaultValue:.99,min:.9,max:1,step:.01}]},"invert-colors":{titleKey:"invertColors.optionsTitle",fields:[]},"txt-to-pdf":{titleKey:"txtToPdf.optionsTitle",fields:[{key:"fontSize",labelKey:"txtToPdf.fontSize",type:"number",defaultValue:12,min:8,max:24},{key:"fontFamily",labelKey:"txtToPdf.fontFamily",type:"select",defaultValue:"Courier",options:[{value:"Courier",labelKey:"Courier"},{value:"Helvetica",labelKey:"Helvetica"},{value:"Times-Roman",labelKey:"Times Roman"}]},{key:"pageSize",labelKey:"txtToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"}]},{key:"margin",labelKey:"txtToPdf.margin",type:"number",defaultValue:50,min:20,max:100}]},"json-to-pdf":{titleKey:"jsonToPdf.optionsTitle",fields:[{key:"fontSize",labelKey:"jsonToPdf.fontSize",type:"number",defaultValue:10,min:8,max:18},{key:"pageSize",labelKey:"jsonToPdf.pageSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"}]}]},"sanitize-pdf":{titleKey:"sanitizePdf.optionsTitle",fields:[{key:"removeJavaScript",labelKey:"sanitizePdf.removeJavaScript",type:"checkbox",defaultValue:!0},{key:"removeAttachments",labelKey:"sanitizePdf.removeAttachments",type:"checkbox",defaultValue:!0},{key:"removeLinks",labelKey:"sanitizePdf.removeLinks",type:"checkbox",defaultValue:!0},{key:"flattenForms",labelKey:"sanitizePdf.flattenForms",type:"checkbox",defaultValue:!0},{key:"removeMetadata",labelKey:"sanitizePdf.removeMetadata",type:"checkbox",defaultValue:!0},{key:"removeAnnotations",labelKey:"sanitizePdf.removeAnnotations",type:"checkbox",defaultValue:!1}]},"change-permissions":{titleKey:"changePermissions.optionsTitle",fields:[{key:"allowPrinting",labelKey:"encryptPdf.allowPrinting",type:"checkbox",defaultValue:!0},{key:"allowCopying",labelKey:"encryptPdf.allowCopying",type:"checkbox",defaultValue:!1},{key:"allowModifying",labelKey:"encryptPdf.allowModifying",type:"checkbox",defaultValue:!1},{key:"allowAnnotating",labelKey:"encryptPdf.allowAnnotating",type:"checkbox",defaultValue:!0}]},"remove-metadata":{titleKey:"removeMetadata.optionsTitle",fields:[]},"fix-page-size":{titleKey:"fixPageSize.optionsTitle",fields:[{key:"targetSize",labelKey:"fixPageSize.targetSize",type:"select",defaultValue:"A4",options:[{value:"A4",labelKey:"A4"},{value:"LETTER",labelKey:"Letter"},{value:"LEGAL",labelKey:"Legal"},{value:"A3",labelKey:"A3"},{value:"A5",labelKey:"A5"}]}]},"remove-restrictions":{titleKey:"removeRestrictions.optionsTitle",fields:[{key:"password",labelKey:"removeRestrictions.password",type:"text",defaultValue:""}]},"repair-pdf":{titleKey:"repairPdf.optionsTitle",fields:[]},"pdf-to-json":{titleKey:"pdfToJson.optionsTitle",fields:[{key:"extractText",labelKey:"pdfToJson.extractText",type:"checkbox",defaultValue:!0},{key:"extractMetadata",labelKey:"pdfToJson.extractMetadata",type:"checkbox",defaultValue:!0}]},"extract-images":{titleKey:"extractImages.optionsTitle",fields:[{key:"format",labelKey:"extractImages.format",type:"select",defaultValue:"png",options:[{value:"png",labelKey:"PNG"},{value:"jpg",labelKey:"JPEG"},{value:"webp",labelKey:"WebP"}]},{key:"minSize",labelKey:"extractImages.minSize",type:"number",defaultValue:100,min:0,max:1e4}]},"pdf-multi-tool":{titleKey:"pdfMultiTool.optionsTitle",fields:[]},"organize-pdf":{titleKey:"organizePdf.optionsTitle",fields:[]},"reverse-pages":{titleKey:"reversePages.optionsTitle",fields:[]},"view-metadata":{titleKey:"viewMetadata.optionsTitle",fields:[]},"pdf-to-zip":{titleKey:"pdfToZip.optionsTitle",fields:[]},"edit-pdf":{titleKey:"editPdf.optionsTitle",fields:[]},"sign-pdf":{titleKey:"signPdf.optionsTitle",fields:[]},bookmark:{titleKey:"bookmark.optionsTitle",fields:[]},"form-filler":{titleKey:"formFiller.optionsTitle",fields:[]},"form-creator":{titleKey:"formCreator.optionsTitle",fields:[]},"add-attachments":{titleKey:"addAttachments.optionsTitle",fields:[]},"extract-attachments":{titleKey:"extractAttachments.optionsTitle",fields:[]},"edit-attachments":{titleKey:"editAttachments.optionsTitle",fields:[]},"page-dimensions":{titleKey:"pageDimensions.optionsTitle",fields:[]},"xps-to-pdf":{titleKey:"xpsToPdf.optionsTitle",fields:[]},"rtf-to-pdf":{titleKey:"rtfToPdf.optionsTitle",fields:[]},"mobi-to-pdf":{titleKey:"mobiToPdf.optionsTitle",fields:[]},"fb2-to-pdf":{titleKey:"fb2ToPdf.optionsTitle",fields:[]},"rotate-custom":{titleKey:"rotateCustom.optionsTitle",fields:[{key:"batchAngle",labelKey:"rotateCustom.batchAngle",type:"number",defaultValue:0,min:-360,max:360}]},"combine-single-page":{titleKey:"combineSinglePage.optionsTitle",fields:[{key:"orientation",labelKey:"combineSinglePage.orientation",type:"select",defaultValue:"vertical",options:[{value:"vertical",labelKey:"combineSinglePage.vertical"},{value:"horizontal",labelKey:"combineSinglePage.horizontal"}]},{key:"spacing",labelKey:"combineSinglePage.spacing",type:"number",defaultValue:0,min:0,max:200},{key:"backgroundColor",labelKey:"combineSinglePage.backgroundColor",type:"color",defaultValue:"#FFFFFF"},{key:"addSeparator",labelKey:"combineSinglePage.addSeparator",type:"checkbox",defaultValue:!1}]}},f=(null==t?void 0:t.data.toolId)?m[t.data.toolId]:null,g=(e,t)=>{var a,o;try{if(e.startsWith("common.")){let t=e.replace("common.",""),a=n(t);if(a&&"string"==typeof a&&!a.includes("MISSING")&&a!==t)return a}let o=s.has(e)?s(e):null;if(o&&"string"==typeof o&&!o.includes("MISSING"))return o;return t||(null==(a=e.split(".").pop())?void 0:a.replace(/([A-Z])/g," $1").trim())||e}catch(a){return t||(null==(o=e.split(".").pop())?void 0:o.replace(/([A-Z])/g," $1").trim())||e}};(0,l.useEffect)(()=>{if(t&&f){let e={};f.fields.forEach(a=>{var o,l;e[a.key]=null!=(l=null==(o=t.data.settings)?void 0:o[a.key])?l:a.defaultValue}),u(e)}},[null==t?void 0:t.id,null==t?void 0:t.data.toolId]);let y=(e,t)=>{u(a=>({...a,[e]:t}))};return t?(0,o.jsxs)("div",{className:"fixed right-0 top-0 h-full w-80 bg-[hsl(var(--color-background))] border-l border-[hsl(var(--color-border))] shadow-xl z-[100] flex flex-col animate-in slide-in-from-right duration-200",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[hsl(var(--color-border))] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(te.A,{className:"w-5 h-5 text-[hsl(var(--color-primary))]"}),(0,o.jsx)("h3",{className:"font-medium text-[hsl(var(--color-foreground))] truncate max-w-[180px]",children:(()=>{if(!t)return"";let e=(0,eN.GJ)(c,t.data.toolId);return(null==e?void 0:e.title)||t.data.label})()})]}),(0,o.jsx)("button",{onClick:a,className:"p-1.5 rounded-md hover:bg-[hsl(var(--color-muted))] transition-colors",children:(0,o.jsx)(ex.A,{className:"w-4 h-4 text-[hsl(var(--color-muted-foreground))]"})})]}),(0,o.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:f&&0!==f.fields.length?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:g(f.titleKey,"Settings")}),f.fields.map(e=>{var t,a,l;return(0,o.jsxs)("div",{className:"space-y-1.5",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--color-foreground))]",children:g(e.labelKey)}),"text"===e.type&&(0,o.jsx)("input",{type:"text",value:p[e.key]||"",onChange:t=>y(e.key,t.target.value),placeholder:e.placeholderKey?g(e.placeholderKey):void 0,className:"w-full px-3 py-2 text-sm rounded-md border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))] placeholder:text-[hsl(var(--color-muted-foreground))]"}),"number"===e.type&&(0,o.jsx)("input",{type:"number",value:null!=(a=p[e.key])?a:e.defaultValue,onChange:t=>y(e.key,Number(t.target.value)),min:e.min,max:e.max,placeholder:e.placeholderKey?g(e.placeholderKey):void 0,className:"w-full px-3 py-2 text-sm rounded-md border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))] placeholder:text-[hsl(var(--color-muted-foreground))]"}),"select"===e.type&&(0,o.jsx)("select",{value:p[e.key]||"",onChange:t=>y(e.key,t.target.value),className:"w-full px-3 py-2 text-sm rounded-md border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]",children:null==(t=e.options)?void 0:t.map(e=>(0,o.jsx)("option",{value:e.value,children:g(e.labelKey,e.labelKey)},e.value))}),"checkbox"===e.type&&(0,o.jsx)("label",{className:"flex items-center gap-2 cursor-pointer",children:(0,o.jsx)("input",{type:"checkbox",checked:p[e.key]||!1,onChange:t=>y(e.key,t.target.checked),className:"w-4 h-4 rounded border-[hsl(var(--color-border))] text-[hsl(var(--color-primary))] focus:ring-[hsl(var(--color-primary))]"})}),"range"===e.type&&(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsx)("input",{type:"range",value:null!=(l=p[e.key])?l:e.defaultValue,onChange:t=>y(e.key,Number(t.target.value)),min:e.min,max:e.max,step:e.step,className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-[hsl(var(--color-muted))]"}),(0,o.jsxs)("div",{className:"flex justify-between text-xs text-[hsl(var(--color-muted-foreground))]",children:[(0,o.jsx)("span",{children:e.min}),(0,o.jsx)("span",{className:"font-medium text-[hsl(var(--color-foreground))]",children:e.key.includes("opacity")||e.key.includes("quality")?"".concat(Math.round(100*(p[e.key]||0)),"%"):p[e.key]}),(0,o.jsx)("span",{children:e.max})]})]}),"color"===e.type&&(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"color",value:p[e.key]||"#000000",onChange:t=>y(e.key,t.target.value),className:"w-10 h-10 rounded border border-[hsl(var(--color-border))] cursor-pointer"}),(0,o.jsx)("input",{type:"text",value:p[e.key]||"",onChange:t=>y(e.key,t.target.value),className:"flex-1 px-3 py-2 text-sm rounded-md border border-[hsl(var(--color-border))] bg-[hsl(var(--color-background))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--color-primary))]"})]})]},e.key)})]}):(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)(te.A,{className:"w-12 h-12 mx-auto text-[hsl(var(--color-muted-foreground))] opacity-50"}),(0,o.jsx)("p",{className:"mt-3 text-sm text-[hsl(var(--color-muted-foreground))]",children:i("noSettings")||"No configurable settings for this tool"})]})}),f&&f.fields.length>0&&(0,o.jsxs)("div",{className:"flex items-center justify-between gap-3 px-4 py-3 border-t border-[hsl(var(--color-border))] bg-[hsl(var(--color-muted)/0.3)]",children:[(0,o.jsxs)(e_.$,{variant:"ghost",size:"sm",onClick:()=>{if(f){let e={};f.fields.forEach(t=>{e[t.key]=t.defaultValue}),u(e)}},children:[(0,o.jsx)(tt.A,{className:"w-4 h-4 mr-2"}),i("reset")||"Reset"]}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(e_.$,{variant:"outline",size:"sm",onClick:a,children:i("cancel")||"Cancel"}),(0,o.jsx)(e_.$,{variant:"primary",size:"sm",onClick:()=>{t&&(r(t.id,p),a())},children:i("apply")||"Apply"})]})]})]}):null}var to=a(97624),tl=a(37354),tr=a(70532);function ts(e){let{nodes:t,edges:r,inputFiles:s,isVisible:i,onToggle:n}=e,c=(0,d.c)("workflow"),[p,u]=(0,l.useState)([]),[m,f]=(0,l.useState)(!1),[g,y]=(0,l.useState)(!1),[b,h]=(0,l.useState)(0),v=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(!i||0===s.length)return void u([]);x()},[i,s,t,r]);let x=async()=>{if(0!==s.length){f(!0);try{let e=[];for(let o of s)if("application/pdf"===o.type){let l=await Promise.all([a.e(84),a.e(29)]).then(a.bind(a,98045)),{configurePdfjsWorker:r}=await Promise.resolve().then(a.bind(a,32096));r(l);let s=await o.arrayBuffer(),i=await l.getDocument({data:s}).promise,n=Math.min(i.numPages,4);for(let a=1;a<=n;a++){let l=await i.getPage(a),r=l.getViewport({scale:1.5}),s=document.createElement("canvas"),n=s.getContext("2d");n&&(s.height=r.height,s.width=r.width,await l.render({canvasContext:n,viewport:r}).promise,w(n,s,t),e.push({pageNumber:a,thumbnail:s.toDataURL("image/png"),source:o.name}))}}else if(o.type.startsWith("image/")){let t=URL.createObjectURL(o);e.push({pageNumber:1,thumbnail:t,source:o.name})}u(e)}catch(e){console.error("Failed to generate preview:",e)}finally{f(!1)}}},w=(e,t,a)=>{a.forEach(a=>{let{toolId:o,settings:l}=a.data;switch(o){case"add-watermark":{let a=(null==l?void 0:l.text)||"WATERMARK",o=(null==l?void 0:l.fontSize)||48,r=((null==l?void 0:l.opacity)||30)/100,s=(null==l?void 0:l.color)||"#888888",i=(null==l?void 0:l.rotation)||-45;e.save(),e.translate(t.width/2,t.height/2),e.rotate(i*Math.PI/180),e.globalAlpha=r,e.font="bold ".concat(o,"px Arial"),e.fillStyle=s,e.textAlign="center",e.textBaseline="middle",e.fillText(a,0,0),e.restore();break}case"pdf-to-greyscale":case"grayscale":{let a=e.getImageData(0,0,t.width,t.height),o=a.data;for(let e=0;e<o.length;e+=4){let t=.299*o[e]+.587*o[e+1]+.114*o[e+2];o[e]=t,o[e+1]=t,o[e+2]=t}e.putImageData(a,0,0);break}case"invert-colors":{let a=e.getImageData(0,0,t.width,t.height),o=a.data;for(let e=0;e<o.length;e+=4)o[e]=255-o[e],o[e+1]=255-o[e+1],o[e+2]=255-o[e+2];e.putImageData(a,0,0);break}case"page-numbers":{let a=(null==l?void 0:l.position)||"bottom-center",o=(null==l?void 0:l.format)||"number",r=(null==l?void 0:l.startNumber)||1,s=(null==l?void 0:l.fontSize)||12;e.save(),e.font="".concat(2*s,"px Arial"),e.fillStyle="#333333";let i="total"===o?"Page ".concat(r," of 4"):"".concat(r);"roman"===o&&(i=["I","II","III","IV","V"][r-1]||r.toString());let n=e.measureText(i).width,d=t.width/2-n/2,c=t.height-20;a.includes("top")&&(c=30),a.includes("left")&&(d=20),a.includes("right")&&(d=t.width-n-20),e.fillText(i,d,c),e.restore();break}case"compress-pdf":e.save(),e.globalAlpha=.1,e.fillStyle="#00ff00",e.fillRect(0,0,t.width,t.height),e.restore()}})};return i?(0,o.jsxs)("div",{ref:v,className:"\n        fixed z-40 bg-[hsl(var(--color-background))] border border-[hsl(var(--color-border))] rounded-lg shadow-2xl\n        transition-all duration-300\n        ".concat(g?"inset-4":"bottom-4 right-4 w-80 h-96","\n      "),children:[(0,o.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-[hsl(var(--color-border))] bg-[hsl(var(--color-muted)/0.3)] rounded-t-lg",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(eY.A,{className:"w-4 h-4 text-[hsl(var(--color-primary))]"}),(0,o.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--color-foreground))]",children:c("preview")||"Preview"}),m&&(0,o.jsx)(eR.A,{className:"w-3 h-3 text-[hsl(var(--color-muted-foreground))] animate-spin"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("button",{onClick:()=>x(),className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",title:"Refresh preview",children:(0,o.jsx)(eR.A,{className:"w-3.5 h-3.5 text-[hsl(var(--color-muted-foreground))]"})}),(0,o.jsx)("button",{onClick:()=>y(!g),className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",children:g?(0,o.jsx)(to.A,{className:"w-3.5 h-3.5 text-[hsl(var(--color-muted-foreground))]"}):(0,o.jsx)(tl.A,{className:"w-3.5 h-3.5 text-[hsl(var(--color-muted-foreground))]"})}),(0,o.jsx)("button",{onClick:n,className:"p-1.5 rounded hover:bg-[hsl(var(--color-muted))] transition-colors",children:(0,o.jsx)(ex.A,{className:"w-3.5 h-3.5 text-[hsl(var(--color-muted-foreground))]"})})]})]}),(0,o.jsx)("div",{className:"flex-1 overflow-hidden",style:{height:"calc(100% - 44px)"},children:0===s.length?(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[(0,o.jsx)(tr.A,{className:"w-12 h-12 text-[hsl(var(--color-muted-foreground))] opacity-50"}),(0,o.jsx)("p",{className:"mt-3 text-sm text-[hsl(var(--color-muted-foreground))]",children:c("noFilesForPreview")||"Select files to see preview"})]}):m?(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,o.jsx)("div",{className:"w-8 h-8 border-3 border-[hsl(var(--color-primary))] border-t-transparent rounded-full animate-spin"}),(0,o.jsx)("p",{className:"mt-3 text-sm text-[hsl(var(--color-muted-foreground))]",children:c("generatingPreview")||"Generating preview..."})]}):0===p.length?(0,o.jsx)("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:(0,o.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))]",children:c("noPreviewAvailable")||"No preview available"})}):(0,o.jsxs)("div",{className:"flex h-full",children:[(0,o.jsx)("div",{className:"w-20 border-r border-[hsl(var(--color-border))] overflow-y-auto p-2 space-y-2",children:p.map((e,t)=>(0,o.jsx)("button",{onClick:()=>h(t),className:"\n                    w-full aspect-[3/4] rounded overflow-hidden border-2 transition-all\n                    ".concat(t===b?"border-[hsl(var(--color-primary))] ring-2 ring-[hsl(var(--color-primary)/0.3)]":"border-[hsl(var(--color-border))] hover:border-[hsl(var(--color-primary)/0.5)]","\n                  "),children:(0,o.jsx)("img",{src:e.thumbnail,alt:"Page ".concat(e.pageNumber),className:"w-full h-full object-cover"})},t))}),(0,o.jsx)("div",{className:"flex-1 flex items-center justify-center p-4 bg-[hsl(var(--color-muted)/0.2)]",children:p[b]&&(0,o.jsx)("img",{src:p[b].thumbnail,alt:"Preview page ".concat(p[b].pageNumber),className:"max-w-full max-h-full object-contain rounded shadow-lg"})})]})})]}):(0,o.jsxs)("button",{onClick:n,className:"fixed bottom-4 right-4 z-40 flex items-center gap-2 px-4 py-2 bg-[hsl(var(--color-primary))] text-white rounded-lg shadow-lg hover:bg-[hsl(var(--color-primary)/0.9)] transition-colors",children:[(0,o.jsx)(eY.A,{className:"w-4 h-4"}),c("showPreview")||"Show Preview"]})}var ti=a(14122),tn=a(96548);let td={toolNode:ew},tc={type:"smoothstep",animated:!1,style:{strokeWidth:2,stroke:"#6366f1"}},tp=0;function tu(){let e=(0,d.c)("workflow"),t=(0,l.useRef)(null),[a,m]=(0,l.useState)(null),[f,g,y]=(0,r.ck)([]),[b,h,v]=(0,r.fM)([]),[x,w]=(0,l.useState)([]),[k,K]=(0,l.useState)(null),[N,P]=(0,l.useState)(!1),[T,j]=(0,l.useState)(!1),[A,F]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),[z,V]=(0,l.useState)([]),{canUndo:I,canRedo:E,pushHistory:L,undo:D,redo:R,clearHistory:M}=function(){let[e,t]=(0,l.useState)(-1),a=(0,l.useRef)([]),o=(0,l.useRef)(!1),r=e>0,s=e<a.current.length-1,i=(0,l.useCallback)((l,r)=>{if(o.current){o.current=!1;return}let s={nodes:JSON.parse(JSON.stringify(l)),edges:JSON.parse(JSON.stringify(r))};e<a.current.length-1&&(a.current=a.current.slice(0,e+1)),a.current.push(s),a.current.length>50?a.current.shift():t(e=>e+1)},[e]),n=(0,l.useCallback)(()=>{if(!r)return null;o.current=!0;let l=e-1;return t(l),a.current[l]},[r,e]),d=(0,l.useCallback)(()=>{if(!s)return null;o.current=!0;let l=e+1;return t(l),a.current[l]},[s,e]),c=(0,l.useCallback)(()=>{a.current=[],t(-1)},[]);return{historyIndex:e,historyLength:a.current.length,canUndo:r,canRedo:s,pushHistory:i,undo:n,redo:d,clearHistory:c}}(),[W,Z]=(0,l.useState)({status:"idle",currentNodeId:null,executedNodes:[],pendingNodes:[],progress:0});(0,l.useEffect)(()=>{w(eg())},[]),(0,l.useEffect)(()=>{(f.length>0||b.length>0)&&L(f,b)},[f.length,b.length]),(0,l.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"z"===e.key&&(e.shiftKey?(e.preventDefault(),U()):(e.preventDefault(),O())),(e.metaKey||e.ctrlKey)&&"y"===e.key&&(e.preventDefault(),U())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[I,E]);let B=(0,l.useMemo)(()=>(function(e,t){let a=[],o=[];if(0===e.length)return a.push({message:"Workflow is empty. Add at least one tool node.",type:"missing-input"}),{isValid:!1,errors:a,warnings:o};if(null===c(e,t))return a.push({message:"Workflow contains a cycle. Remove circular connections.",type:"cycle"}),{isValid:!1,errors:a,warnings:o};t.forEach(t=>{let o=e.find(e=>e.id===t.source),l=e.find(e=>e.id===t.target);if(o&&l){let e=u(o,l);e.isValid||a.push({edgeId:t.id,message:e.message||"Invalid connection",type:"format"})}});let l=p(e,t),r=new Set,s=e=>{!r.has(e)&&(r.add(e),t.filter(t=>t.source===e).map(e=>e.target).forEach(s))};return l.forEach(e=>s(e.id)),e.forEach(e=>{!r.has(e.id)&&t.length>0&&o.push({nodeId:e.id,message:'Node "'.concat(e.data.label,'" is not connected to the main workflow.')})}),l.length>1&&o.push({message:"Workflow has ".concat(l.length," input nodes. Files will be processed by each independently.")}),{isValid:0===a.length,errors:a,warnings:o}})(f,b),[f,b]),O=(0,l.useCallback)(()=>{let e=D();e&&(g(e.nodes),h(e.edges))},[D,g,h]),U=(0,l.useCallback)(()=>{let e=R();e&&(g(e.nodes),h(e.edges))},[R,g,h]),G=(0,l.useCallback)(e=>{let t=f.find(t=>t.id===e.source),a=f.find(t=>t.id===e.target);if(t&&a){let e=u(t,a);if(!e.isValid)return void console.warn("Invalid connection:",e.message)}h(t=>(0,r.rN)({...e,type:"smoothstep",animated:!1,style:{strokeWidth:2,stroke:"#6366f1"}},t))},[f,h]),J=(0,l.useCallback)((e,t)=>{K(t),P(!0)},[]),_=(0,l.useCallback)((e,t)=>{g(a=>a.map(a=>a.id===e?{...a,data:{...a.data,settings:t}}:a))},[g]),q=(0,l.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),H=(0,l.useCallback)(e=>{if(e.preventDefault(),!t.current||!a)return;t.current.getBoundingClientRect();let o=e.dataTransfer.getData("application/reactflow");if(!o)return;let l=JSON.parse(o),r=a.screenToFlowPosition({x:e.clientX,y:e.clientY}),s={id:"node_".concat(tp++),type:"toolNode",position:r,data:{...l,settings:{}}};g(e=>e.concat(s))},[a,g]),$=(0,l.useCallback)((e,t)=>{e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.effectAllowed="move"},[]);(0,l.useCallback)(e=>{V(e)},[]);let Y=(0,l.useCallback)(async e=>{V(e);let t=c(f,b);if(!t)return void console.error("Cannot execute workflow with cycles");Z({status:"running",currentNodeId:null,executedNodes:[],pendingNodes:[...t],progress:0,startTime:new Date}),g(e=>e.map(e=>({...e,data:{...e.data,status:"idle",progress:0,error:void 0}})));try{let o=p(f,b);g(t=>t.map(t=>o.some(e=>e.id===t.id)?{...t,data:{...t.data,inputFiles:e}}:t));let l=new Map;for(let o=0;o<t.length;o++){let r=t[o],s=f.find(e=>e.id===r);if(!s)continue;Z(e=>({...e,currentNodeId:r,progress:Math.round(o/t.length*100)})),g(e=>e.map(e=>e.id===r?{...e,data:{...e.data,status:"processing",progress:0}}:e));let i=function(e,t,a,o){let l=a.filter(t=>t.target===e);if(0===l.length){let a=t.find(t=>t.id===e);return(null==a?void 0:a.data.inputFiles)?a.data.inputFiles:[]}let r=[];for(let e of l){let t=o.get(e.source);t&&r.push(...t)}return r}(r,f,b,l),n=i.length>0?i:e,d=await em(s,n,e=>{g(t=>t.map(t=>t.id===r?{...t,data:{...t.data,progress:Math.min(e,100)}}:t))});if(!d.success){var a;throw g(e=>e.map(e=>{var t;return e.id===r?{...e,data:{...e.data,status:"error",error:null==(t=d.error)?void 0:t.message}}:e})),Error((null==(a=d.error)?void 0:a.message)||"Processing failed")}let c=[];d.result&&(c=Array.isArray(d.result)?d.result:d.filename?[{blob:d.result,filename:d.filename}]:[d.result]),l.set(r,c),g(e=>e.map(e=>e.id===r?{...e,data:{...e.data,status:"complete",progress:100,outputFiles:c}}:e)),Z(e=>({...e,executedNodes:[...e.executedNodes,r],pendingNodes:e.pendingNodes.filter(e=>e!==r)}))}let r=t[t.length-1],s=l.get(r)||[];Z(e=>({...e,status:"complete",currentNodeId:null,progress:100,endTime:new Date,outputFiles:s}))}catch(e){Z(t=>({...t,status:"error",error:{nodeId:t.currentNodeId||"",message:e instanceof Error?e.message:"Unknown error"}}))}},[f,b,g]),X=(0,l.useCallback)(()=>{Z(e=>({...e,status:"idle",currentNodeId:null})),g(e=>e.map(e=>({...e,data:{...e.data,status:"idle",progress:0}})))},[g]),Q=(0,l.useCallback)((e,t)=>{ey(e,f,b,t),w(eg())},[f,b]),ee=(0,l.useCallback)(e=>{g(e.nodes),h(e.edges),M()},[g,h,M]),et=(0,l.useCallback)(e=>{g(e.nodes),h(e.edges),M()},[g,h,M]),ea=(0,l.useCallback)(()=>{g([]),h([]),K(null),P(!1),M(),Z({status:"idle",currentNodeId:null,executedNodes:[],pendingNodes:[],progress:0})},[g,h,M]),eo=(0,l.useCallback)(e=>{!function(e){try{let t=eg().filter(t=>t.id!==e);localStorage.setItem(ef,JSON.stringify(t))}catch(e){return console.error("Failed to delete workflow:",e),!1}}(e),w(eg())},[]),el=(0,l.useCallback)(e=>{!function(e){let t=eg().find(t=>t.id===e);t&&ey("".concat(t.name," (Copy)"),t.nodes,t.edges,t.description)}(e),w(eg())},[]),er=(0,l.useCallback)(e=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download="".concat(e.name.replace(/[^a-z0-9]/gi,"_"),".workflow.json"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},[]),es=(0,l.useCallback)(async e=>{let t=await eb(e);t&&(w(eg()),ee(t))},[ee]);return(0,o.jsxs)("div",{className:"flex h-full relative",children:[(0,o.jsx)(eS,{onDragStart:$,isCollapsed:A,onToggleCollapse:()=>F(!A)}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)(e7,{nodes:f,edges:b,executionState:W,validation:B,onExecute:Y,onStop:X,onSave:Q,onClear:ea,onImport:es,onFilesChange:V})})}),(0,o.jsxs)("div",{className:"flex-1 relative",ref:t,children:[(0,o.jsxs)("div",{className:"absolute top-2 left-2 z-10 flex gap-1",children:[(0,o.jsx)("button",{onClick:O,disabled:!I,className:"\n                                p-2 rounded-lg bg-[hsl(var(--color-background))] border border-[hsl(var(--color-border))] shadow-sm\n                                ".concat(I?"hover:bg-[hsl(var(--color-muted))] cursor-pointer":"opacity-50 cursor-not-allowed","\n                            "),title:"".concat(e("undo")||"Undo"," (Ctrl+Z)"),children:(0,o.jsx)(ti.A,{className:"w-4 h-4 text-[hsl(var(--color-foreground))]"})}),(0,o.jsx)("button",{onClick:U,disabled:!E,className:"\n                                p-2 rounded-lg bg-[hsl(var(--color-background))] border border-[hsl(var(--color-border))] shadow-sm\n                                ".concat(E?"hover:bg-[hsl(var(--color-muted))] cursor-pointer":"opacity-50 cursor-not-allowed","\n                            "),title:"".concat(e("redo")||"Redo"," (Ctrl+Shift+Z)"),children:(0,o.jsx)(tn.A,{className:"w-4 h-4 text-[hsl(var(--color-foreground))]"})})]}),(0,o.jsxs)(r.Gc,{nodes:f,edges:b,onNodesChange:y,onEdgesChange:v,onConnect:G,onInit:m,onDrop:H,onDragOver:q,onNodeClick:J,nodeTypes:td,defaultEdgeOptions:tc,connectionMode:r.WZ.Loose,fitView:!0,snapToGrid:!0,snapGrid:[15,15],children:[(0,o.jsx)(s.H,{}),(0,o.jsx)(i.o,{nodeStrokeWidth:3,zoomable:!0,pannable:!0}),(0,o.jsx)(n.V,{variant:n._.Dots,gap:12,size:1}),0===f.length&&(0,o.jsx)(r.Zk,{position:"top-center",className:"mt-20",children:(0,o.jsxs)("div",{className:"text-center p-8 bg-[hsl(var(--color-background))] rounded-lg border border-dashed border-[hsl(var(--color-border))] shadow-sm",children:[(0,o.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[hsl(var(--color-muted))] flex items-center justify-center",children:(0,o.jsxs)("svg",{className:"w-8 h-8 text-[hsl(var(--color-muted-foreground))]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,o.jsx)("path",{d:"M4 14h6v6H4zM14 4h6v6h-6z"}),(0,o.jsx)("path",{d:"M7 4v10M17 14v6M4 17h6M14 7h6"})]})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-[hsl(var(--color-foreground))]",children:e("emptyTitle")||"Create Your Workflow"}),(0,o.jsx)("p",{className:"text-sm text-[hsl(var(--color-muted-foreground))] mt-2 max-w-sm",children:e("emptyDescription")||"Drag tools from the sidebar to build your PDF processing pipeline. Connect nodes to define the processing order."}),(0,o.jsx)("p",{className:"text-xs text-[hsl(var(--color-muted-foreground))] mt-4",children:e("clickHint")||"Click a node to configure its settings"})]})})]})]})]}),(0,o.jsx)(eJ,{savedWorkflows:x,onLoadTemplate:et,onLoadWorkflow:ee,onDeleteWorkflow:eo,onDuplicateWorkflow:el,onExportWorkflow:er,isCollapsed:C,onToggleCollapse:()=>S(!C)}),N&&(0,o.jsx)(ta,{node:k,onClose:()=>P(!1),onUpdateSettings:_}),(0,o.jsx)(ts,{nodes:f,edges:b,inputFiles:z,isVisible:T,onToggle:()=>j(!T)})]})}function tm(){return(0,o.jsx)(r.Ln,{children:(0,o.jsx)(tu,{})})}let tf=tm}}]);